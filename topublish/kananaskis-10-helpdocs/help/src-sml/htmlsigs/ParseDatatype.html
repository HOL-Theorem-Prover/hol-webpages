<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon">
<meta http-equiv="content-type" content="text/html ; charset=UTF-8">
<title>Structure ParseDatatype</title>
<style type="text/css">
<!--
  body {background: #fbf2e7}
-->
</style></head>
<body>
<h1>Structure ParseDatatype</h1>
<hr><table width="100%"><tr align = center>
<th><a href="../../../src/parse/ParseDatatype.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<pre>
<a name="line1"></a>signature ParseDatatype =
<a name="line2"></a>sig
<a name="line3"></a>
<a name="line4"></a> datatype pretype =
<a name="line5"></a>   dVartype of string
<a name="line6"></a> | dTyop of {Tyop : string, Thy : string option, Args : pretype list}
<a name="line7"></a> | dAQ of Type.hol_type
<a name="line8"></a>
<a name="line9"></a> val pretypeToType : pretype -&gt; Type.hol_type
<a name="line10"></a>
<a name="line11"></a> type field       = string * pretype
<a name="line12"></a> type constructor = string * pretype list
<a name="line13"></a>
<a name="line14"></a> datatype datatypeForm =
<a name="line15"></a>   Constructors of constructor list
<a name="line16"></a> | Record of field list
<a name="line17"></a>
<a name="line18"></a> type AST = string * datatypeForm
<a name="line19"></a>
<a name="line20"></a> val parse : Type.hol_type Portable.quotation -&gt; AST list
<a name="line21"></a>
<a name="line22"></a>(*---------------------------------------------------------------------------
<a name="line23"></a>  Grammar we're parsing is:
<a name="line24"></a>
<a name="line25"></a>      G            ::=  id "=" &lt;form&gt; (";" id "=" &lt;form&gt;)*
<a name="line26"></a>      form         ::=  &lt;phrase&gt; ( "|" &lt;phrase&gt; ) *  |  &lt;record_defn&gt;
<a name="line27"></a>      phrase       ::=  id  | id "of" &lt;ptype&gt; ( "=&gt;" &lt;ptype&gt; ) *
<a name="line28"></a>      record_defn  ::=  "&lt;|"  &lt;idtype_pairs&gt; "|&gt;"
<a name="line29"></a>      idtype_pairs ::=  id ":" &lt;type&gt; | id : &lt;type&gt; ";" &lt;idtype_pairs&gt;
<a name="line30"></a>      ptype        ::=  &lt;type&gt; | "(" &lt;type&gt; ")"
<a name="line31"></a>
<a name="line32"></a>  It had better be the case that =&gt; is not a type infix.  This is true of
<a name="line33"></a>  the standard HOL distribution.  In the event that =&gt; is an infix, this
<a name="line34"></a>  code will still work as long as the input puts the types in parentheses.
<a name="line35"></a> ---------------------------------------------------------------------------*)
<a name="line36"></a>
<a name="line37"></a>val hparse : Type.hol_type Portable.quotation -&gt; AST list
<a name="line38"></a>
<a name="line39"></a>(* The grammar for hparse is:
<a name="line40"></a>
<a name="line41"></a>   G        ::= id "=" &lt;form&gt; (";" id "=" &lt;form&gt;)*
<a name="line42"></a>   form     ::= "|"? &lt;phrase&gt; ( "|" &lt;phrase&gt; )* | &lt;record_defn&gt;
<a name="line43"></a>   phrase   ::= id &lt;typarg&gt;*
<a name="line44"></a>   typarg   ::= atomic-typ | "(" &lt;type&gt; ")"
<a name="line45"></a>
<a name="line46"></a>  where record_defn is as above, and an atomic-typ is either a type variable,
<a name="line47"></a>  or a type-constant of arity 0, or one of the types being defined.
<a name="line48"></a>*)
<a name="line49"></a>
<a name="line50"></a>end
<a name="line51"></a>
</pre><hr><table width="100%"><tr align = center>
<th><a href="../../../src/parse/ParseDatatype.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<p><em><a href="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Kananaskis-10</a></em></p></body></html>
