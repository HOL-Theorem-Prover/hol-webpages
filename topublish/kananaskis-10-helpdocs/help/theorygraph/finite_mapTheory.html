<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: finite_map</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "finite_map"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "sortingTheory.html"><span class="strong">sorting</span></a>

<h1>Signature</h1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr> <th> Type <th> Arity<tr><td> <span class="strong">fmap</span> <td> 2
    <tr>
    <th>
    Constant
    <th>
    Type<tr><td>
            <span class="strong">DRESTRICT</span>
            <td>
            :(Œ± |-> Œ≤) -> (Œ± -> bool) -> (Œ± |-> Œ≤)
    <tr><td> <span class="strong">FAPPLY</span> <td> :(Œ± |-> Œ≤) -> Œ± -> Œ≤
    <tr><td> <span class="strong">FCARD</span> <td> :(Œ± |-> Œ≤) -> num
    <tr><td> <span class="strong">FDOM</span> <td> :(Œ± |-> Œ≤) -> Œ± -> bool
    <tr><td> <span class="strong">FEMPTY</span> <td> :Œ± |-> Œ≤
    <tr><td>
        <span class="strong">FEVERY</span>
        <td>
        :(Œ± # Œ≤ -> bool) -> (Œ± |-> Œ≤) -> bool
    <tr><td>
        <span class="strong">FLOOKUP</span>
        <td>
        :(Œ± |-> Œ≤) -> Œ± -> Œ≤ option
    <tr><td>
        <span class="strong">FMAP_MAP2</span>
        <td>
        :(Œ± # Œ≥ -> Œ≤) -> (Œ± |-> Œ≥) -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">FMERGE</span>
        <td>
        :(Œ± -> Œ± -> Œ±) -> (Œ≤ |-> Œ±) -> (Œ≤ |-> Œ±) -> (Œ≤ |-> Œ±)
    <tr><td> <span class="strong">FRANGE</span> <td> :(Œ± |-> Œ≤) -> Œ≤ -> bool
    <tr><td>
        <span class="strong">FUNION</span>
        <td>
        :(Œ± |-> Œ≤) -> (Œ± |-> Œ≤) -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">FUN_FMAP</span>
        <td>
        :(Œ± -> Œ≤) -> (Œ± -> bool) -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">FUPDATE</span>
        <td>
        :(Œ± |-> Œ≤) -> Œ± # Œ≤ -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">FUPDATE_LIST</span>
        <td>
        :(Œ± |-> Œ≤) -> (Œ±, Œ≤) alist -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">MAP_KEYS</span>
        <td>
        :(Œ± -> Œ≤) -> (Œ± |-> Œ≥) -> (Œ≤ |-> Œ≥)
    <tr><td>
        <span class="strong">RRESTRICT</span>
        <td>
        :(Œ± |-> Œ≤) -> (Œ≤ -> bool) -> (Œ± |-> Œ≤)
    <tr><td> <span class="strong">SUBMAP</span> <td> :(Œ± |-> Œ≤) reln
    <tr><td>
        <span class="strong">f_o</span>
        <td>
        :(Œ≤ |-> Œ≥) -> (Œ± -> Œ≤) -> (Œ± |-> Œ≥)
    <tr><td>
        <span class="strong">f_o_f</span>
        <td>
        :(Œ≤ |-> Œ≥) -> (Œ± |-> Œ≤) -> (Œ± |-> Œ≥)
    <tr><td>
        <span class="strong">fdomsub</span>
        <td>
        :(Œ± |-> Œ≤) -> Œ± -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">fmap_ABS</span>
        <td>
        :(Œ± -> Œ≤ + unit) -> (Œ± |-> Œ≤)
    <tr><td>
        <span class="strong">fmap_EQ_UPTO</span>
        <td>
        :(Œ± |-> Œ≤) -> (Œ± |-> Œ≤) -> (Œ± -> bool) -> bool
    <tr><td>
        <span class="strong">fmap_REP</span>
        <td>
        :(Œ± |-> Œ≤) -> Œ± -> Œ≤ + unit
    <tr><td>
        <span class="strong">fmap_inverse</span>
        <td>
        :(Œ± |-> Œ≤) -> (Œ≤ |-> Œ±) -> bool
    <tr><td>
        <span class="strong">fmap_rel</span>
        <td>
        :(Œ± -> Œ≤ -> bool) -> (Œ≥ |-> Œ±) -> (Œ≥ |-> Œ≤) -> bool
    <tr><td>
        <span class="strong">fmap_size</span>
        <td>
        :(Œ± -> num) -> (Œ≤ -> num) -> (Œ± |-> Œ≤) -> num
    <tr><td> <span class="strong">is_fmap</span> <td> :(Œ± -> Œ≤ + unit) -> bool
    <tr><td>
        <span class="strong">o_f</span>
        <td>
        :(Œ≤ -> Œ≥) -> (Œ± |-> Œ≤) -> (Œ± |-> Œ≥)

</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">fmap_inverse_def</span>
<DD>
<pre>
|- ‚àÄm1 m2.
     fmap_inverse m1 m2 ‚áî
     ‚àÄk. k ‚àà FDOM m1 ‚áí ‚àÉv. (FLOOKUP m1 k = SOME v) ‚àß (FLOOKUP m2 v = SOME k)
</pre>

<DT><span class="strong">FMAP_MAP2_def</span>
<DD>
<pre>
|- ‚àÄf m. FMAP_MAP2 f m = FUN_FMAP (Œªx. f (x,m ' x)) (FDOM m)
</pre>

<DT><span class="strong">FUPDATE_LIST</span>
<DD>
<pre>
|- $|++ = FOLDL $|+
</pre>

<DT><span class="strong">SUBMAP_DEF</span>
<DD>
<pre>
|- ‚àÄf g. f ‚äë g ‚áî ‚àÄx. x ‚àà FDOM f ‚áí x ‚àà FDOM g ‚àß (f ' x = g ' x)
</pre>

<DT><span class="strong">FCARD_DEF</span>
<DD>
<pre>
|- ‚àÄfm. FCARD fm = CARD (FDOM fm)
</pre>

<DT><span class="strong">FDOM_DEF</span>
<DD>
<pre>
|- ‚àÄf x. FDOM f x ‚áî ISL (fmap_REP f x)
</pre>

<DT><span class="strong">FAPPLY_DEF</span>
<DD>
<pre>
|- ‚àÄf x. f ' x = OUTL (fmap_REP f x)
</pre>

<DT><span class="strong">FEMPTY_DEF</span>
<DD>
<pre>
|- FEMPTY = fmap_ABS (Œªa. INR ())
</pre>

<DT><span class="strong">FUPDATE_DEF</span>
<DD>
<pre>
|- ‚àÄf x y. f |+ (x,y) = fmap_ABS (Œªa. if a = x then INL y else fmap_REP f a)
</pre>

<DT><span class="strong">fmap_ISO_DEF</span>
<DD>
<pre>
|- (‚àÄa. fmap_ABS (fmap_REP a) = a) ‚àß
   ‚àÄr. is_fmap r ‚áî (fmap_REP (fmap_ABS r) = r)
</pre>

<DT><span class="strong">fmap_TY_DEF</span>
<DD>
<pre>
|- ‚àÉrep. TYPE_DEFINITION is_fmap rep
</pre>

<DT><span class="strong">is_fmap_def</span>
<DD>
<pre>
|- is_fmap =
   (Œªa0.
      ‚àÄis_fmap'.
        (‚àÄa0.
           (a0 = (Œªa. INR ())) ‚à®
           (‚àÉf a b. (a0 = (Œªx. if x = a then INL b else f x)) ‚àß is_fmap' f) ‚áí
           is_fmap' a0) ‚áí
        is_fmap' a0)
</pre>

<DT><span class="strong">DRESTRICT_DEF</span>
<DD>
<pre>
|- ‚àÄf r.
     (FDOM (DRESTRICT f r) = FDOM f ‚à© r) ‚àß
     ‚àÄx. DRESTRICT f r ' x = if x ‚àà FDOM f ‚à© r then f ' x else FEMPTY ' x
</pre>

<DT><span class="strong">FUNION_DEF</span>
<DD>
<pre>
|- ‚àÄf g.
     (FDOM (f ‚äå g) = FDOM f ‚à™ FDOM g) ‚àß
     ‚àÄx. (f ‚äå g) ' x = if x ‚àà FDOM f then f ' x else g ' x
</pre>

<DT><span class="strong">fmap_domsub</span>
<DD>
<pre>
|- ‚àÄfm k. fm \\ k = DRESTRICT fm (COMPL {k})
</pre>

<DT><span class="strong">f_o_DEF</span>
<DD>
<pre>
|- ‚àÄf g. f f_o g = f f_o_f FUN_FMAP g {x | g x ‚àà FDOM f}
</pre>

<DT><span class="strong">FUN_FMAP_DEF</span>
<DD>
<pre>
|- ‚àÄf P.
     FINITE P ‚áí
     (FDOM (FUN_FMAP f P) = P) ‚àß ‚àÄx. x ‚àà P ‚áí (FUN_FMAP f P ' x = f x)
</pre>

<DT><span class="strong">RRESTRICT_DEF</span>
<DD>
<pre>
|- ‚àÄf r.
     (FDOM (RRESTRICT f r) = {x | x ‚àà FDOM f ‚àß f ' x ‚àà r}) ‚àß
     ‚àÄx.
       RRESTRICT f r ' x =
       if x ‚àà FDOM f ‚àß f ' x ‚àà r then f ' x else FEMPTY ' x
</pre>

<DT><span class="strong">FRANGE_DEF</span>
<DD>
<pre>
|- ‚àÄf. FRANGE f = {y | ‚àÉx. x ‚àà FDOM f ‚àß (f ' x = y)}
</pre>

<DT><span class="strong">o_f_DEF</span>
<DD>
<pre>
|- ‚àÄf g.
     (FDOM (f o_f g) = FDOM g) ‚àß
     ‚àÄx. x ‚àà FDOM (f o_f g) ‚áí ((f o_f g) ' x = f (g ' x))
</pre>

<DT><span class="strong">f_o_f_DEF</span>
<DD>
<pre>
|- ‚àÄf g.
     (FDOM (f f_o_f g) = FDOM g ‚à© {x | g ' x ‚àà FDOM f}) ‚àß
     ‚àÄx. x ‚àà FDOM (f f_o_f g) ‚áí ((f f_o_f g) ' x = f ' (g ' x))
</pre>

<DT><span class="strong">FEVERY_DEF</span>
<DD>
<pre>
|- ‚àÄP f. FEVERY P f ‚áî ‚àÄx. x ‚àà FDOM f ‚áí P (x,f ' x)
</pre>

<DT><span class="strong">FLOOKUP_DEF</span>
<DD>
<pre>
|- ‚àÄf x. FLOOKUP f x = if x ‚àà FDOM f then SOME (f ' x) else NONE
</pre>

<DT><span class="strong">FMERGE_DEF</span>
<DD>
<pre>
|- ‚àÄm f g.
     (FDOM (FMERGE m f g) = FDOM f ‚à™ FDOM g) ‚àß
     ‚àÄx.
       FMERGE m f g ' x =
       if x ‚àâ FDOM f then g ' x
       else if x ‚àâ FDOM g then f ' x
       else m (f ' x) (g ' x)
</pre>

<DT><span class="strong">MAP_KEYS_def</span>
<DD>
<pre>
|- ‚àÄf fm.
     (FDOM (MAP_KEYS f fm) = IMAGE f (FDOM fm)) ‚àß
     (INJ f (FDOM fm) ùïå(:Œ≤) ‚áí
      ‚àÄx. x ‚àà FDOM fm ‚áí (MAP_KEYS f fm ' (f x) = fm ' x))
</pre>

<DT><span class="strong">fmap_rel_def</span>
<DD>
<pre>
|- ‚àÄR f1 f2.
     fmap_rel R f1 f2 ‚áî
     (FDOM f2 = FDOM f1) ‚àß ‚àÄx. x ‚àà FDOM f1 ‚áí R (f1 ' x) (f2 ' x)
</pre>

<DT><span class="strong">fmap_EQ_UPTO_def</span>
<DD>
<pre>
|- ‚àÄf1 f2 vs.
     fmap_EQ_UPTO f1 f2 vs ‚áî
     (FDOM f1 ‚à© COMPL vs = FDOM f2 ‚à© COMPL vs) ‚àß
     ‚àÄx. x ‚àà FDOM f1 ‚à© COMPL vs ‚áí (f1 ' x = f2 ' x)
</pre>

<DT><span class="strong">fmap_size_def</span>
<DD>
<pre>
|- ‚àÄkz vz fm. fmap_size kz vz fm = ‚àë (Œªk. kz k + vz (fm ' k)) (FDOM fm)
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">fevery_funion</span>
<DD>
<pre>
|- ‚àÄP m1 m2. FEVERY P m1 ‚àß FEVERY P m2 ‚áí FEVERY P (m1 ‚äå m2)
</pre>

<DT><span class="strong">drestrict_iter_list</span>
<DD>
<pre>
|- ‚àÄm l. FOLDR (Œªk m. m \\ k) m l = DRESTRICT m (COMPL (LIST_TO_SET l))
</pre>

<DT><span class="strong">disjoint_drestrict</span>
<DD>
<pre>
|- ‚àÄs m. DISJOINT s (FDOM m) ‚áí (DRESTRICT m (COMPL s) = m)
</pre>

<DT><span class="strong">fmap_to_list</span>
<DD>
<pre>
|- ‚àÄm. ‚àÉl. ALL_DISTINCT (MAP FST l) ‚àß (m = FEMPTY |++ l)
</pre>

<DT><span class="strong">fupdate_list_foldl</span>
<DD>
<pre>
|- ‚àÄm l. FOLDL (Œªenv (k,v). env |+ (k,v)) m l = m |++ l
</pre>

<DT><span class="strong">fupdate_list_foldr</span>
<DD>
<pre>
|- ‚àÄm l. FOLDR (Œª(k,v) env. env |+ (k,v)) m l = m |++ REVERSE l
</pre>

<DT><span class="strong">FUPDATE_EQ_FUPDATE_LIST</span>
<DD>
<pre>
|- ‚àÄfm kv. fm |+ kv = fm |++ [kv]
</pre>

<DT><span class="strong">flookup_thm</span>
<DD>
<pre>
|- ‚àÄf x v.
     ((FLOOKUP f x = NONE) ‚áî x ‚àâ FDOM f) ‚àß
     ((FLOOKUP f x = SOME v) ‚áî x ‚àà FDOM f ‚àß (f ' x = v))
</pre>

<DT><span class="strong">fdom_fupdate_list2</span>
<DD>
<pre>
|- ‚àÄkvl fm.
     FDOM (fm |++ kvl) =
     FDOM fm DIFF LIST_TO_SET (MAP FST kvl) ‚à™ LIST_TO_SET (MAP FST kvl)
</pre>

<DT><span class="strong">fupdate_list_map</span>
<DD>
<pre>
|- ‚àÄl f x y.
     x ‚àà FDOM (FEMPTY |++ l) ‚áí
     ((FEMPTY |++ MAP (Œª(a,b). (a,f b)) l) ' x = f ((FEMPTY |++ l) ' x))
</pre>

<DT><span class="strong">fmap_eq_flookup</span>
<DD>
<pre>
|- ‚àÄm1 m2. (m1 = m2) ‚áî ‚àÄk. FLOOKUP m1 k = FLOOKUP m2 k
</pre>

<DT><span class="strong">fmap_rel_sym</span>
<DD>
<pre>
|- (‚àÄx y. R x y ‚áí R y x) ‚áí ‚àÄx y. fmap_rel R x y ‚áí fmap_rel R y x
</pre>

<DT><span class="strong">fmap_rel_trans</span>
<DD>
<pre>
|- (‚àÄx y z. R x y ‚àß R y z ‚áí R x z) ‚áí
   ‚àÄx y z. fmap_rel R x y ‚àß fmap_rel R y z ‚áí fmap_rel R x z
</pre>

<DT><span class="strong">f_o_f_FUPDATE_compose</span>
<DD>
<pre>
|- ‚àÄf1 f2 k x v.
     x ‚àâ FDOM f1 ‚àß x ‚àâ FRANGE f2 ‚áí
     (f1 |+ (x,v) f_o_f f2 |+ (k,x) = (f1 f_o_f f2) |+ (k,v))
</pre>

<DT><span class="strong">DRESTRICT_SUBSET</span>
<DD>
<pre>
|- ‚àÄf1 f2 s t.
     (DRESTRICT f1 s = DRESTRICT f2 s) ‚àß t ‚äÜ s ‚áí
     (DRESTRICT f1 t = DRESTRICT f2 t)
</pre>

<DT><span class="strong">DRESTRICT_FDOM</span>
<DD>
<pre>
|- ‚àÄf. DRESTRICT f (FDOM f) = f
</pre>

<DT><span class="strong">FRANGE_DRESTRICT_SUBSET</span>
<DD>
<pre>
|- FRANGE (DRESTRICT fm s) ‚äÜ FRANGE fm
</pre>

<DT><span class="strong">IN_FRANGE_DOMSUB_suff</span>
<DD>
<pre>
|- (‚àÄv. v ‚àà FRANGE fm ‚áí P v) ‚áí ‚àÄv. v ‚àà FRANGE (fm \\ k) ‚áí P v
</pre>

<DT><span class="strong">FRANGE_DOMSUB_SUBSET</span>
<DD>
<pre>
|- FRANGE (fm \\ k) ‚äÜ FRANGE fm
</pre>

<DT><span class="strong">IN_FRANGE_FUNION_suff</span>
<DD>
<pre>
|- (‚àÄv. v ‚àà FRANGE f1 ‚áí P v) ‚àß (‚àÄv. v ‚àà FRANGE f2 ‚áí P v) ‚áí
   ‚àÄv. v ‚àà FRANGE (f1 ‚äå f2) ‚áí P v
</pre>

<DT><span class="strong">FRANGE_FUNION_SUBSET</span>
<DD>
<pre>
|- FRANGE (f1 ‚äå f2) ‚äÜ FRANGE f1 ‚à™ FRANGE f2
</pre>

<DT><span class="strong">IN_FRANGE_FUPDATE_LIST_suff</span>
<DD>
<pre>
|- (‚àÄv. v ‚àà FRANGE fm ‚áí P v) ‚àß (‚àÄv. MEM v (MAP SND ls) ‚áí P v) ‚áí
   ‚àÄv. v ‚àà FRANGE (fm |++ ls) ‚áí P v
</pre>

<DT><span class="strong">FRANGE_FUPDATE_LIST_SUBSET</span>
<DD>
<pre>
|- ‚àÄls fm. FRANGE (fm |++ ls) ‚äÜ FRANGE fm ‚à™ LIST_TO_SET (MAP SND ls)
</pre>

<DT><span class="strong">IN_FRANGE_FLOOKUP</span>
<DD>
<pre>
|- ‚àÄf v. v ‚àà FRANGE f ‚áî ‚àÉk. FLOOKUP f k = SOME v
</pre>

<DT><span class="strong">IN_FRANGE</span>
<DD>
<pre>
|- ‚àÄf v. v ‚àà FRANGE f ‚áî ‚àÉk. k ‚àà FDOM f ‚àß (f ' k = v)
</pre>

<DT><span class="strong">FUPDATE_LIST_ALL_DISTINCT_REVERSE</span>
<DD>
<pre>
|- ‚àÄls. ALL_DISTINCT (MAP FST ls) ‚áí ‚àÄfm. fm |++ REVERSE ls = fm |++ ls
</pre>

<DT><span class="strong">FUPDATE_LIST_ALL_DISTINCT_APPLY_MEM</span>
<DD>
<pre>
|- ‚àÄP ls k v fm.
     ALL_DISTINCT (MAP FST ls) ‚àß MEM (k,v) ls ‚àß P v ‚áí P ((fm |++ ls) ' k)
</pre>

<DT><span class="strong">FUPDATE_SAME_LIST_APPLY</span>
<DD>
<pre>
|- ‚àÄkvl fm1 fm2 x.
     MEM x (MAP FST kvl) ‚áí ((fm1 |++ kvl) ' x = (fm2 |++ kvl) ' x)
</pre>

<DT><span class="strong">FUPDATE_SAME_APPLY</span>
<DD>
<pre>
|- (x = FST kv) ‚à® (fm1 ' x = fm2 ' x) ‚áí ((fm1 |+ kv) ' x = (fm2 |+ kv) ' x)
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_HO_THM</span>
<DD>
<pre>
|- ‚àÄP f kvl k.
     (‚àÉn.
        n < LENGTH kvl ‚àß (k = EL n (MAP FST kvl)) ‚àß P (EL n (MAP SND kvl)) ‚àß
        ‚àÄm. n < m ‚àß m < LENGTH kvl ‚áí EL m (MAP FST kvl) ‚â† k) ‚à®
     ¬¨MEM k (MAP FST kvl) ‚àß P (f ' k) ‚áí
     P ((f |++ kvl) ' k)
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_NOT_MEM_matchable</span>
<DD>
<pre>
|- ‚àÄkvl f k v. ¬¨MEM k (MAP FST kvl) ‚àß (v = f ' k) ‚áí ((f |++ kvl) ' k = v)
</pre>

<DT><span class="strong">DRESTRICT_FUNION_SUBSET</span>
<DD>
<pre>
|- s2 ‚äÜ s1 ‚áí ‚àÉh. DRESTRICT f s1 ‚äå g = DRESTRICT f s2 ‚äå h
</pre>

<DT><span class="strong">FOLDL2_FUPDATE_LIST_paired</span>
<DD>
<pre>
|- ‚àÄf1 f2 bs cs a.
     (LENGTH bs = LENGTH cs) ‚áí
     (FOLDL2 (Œªfm b (c,d). fm |+ (f1 b c d,f2 b c d)) a bs cs =
      a |++
      ZIP (MAP2 (Œªb. UNCURRY (f1 b)) bs cs,MAP2 (Œªb. UNCURRY (f2 b)) bs cs))
</pre>

<DT><span class="strong">FOLDL2_FUPDATE_LIST</span>
<DD>
<pre>
|- ‚àÄf1 f2 bs cs a.
     (LENGTH bs = LENGTH cs) ‚áí
     (FOLDL2 (Œªfm b c. fm |+ (f1 b c,f2 b c)) a bs cs =
      a |++ ZIP (MAP2 f1 bs cs,MAP2 f2 bs cs))
</pre>

<DT><span class="strong">DRESTRICT_EQ_DRESTRICT_SAME</span>
<DD>
<pre>
|- (DRESTRICT f1 s = DRESTRICT f2 s) ‚áî
   (s ‚à© FDOM f1 = s ‚à© FDOM f2) ‚àß ‚àÄx. x ‚àà FDOM f1 ‚àß x ‚àà s ‚áí (f1 ' x = f2 ' x)
</pre>

<DT><span class="strong">DRESTRICT_FUNION_SAME</span>
<DD>
<pre>
|- ‚àÄfm s. DRESTRICT fm s ‚äå fm = fm
</pre>

<DT><span class="strong">DRESTRICT_SUBSET_SUBMAP_gen</span>
<DD>
<pre>
|- ‚àÄf1 f2 s t.
     DRESTRICT f1 s ‚äë DRESTRICT f2 s ‚àß t ‚äÜ s ‚áí DRESTRICT f1 t ‚äë DRESTRICT f2 t
</pre>

<DT><span class="strong">DRESTRICT_DOMSUB</span>
<DD>
<pre>
|- ‚àÄf s k. DRESTRICT f s \\ k = DRESTRICT f (s DELETE k)
</pre>

<DT><span class="strong">DOMSUB_SUBMAP</span>
<DD>
<pre>
|- ‚àÄf g x. f ‚äë g ‚àß x ‚àâ FDOM f ‚áí f ‚äë g \\ x
</pre>

<DT><span class="strong">SUBMAP_DOMSUB_gen</span>
<DD>
<pre>
|- ‚àÄf g k. f \\ k ‚äë g ‚áî f \\ k ‚äë g \\ k
</pre>

<DT><span class="strong">SUBMAP_mono_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf g x y. f \\ x ‚äë g \\ x ‚áí f |+ (x,y) ‚äë g |+ (x,y)
</pre>

<DT><span class="strong">IMAGE_FRANGE</span>
<DD>
<pre>
|- ‚àÄf fm. IMAGE f (FRANGE fm) = FRANGE (f o_f fm)
</pre>

<DT><span class="strong">DRESTRICTED_FUNION</span>
<DD>
<pre>
|- ‚àÄf1 f2 s.
     DRESTRICT (f1 ‚äå f2) s = DRESTRICT f1 s ‚äå DRESTRICT f2 (s DIFF FDOM f1)
</pre>

<DT><span class="strong">DRESTRICT_SUBSET_SUBMAP</span>
<DD>
<pre>
|- s1 ‚äÜ s2 ‚áí DRESTRICT f s1 ‚äë DRESTRICT f s2
</pre>

<DT><span class="strong">DRESTRICT_SUBMAP_gen</span>
<DD>
<pre>
|- f ‚äë g ‚áí DRESTRICT f P ‚äë g
</pre>

<DT><span class="strong">IN_FRANGE_o_f_suff</span>
<DD>
<pre>
|- (‚àÄv. v ‚àà FRANGE fm ‚áí P (f v)) ‚áí ‚àÄv. v ‚àà FRANGE (f o_f fm) ‚áí P v
</pre>

<DT><span class="strong">IN_FRANGE_FUPDATE_suff</span>
<DD>
<pre>
|- (‚àÄv. v ‚àà FRANGE fm ‚áí P v) ‚àß P (SND kv) ‚áí ‚àÄv. v ‚àà FRANGE (fm |+ kv) ‚áí P v
</pre>

<DT><span class="strong">FRANGE_FUPDATE_SUBSET</span>
<DD>
<pre>
|- FRANGE (fm |+ kv) ‚äÜ FRANGE fm ‚à™ {SND kv}
</pre>

<DT><span class="strong">IN_FRANGE_DRESTRICT_suff</span>
<DD>
<pre>
|- (‚àÄv. v ‚àà FRANGE fm ‚áí P v) ‚áí ‚àÄv. v ‚àà FRANGE (DRESTRICT fm s) ‚áí P v
</pre>

<DT><span class="strong">FUNION_ASSOC</span>
<DD>
<pre>
|- ‚àÄf g h. f ‚äå (g ‚äå h) = f ‚äå g ‚äå h
</pre>

<DT><span class="strong">FUNION_COMM</span>
<DD>
<pre>
|- ‚àÄf g. DISJOINT (FDOM f) (FDOM g) ‚áí (f ‚äå g = g ‚äå f)
</pre>

<DT><span class="strong">DOMSUB_FUNION</span>
<DD>
<pre>
|- (f ‚äå g) \\ k = f \\ k ‚äå g \\ k
</pre>

<DT><span class="strong">FUNION_EQ_IMPL</span>
<DD>
<pre>
|- ‚àÄf1 f2 f3.
     DISJOINT (FDOM f1) (FDOM f2) ‚àß DISJOINT (FDOM f1) (FDOM f3) ‚àß (f2 = f3) ‚áí
     (f1 ‚äå f2 = f1 ‚äå f3)
</pre>

<DT><span class="strong">FUNION_EQ</span>
<DD>
<pre>
|- ‚àÄf1 f2 f3.
     DISJOINT (FDOM f1) (FDOM f2) ‚àß DISJOINT (FDOM f1) (FDOM f3) ‚áí
     ((f1 ‚äå f2 = f1 ‚äå f3) ‚áî (f2 = f3))
</pre>

<DT><span class="strong">FEMPTY_SUBMAP</span>
<DD>
<pre>
|- ‚àÄh. h ‚äë FEMPTY ‚áî (h = FEMPTY)
</pre>

<DT><span class="strong">SUBMAP_FUNION_ID</span>
<DD>
<pre>
|- (‚àÄf1 f2. f1 ‚äë f1 ‚äå f2) ‚àß
   ‚àÄf1 f2. DISJOINT (FDOM f1) (FDOM f2) ‚áí f2 ‚äë f1 ‚äå f2
</pre>

<DT><span class="strong">SUBMAP_FUNION</span>
<DD>
<pre>
|- ‚àÄf1 f2 f3. f1 ‚äë f2 ‚à® DISJOINT (FDOM f1) (FDOM f2) ‚àß f1 ‚äë f3 ‚áí f1 ‚äë f2 ‚äå f3
</pre>

<DT><span class="strong">SUBMAP_FUNION_EQ</span>
<DD>
<pre>
|- (‚àÄf1 f2 f3. DISJOINT (FDOM f1) (FDOM f2) ‚áí (f1 ‚äë f2 ‚äå f3 ‚áî f1 ‚äë f3)) ‚àß
   ‚àÄf1 f2 f3.
     DISJOINT (FDOM f1) (FDOM f3 DIFF FDOM f2) ‚áí (f1 ‚äë f2 ‚äå f3 ‚áî f1 ‚äë f2)
</pre>

<DT><span class="strong">FUNION_EQ_FEMPTY</span>
<DD>
<pre>
|- ‚àÄh1 h2. (h1 ‚äå h2 = FEMPTY) ‚áî (h1 = FEMPTY) ‚àß (h2 = FEMPTY)
</pre>

<DT><span class="strong">FEVERY_DRESTRICT_COMPL</span>
<DD>
<pre>
|- FEVERY P (DRESTRICT (f |+ (k,v)) (COMPL s)) ‚áî
   (k ‚àâ s ‚áí P (k,v)) ‚àß FEVERY P (DRESTRICT f (COMPL (k INSERT s)))
</pre>

<DT><span class="strong">FUPDATE_ELIM</span>
<DD>
<pre>
|- ‚àÄk v f. k ‚àà FDOM f ‚àß (f ' k = v) ‚áí (f |+ (k,v) = f)
</pre>

<DT><span class="strong">FEVERY_STRENGTHEN_THM</span>
<DD>
<pre>
|- FEVERY P FEMPTY ‚àß (FEVERY P f ‚àß P (x,y) ‚áí FEVERY P (f |+ (x,y)))
</pre>

<DT><span class="strong">FMAP_MAP2_FUPDATE</span>
<DD>
<pre>
|- FMAP_MAP2 f (m |+ (x,v)) = FMAP_MAP2 f m |+ (x,f (x,v))
</pre>

<DT><span class="strong">FMAP_MAP2_FEMPTY</span>
<DD>
<pre>
|- FMAP_MAP2 f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">FMAP_MAP2_THM</span>
<DD>
<pre>
|- (FDOM (FMAP_MAP2 f m) = FDOM m) ‚àß
   ‚àÄx. x ‚àà FDOM m ‚áí (FMAP_MAP2 f m ' x = f (x,m ' x))
</pre>

<DT><span class="strong">FUPDATE_PURGE</span>
<DD>
<pre>
|- ‚àÄf x y. f |+ (x,y) = f \\ x |+ (x,y)
</pre>

<DT><span class="strong">FMEQ_SINGLE_SIMPLE_DISJ_ELIM</span>
<DD>
<pre>
|- ‚àÄfm k v ck cv.
     (fm |+ (k,v) = FEMPTY |+ (ck,cv)) ‚áî
     (k = ck) ‚àß (v = cv) ‚àß ((fm = FEMPTY) ‚à® ‚àÉv'. fm = FEMPTY |+ (k,v'))
</pre>

<DT><span class="strong">FMEQ_SINGLE_SIMPLE_ELIM</span>
<DD>
<pre>
|- ‚àÄP k v ck cv nv.
     (‚àÉfm. (fm |+ (k,v) = FEMPTY |+ (ck,cv)) ‚àß P (fm |+ (k,nv))) ‚áî
     (k = ck) ‚àß (v = cv) ‚àß P (FEMPTY |+ (ck,nv))
</pre>

<DT><span class="strong">FMEQ_ENUMERATE_CASES</span>
<DD>
<pre>
|- ‚àÄf1 kvl p. (f1 |+ p = FEMPTY |++ kvl) ‚áí MEM p kvl
</pre>

<DT><span class="strong">FUPDATE_LIST_SAME_KEYS_UNWIND</span>
<DD>
<pre>
|- ‚àÄf1 f2 kvl1 kvl2.
     (f1 |++ kvl1 = f2 |++ kvl2) ‚àß (MAP FST kvl1 = MAP FST kvl2) ‚àß
     ALL_DISTINCT (MAP FST kvl1) ‚áí
     (kvl1 = kvl2) ‚àß
     ‚àÄkvl. (MAP FST kvl = MAP FST kvl1) ‚áí (f1 |++ kvl = f2 |++ kvl)
</pre>

<DT><span class="strong">FUPDATE_LIST_SAME_UPDATE</span>
<DD>
<pre>
|- ‚àÄkvl f1 f2.
     (f1 |++ kvl = f2 |++ kvl) ‚áî
     (DRESTRICT f1 (COMPL (LIST_TO_SET (MAP FST kvl))) =
      DRESTRICT f2 (COMPL (LIST_TO_SET (MAP FST kvl))))
</pre>

<DT><span class="strong">FDOM_FUPDATE_LIST</span>
<DD>
<pre>
|- ‚àÄkvl fm. FDOM (fm |++ kvl) = FDOM fm ‚à™ LIST_TO_SET (MAP FST kvl)
</pre>

<DT><span class="strong">FUPD11_SAME_UPDATE</span>
<DD>
<pre>
|- ‚àÄf1 f2 k v.
     (f1 |+ (k,v) = f2 |+ (k,v)) ‚áî
     (DRESTRICT f1 (COMPL {k}) = DRESTRICT f2 (COMPL {k}))
</pre>

<DT><span class="strong">FUPD_SAME_KEY_UNWIND</span>
<DD>
<pre>
|- ‚àÄf1 f2 k v1 v2.
     (f1 |+ (k,v1) = f2 |+ (k,v2)) ‚áí (v1 = v2) ‚àß ‚àÄv. f1 |+ (k,v) = f2 |+ (k,v)
</pre>

<DT><span class="strong">FUPD11_SAME_BASE</span>
<DD>
<pre>
|- ‚àÄf k1 v1 k2 v2.
     (f |+ (k1,v1) = f |+ (k2,v2)) ‚áî
     (k1 = k2) ‚àß (v1 = v2) ‚à®
     k1 ‚â† k2 ‚àß k1 ‚àà FDOM f ‚àß k2 ‚àà FDOM f ‚àß (f |+ (k1,v1) = f) ‚àß
     (f |+ (k2,v2) = f)
</pre>

<DT><span class="strong">SAME_KEY_UPDATES_DIFFER</span>
<DD>
<pre>
|- ‚àÄf1 f2 k v1 v2. v1 ‚â† v2 ‚áí f1 |+ (k,v1) ‚â† f2 |+ (k,v2)
</pre>

<DT><span class="strong">FUPD11_SAME_NEW_KEY</span>
<DD>
<pre>
|- ‚àÄf1 f2 k v1 v2.
     k ‚àâ FDOM f1 ‚àß k ‚àâ FDOM f2 ‚áí
     ((f1 |+ (k,v1) = f2 |+ (k,v2)) ‚áî (f1 = f2) ‚àß (v1 = v2))
</pre>

<DT><span class="strong">FUPD11_SAME_KEY_AND_BASE</span>
<DD>
<pre>
|- ‚àÄf k v1 v2. (f |+ (k,v1) = f |+ (k,v2)) ‚áî (v1 = v2)
</pre>

<DT><span class="strong">FUPDATE_LIST_SNOC</span>
<DD>
<pre>
|- ‚àÄxs x fm. fm |++ SNOC x xs = (fm |++ xs) |+ x
</pre>

<DT><span class="strong">FOLDL_FUPDATE_LIST</span>
<DD>
<pre>
|- ‚àÄf1 f2 ls a.
     FOLDL (Œªfm k. fm |+ (f1 k,f2 k)) a ls = a |++ MAP (Œªk. (f1 k,f2 k)) ls
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_MEM</span>
<DD>
<pre>
|- ‚àÄkvl f k v n.
     n < LENGTH kvl ‚àß (k = EL n (MAP FST kvl)) ‚àß (v = EL n (MAP SND kvl)) ‚àß
     (‚àÄm. n < m ‚àß m < LENGTH kvl ‚áí EL m (MAP FST kvl) ‚â† k) ‚áí
     ((f |++ kvl) ' k = v)
</pre>

<DT><span class="strong">FEVERY_FUPDATE_LIST</span>
<DD>
<pre>
|- ALL_DISTINCT (MAP FST kvl) ‚áí
   (FEVERY P (fm |++ kvl) ‚áî
    EVERY P kvl ‚àß FEVERY P (DRESTRICT fm (COMPL (LIST_TO_SET (MAP FST kvl)))))
</pre>

<DT><span class="strong">FUPDATE_FUPDATE_LIST_MEM</span>
<DD>
<pre>
|- MEM k (MAP FST kvl) ‚áí (fm |+ (k,v) |++ kvl = fm |++ kvl)
</pre>

<DT><span class="strong">FUPDATE_FUPDATE_LIST_COMMUTES</span>
<DD>
<pre>
|- ¬¨MEM k (MAP FST kvl) ‚áí (fm |+ (k,v) |++ kvl = (fm |++ kvl) |+ (k,v))
</pre>

<DT><span class="strong">FUPDATE_LIST_APPEND</span>
<DD>
<pre>
|- fm |++ (kvl1 ++ kvl2) = fm |++ kvl1 |++ kvl2
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_NOT_MEM</span>
<DD>
<pre>
|- ‚àÄkvl f k. ¬¨MEM k (MAP FST kvl) ‚áí ((f |++ kvl) ' k = f ' k)
</pre>

<DT><span class="strong">FUPDATE_LIST_THM</span>
<DD>
<pre>
|- ‚àÄf. (f |++ [] = f) ‚àß ‚àÄh t. f |++ (h::t) = f |+ h |++ t
</pre>

<DT><span class="strong">SUBMAP_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf g x y. f |+ (x,y) ‚äë g ‚áî x ‚àà FDOM g ‚àß (g ' x = y) ‚àß f \\ x ‚äë g \\ x
</pre>

<DT><span class="strong">SUBMAP_TRANS</span>
<DD>
<pre>
|- ‚àÄf g h. f ‚äë g ‚àß g ‚äë h ‚áí f ‚äë h
</pre>

<DT><span class="strong">SUBMAP_ANTISYM</span>
<DD>
<pre>
|- ‚àÄf g. f ‚äë g ‚àß g ‚äë f ‚áî (f = g)
</pre>

<DT><span class="strong">SUBMAP_REFL</span>
<DD>
<pre>
|- ‚àÄf. f ‚äë f
</pre>

<DT><span class="strong">SUBMAP_FEMPTY</span>
<DD>
<pre>
|- ‚àÄf. FEMPTY ‚äë f
</pre>

<DT><span class="strong">fmap_EXT</span>
<DD>
<pre>
|- ‚àÄf g. (f = g) ‚áî (FDOM f = FDOM g) ‚àß ‚àÄx. x ‚àà FDOM f ‚áí (f ' x = g ' x)
</pre>

<DT><span class="strong">fmap_EQ_THM</span>
<DD>
<pre>
|- ‚àÄf g. (FDOM f = FDOM g) ‚àß (‚àÄx. x ‚àà FDOM f ‚áí (f ' x = g ' x)) ‚áî (f = g)
</pre>

<DT><span class="strong">fmap_EQ</span>
<DD>
<pre>
|- ‚àÄf g. (FDOM f = FDOM g) ‚àß ($' f = $' g) ‚áî (f = g)
</pre>

<DT><span class="strong">NOT_FDOM_FAPPLY_FEMPTY</span>
<DD>
<pre>
|- ‚àÄf x. x ‚àâ FDOM f ‚áí (f ' x = FEMPTY ' x)
</pre>

<DT><span class="strong">FM_PULL_APART</span>
<DD>
<pre>
|- ‚àÄfm k. k ‚àà FDOM fm ‚áí ‚àÉfm0 v. (fm = fm0 |+ (k,v)) ‚àß k ‚àâ FDOM fm0
</pre>

<DT><span class="strong">fmap_INDUCT</span>
<DD>
<pre>
|- ‚àÄP. P FEMPTY ‚àß (‚àÄf. P f ‚áí ‚àÄx y. x ‚àâ FDOM f ‚áí P (f |+ (x,y))) ‚áí ‚àÄf. P f
</pre>

<DT><span class="strong">FCARD_SUC</span>
<DD>
<pre>
|- ‚àÄf n.
     (FCARD f = SUC n) ‚áî
     ‚àÉf' x y. x ‚àâ FDOM f' ‚àß (FCARD f' = n) ‚àß (f = f' |+ (x,y))
</pre>

<DT><span class="strong">FCARD_0_FEMPTY</span>
<DD>
<pre>
|- ‚àÄf. (FCARD f = 0) ‚áî (f = FEMPTY)
</pre>

<DT><span class="strong">FCARD_FUPDATE</span>
<DD>
<pre>
|- ‚àÄfm a b.
     FCARD (fm |+ (a,b)) = if a ‚àà FDOM fm then FCARD fm else 1 + FCARD fm
</pre>

<DT><span class="strong">FCARD_FEMPTY</span>
<DD>
<pre>
|- FCARD FEMPTY = 0
</pre>

<DT><span class="strong">FDOM_FINITE</span>
<DD>
<pre>
|- ‚àÄfm. FINITE (FDOM fm)
</pre>

<DT><span class="strong">FDOM_F_FEMPTY1</span>
<DD>
<pre>
|- ‚àÄf. (‚àÄa. a ‚àâ FDOM f) ‚áî (f = FEMPTY)
</pre>

<DT><span class="strong">FDOM_EQ_EMPTY_SYM</span>
<DD>
<pre>
|- ‚àÄf. (‚àÖ = FDOM f) ‚áî (f = FEMPTY)
</pre>

<DT><span class="strong">FDOM_EQ_EMPTY</span>
<DD>
<pre>
|- ‚àÄf. (FDOM f = ‚àÖ) ‚áî (f = FEMPTY)
</pre>

<DT><span class="strong">fmap_SIMPLE_INDUCT</span>
<DD>
<pre>
|- ‚àÄP. P FEMPTY ‚àß (‚àÄf. P f ‚áí ‚àÄx y. P (f |+ (x,y))) ‚áí ‚àÄf. P f
</pre>

<DT><span class="strong">FDOM_EQ_FDOM_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf x. x ‚àà FDOM f ‚áí ‚àÄy. FDOM (f |+ (x,y)) = FDOM f
</pre>

<DT><span class="strong">NOT_EQ_FEMPTY_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf a b. FEMPTY ‚â† f |+ (a,b)
</pre>

<DT><span class="strong">FAPPLY_FUPDATE_THM</span>
<DD>
<pre>
|- ‚àÄf a b x. (f |+ (a,b)) ' x = if x = a then b else f ' x
</pre>

<DT><span class="strong">FDOM_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf a b. FDOM (f |+ (a,b)) = a INSERT FDOM f
</pre>

<DT><span class="strong">FDOM_FEMPTY</span>
<DD>
<pre>
|- FDOM FEMPTY = ‚àÖ
</pre>

<DT><span class="strong">FUPDATE_EQ</span>
<DD>
<pre>
|- ‚àÄf a b c. f |+ (a,b) |+ (a,c) = f |+ (a,c)
</pre>

<DT><span class="strong">FUPDATE_COMMUTES</span>
<DD>
<pre>
|- ‚àÄf a b c d. a ‚â† c ‚áí (f |+ (a,b) |+ (c,d) = f |+ (c,d) |+ (a,b))
</pre>

<DT><span class="strong">NOT_EQ_FAPPLY</span>
<DD>
<pre>
|- ‚àÄf a x y. a ‚â† x ‚áí ((f |+ (x,y)) ' a = f ' a)
</pre>

<DT><span class="strong">FAPPLY_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf x y. (f |+ (x,y)) ' x = y
</pre>

<DT><span class="strong">is_fmap_cases</span>
<DD>
<pre>
|- ‚àÄa0.
     is_fmap a0 ‚áî
     (a0 = (Œªa. INR ())) ‚à®
     ‚àÉf a b. (a0 = (Œªx. if x = a then INL b else f x)) ‚àß is_fmap f
</pre>

<DT><span class="strong">is_fmap_strongind</span>
<DD>
<pre>
|- ‚àÄis_fmap'.
     is_fmap' (Œªa. INR ()) ‚àß
     (‚àÄf a b.
        is_fmap f ‚àß is_fmap' f ‚áí
        is_fmap' (Œªx. if x = a then INL b else f x)) ‚áí
     ‚àÄa0. is_fmap a0 ‚áí is_fmap' a0
</pre>

<DT><span class="strong">is_fmap_ind</span>
<DD>
<pre>
|- ‚àÄis_fmap'.
     is_fmap' (Œªa. INR ()) ‚àß
     (‚àÄf a b. is_fmap' f ‚áí is_fmap' (Œªx. if x = a then INL b else f x)) ‚áí
     ‚àÄa0. is_fmap a0 ‚áí is_fmap' a0
</pre>

<DT><span class="strong">is_fmap_rules</span>
<DD>
<pre>
|- is_fmap (Œªa. INR ()) ‚àß
   ‚àÄf a b. is_fmap f ‚áí is_fmap (Œªx. if x = a then INL b else f x)
</pre>

<DT><span class="strong">FUNION_FEMPTY_1</span>
<DD>
<pre>
|- ‚àÄg. FEMPTY ‚äå g = g
</pre>

<DT><span class="strong">FUNION_FEMPTY_2</span>
<DD>
<pre>
|- ‚àÄf. f ‚äå FEMPTY = f
</pre>

<DT><span class="strong">FUNION_FUPDATE_1</span>
<DD>
<pre>
|- ‚àÄf g x y. f |+ (x,y) ‚äå g = (f ‚äå g) |+ (x,y)
</pre>

<DT><span class="strong">FUNION_FUPDATE_2</span>
<DD>
<pre>
|- ‚àÄf g x y. f ‚äå g |+ (x,y) = if x ‚àà FDOM f then f ‚äå g else (f ‚äå g) |+ (x,y)
</pre>

<DT><span class="strong">EQ_FDOM_SUBMAP</span>
<DD>
<pre>
|- (f = g) ‚áî f ‚äë g ‚àß (FDOM f = FDOM g)
</pre>

<DT><span class="strong">SUBMAP_FUPDATE_EQN</span>
<DD>
<pre>
|- f ‚äë f |+ (x,y) ‚áî x ‚àâ FDOM f ‚à® (f ' x = y) ‚àß x ‚àà FDOM f
</pre>

<DT><span class="strong">DRESTRICT_FEMPTY</span>
<DD>
<pre>
|- ‚àÄr. DRESTRICT FEMPTY r = FEMPTY
</pre>

<DT><span class="strong">DRESTRICT_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf r x y.
     DRESTRICT (f |+ (x,y)) r =
     if x ‚àà r then DRESTRICT f r |+ (x,y) else DRESTRICT f r
</pre>

<DT><span class="strong">STRONG_DRESTRICT_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf r x y.
     x ‚àà r ‚áí (DRESTRICT (f |+ (x,y)) r = DRESTRICT f (r DELETE x) |+ (x,y))
</pre>

<DT><span class="strong">FDOM_DRESTRICT</span>
<DD>
<pre>
|- ‚àÄf r x. FDOM (DRESTRICT f r) = FDOM f ‚à© r
</pre>

<DT><span class="strong">NOT_FDOM_DRESTRICT</span>
<DD>
<pre>
|- ‚àÄf x. x ‚àâ FDOM f ‚áí (DRESTRICT f (COMPL {x}) = f)
</pre>

<DT><span class="strong">DRESTRICT_SUBMAP</span>
<DD>
<pre>
|- ‚àÄf r. DRESTRICT f r ‚äë f
</pre>

<DT><span class="strong">DRESTRICT_DRESTRICT</span>
<DD>
<pre>
|- ‚àÄf P Q. DRESTRICT (DRESTRICT f P) Q = DRESTRICT f (P ‚à© Q)
</pre>

<DT><span class="strong">DRESTRICT_IS_FEMPTY</span>
<DD>
<pre>
|- ‚àÄf. DRESTRICT f ‚àÖ = FEMPTY
</pre>

<DT><span class="strong">FUPDATE_DRESTRICT</span>
<DD>
<pre>
|- ‚àÄf x y. f |+ (x,y) = DRESTRICT f (COMPL {x}) |+ (x,y)
</pre>

<DT><span class="strong">STRONG_DRESTRICT_FUPDATE_THM</span>
<DD>
<pre>
|- ‚àÄf r x y.
     DRESTRICT (f |+ (x,y)) r =
     if x ‚àà r then DRESTRICT f (COMPL {x} ‚à© r) |+ (x,y)
     else DRESTRICT f (COMPL {x} ‚à© r)
</pre>

<DT><span class="strong">DRESTRICT_UNIV</span>
<DD>
<pre>
|- ‚àÄf. DRESTRICT f ùïå(:Œ±) = f
</pre>

<DT><span class="strong">SUBMAP_DRESTRICT</span>
<DD>
<pre>
|- DRESTRICT f P ‚äë f
</pre>

<DT><span class="strong">DRESTRICT_EQ_DRESTRICT</span>
<DD>
<pre>
|- ‚àÄf1 f2 s1 s2.
     (DRESTRICT f1 s1 = DRESTRICT f2 s2) ‚áî
     DRESTRICT f1 s1 ‚äë f2 ‚àß DRESTRICT f2 s2 ‚äë f1 ‚àß
     (s1 ‚à© FDOM f1 = s2 ‚à© FDOM f2)
</pre>

<DT><span class="strong">FDOM_FUNION</span>
<DD>
<pre>
|- ‚àÄf g x. FDOM (f ‚äå g) = FDOM f ‚à™ FDOM g
</pre>

<DT><span class="strong">FMERGE_DOMSUB</span>
<DD>
<pre>
|- ‚àÄm m1 m2 k. FMERGE m m1 m2 \\ k = FMERGE m (m1 \\ k) (m2 \\ k)
</pre>

<DT><span class="strong">SUBMAP_DOMSUB</span>
<DD>
<pre>
|- f \\ k ‚äë f
</pre>

<DT><span class="strong">fmap_CASES</span>
<DD>
<pre>
|- ‚àÄf. (f = FEMPTY) ‚à® ‚àÉg x y. f = g |+ (x,y)
</pre>

<DT><span class="strong">DOMSUB_NOT_IN_DOM</span>
<DD>
<pre>
|- k ‚àâ FDOM fm ‚áí (fm \\ k = fm)
</pre>

<DT><span class="strong">o_f_FUPDATE</span>
<DD>
<pre>
|- f o_f fm |+ (k,v) = (f o_f fm \\ k) |+ (k,f v)
</pre>

<DT><span class="strong">DOMSUB_COMMUTES</span>
<DD>
<pre>
|- fm \\ k1 \\ k2 = fm \\ k2 \\ k1
</pre>

<DT><span class="strong">DOMSUB_IDEM</span>
<DD>
<pre>
|- fm \\ k \\ k = fm \\ k
</pre>

<DT><span class="strong">o_f_DOMSUB</span>
<DD>
<pre>
|- (g o_f fm) \\ k = g o_f fm \\ k
</pre>

<DT><span class="strong">FRANGE_FUPDATE_DOMSUB</span>
<DD>
<pre>
|- ‚àÄfm k v. FRANGE (fm |+ (k,v)) = v INSERT FRANGE (fm \\ k)
</pre>

<DT><span class="strong">DOMSUB_FLOOKUP_THM</span>
<DD>
<pre>
|- ‚àÄfm k1 k2. FLOOKUP (fm \\ k1) k2 = if k1 = k2 then NONE else FLOOKUP fm k2
</pre>

<DT><span class="strong">DOMSUB_FLOOKUP_NEQ</span>
<DD>
<pre>
|- ‚àÄfm k1 k2. k1 ‚â† k2 ‚áí (FLOOKUP (fm \\ k1) k2 = FLOOKUP fm k2)
</pre>

<DT><span class="strong">DOMSUB_FLOOKUP</span>
<DD>
<pre>
|- ‚àÄfm k. FLOOKUP (fm \\ k) k = NONE
</pre>

<DT><span class="strong">DOMSUB_FAPPLY_THM</span>
<DD>
<pre>
|- ‚àÄfm k1 k2. (fm \\ k1) ' k2 = if k1 = k2 then FEMPTY ' k2 else fm ' k2
</pre>

<DT><span class="strong">DOMSUB_FAPPLY_NEQ</span>
<DD>
<pre>
|- ‚àÄfm k1 k2. k1 ‚â† k2 ‚áí ((fm \\ k1) ' k2 = fm ' k2)
</pre>

<DT><span class="strong">DOMSUB_FAPPLY</span>
<DD>
<pre>
|- ‚àÄfm k. (fm \\ k) ' k = FEMPTY ' k
</pre>

<DT><span class="strong">FDOM_DOMSUB</span>
<DD>
<pre>
|- ‚àÄfm k. FDOM (fm \\ k) = FDOM fm DELETE k
</pre>

<DT><span class="strong">DOMSUB_FUPDATE_THM</span>
<DD>
<pre>
|- ‚àÄfm k1 k2 v.
     fm |+ (k1,v) \\ k2 = if k1 = k2 then fm \\ k2 else fm \\ k2 |+ (k1,v)
</pre>

<DT><span class="strong">DOMSUB_FUPDATE_NEQ</span>
<DD>
<pre>
|- ‚àÄfm k1 k2 v. k1 ‚â† k2 ‚áí (fm |+ (k1,v) \\ k2 = fm \\ k2 |+ (k1,v))
</pre>

<DT><span class="strong">DOMSUB_FUPDATE</span>
<DD>
<pre>
|- ‚àÄfm k v. fm |+ (k,v) \\ k = fm \\ k
</pre>

<DT><span class="strong">DOMSUB_FEMPTY</span>
<DD>
<pre>
|- ‚àÄk. FEMPTY \\ k = FEMPTY
</pre>

<DT><span class="strong">FINITE_PRED_11</span>
<DD>
<pre>
|- ‚àÄg. (‚àÄx y. (g x = g y) ‚áî (x = y)) ‚áí ‚àÄf. FINITE {x | g x ‚àà FDOM f}
</pre>

<DT><span class="strong">FAPPLY_f_o</span>
<DD>
<pre>
|- ‚àÄf g.
     FINITE {x | g x ‚àà FDOM f} ‚áí
     ‚àÄx. x ‚àà FDOM (f f_o g) ‚áí ((f f_o g) ' x = f ' (g x))
</pre>

<DT><span class="strong">f_o_FUPDATE</span>
<DD>
<pre>
|- ‚àÄfm k v g.
     FINITE {x | g x ‚àà FDOM fm} ‚àß FINITE {x | g x = k} ‚áí
     (fm |+ (k,v) f_o g =
      FMERGE (combin$C K) (fm f_o g) (FUN_FMAP (K v) {x | g x = k}))
</pre>

<DT><span class="strong">f_o_FEMPTY</span>
<DD>
<pre>
|- ‚àÄg. FEMPTY f_o g = FEMPTY
</pre>

<DT><span class="strong">FDOM_f_o</span>
<DD>
<pre>
|- ‚àÄf g. FINITE {x | g x ‚àà FDOM f} ‚áí (FDOM (f f_o g) = {x | g x ‚àà FDOM f})
</pre>

<DT><span class="strong">FLOOKUP_FUN_FMAP</span>
<DD>
<pre>
|- FINITE P ‚áí (FLOOKUP (FUN_FMAP f P) k = if k ‚àà P then SOME (f k) else NONE)
</pre>

<DT><span class="strong">FDOM_FMAP</span>
<DD>
<pre>
|- ‚àÄf s. FINITE s ‚áí (FDOM (FUN_FMAP f s) = s)
</pre>

<DT><span class="strong">FRANGE_FMAP</span>
<DD>
<pre>
|- FINITE P ‚áí (FRANGE (FUN_FMAP f P) = IMAGE f P)
</pre>

<DT><span class="strong">FUN_FMAP_EMPTY</span>
<DD>
<pre>
|- FUN_FMAP f ‚àÖ = FEMPTY
</pre>

<DT><span class="strong">RRESTRICT_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf r x y.
     RRESTRICT (f |+ (x,y)) r =
     if y ‚àà r then RRESTRICT f r |+ (x,y)
     else RRESTRICT (DRESTRICT f (COMPL {x})) r
</pre>

<DT><span class="strong">RRESTRICT_FEMPTY</span>
<DD>
<pre>
|- ‚àÄr. RRESTRICT FEMPTY r = FEMPTY
</pre>

<DT><span class="strong">FRANGE_FUNION</span>
<DD>
<pre>
|- DISJOINT (FDOM fm1) (FDOM fm2) ‚áí
   (FRANGE (fm1 ‚äå fm2) = FRANGE fm1 ‚à™ FRANGE fm2)
</pre>

<DT><span class="strong">FRANGE_FLOOKUP</span>
<DD>
<pre>
|- v ‚àà FRANGE f ‚áî ‚àÉk. FLOOKUP f k = SOME v
</pre>

<DT><span class="strong">o_f_FRANGE</span>
<DD>
<pre>
|- x ‚àà FRANGE g ‚áí f x ‚àà FRANGE (f o_f g)
</pre>

<DT><span class="strong">FINITE_FRANGE</span>
<DD>
<pre>
|- ‚àÄfm. FINITE (FRANGE fm)
</pre>

<DT><span class="strong">SUBMAP_FRANGE</span>
<DD>
<pre>
|- ‚àÄf g. f ‚äë g ‚áí FRANGE f ‚äÜ FRANGE g
</pre>

<DT><span class="strong">FRANGE_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf x y. FRANGE (f |+ (x,y)) = y INSERT FRANGE (DRESTRICT f (COMPL {x}))
</pre>

<DT><span class="strong">FRANGE_FEMPTY</span>
<DD>
<pre>
|- FRANGE FEMPTY = ‚àÖ
</pre>

<DT><span class="strong">FLOOKUP_o_f</span>
<DD>
<pre>
|- FLOOKUP (f o_f fm) k =
   case FLOOKUP fm k of NONE => NONE | SOME v => SOME (f v)
</pre>

<DT><span class="strong">o_f_o_f</span>
<DD>
<pre>
|- f o_f (g o_f h) = f o g o_f h
</pre>

<DT><span class="strong">FEVERY_o_f</span>
<DD>
<pre>
|- ‚àÄm P f. FEVERY P (f o_f m) ‚áî FEVERY (Œªx. P (FST x,f (SND x))) m
</pre>

<DT><span class="strong">o_f_FEMPTY</span>
<DD>
<pre>
|- f o_f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">o_f_FAPPLY</span>
<DD>
<pre>
|- ‚àÄf g x. x ‚àà FDOM g ‚áí ((f o_f g) ' x = f (g ' x))
</pre>

<DT><span class="strong">FDOM_o_f</span>
<DD>
<pre>
|- ‚àÄf g. FDOM (f o_f g) = FDOM g
</pre>

<DT><span class="strong">o_f_FDOM</span>
<DD>
<pre>
|- ‚àÄf g. FDOM g = FDOM (f o_f g)
</pre>

<DT><span class="strong">f_o_f_FEMPTY_2</span>
<DD>
<pre>
|- ‚àÄf. f f_o_f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">f_o_f_FEMPTY_1</span>
<DD>
<pre>
|- ‚àÄf. FEMPTY f_o_f f = FEMPTY
</pre>

<DT><span class="strong">FEVERY_FLOOKUP</span>
<DD>
<pre>
|- FEVERY P f ‚àß (FLOOKUP f k = SOME v) ‚áí P (k,v)
</pre>

<DT><span class="strong">FEVERY_FUPDATE</span>
<DD>
<pre>
|- ‚àÄP f x y.
     FEVERY P (f |+ (x,y)) ‚áî P (x,y) ‚àß FEVERY P (DRESTRICT f (COMPL {x}))
</pre>

<DT><span class="strong">FEVERY_FEMPTY</span>
<DD>
<pre>
|- ‚àÄP. FEVERY P FEMPTY
</pre>

<DT><span class="strong">FLOOKUP_EXT</span>
<DD>
<pre>
|- (f1 = f2) ‚áî (FLOOKUP f1 = FLOOKUP f2)
</pre>

<DT><span class="strong">FLOOKUP_FUNION</span>
<DD>
<pre>
|- FLOOKUP (f1 ‚äå f2) k =
   case FLOOKUP f1 k of NONE => FLOOKUP f2 k | SOME v => SOME v
</pre>

<DT><span class="strong">SUBMAP_FUPDATE_FLOOKUP</span>
<DD>
<pre>
|- f ‚äë f |+ (x,y) ‚áî (FLOOKUP f x = NONE) ‚à® (FLOOKUP f x = SOME y)
</pre>

<DT><span class="strong">FLOOKUP_SUBMAP</span>
<DD>
<pre>
|- f ‚äë g ‚àß (FLOOKUP f k = SOME v) ‚áí (FLOOKUP g k = SOME v)
</pre>

<DT><span class="strong">FLOOKUP_UPDATE</span>
<DD>
<pre>
|- FLOOKUP (fm |+ (k1,v)) k2 = if k1 = k2 then SOME v else FLOOKUP fm k2
</pre>

<DT><span class="strong">FLOOKUP_EMPTY</span>
<DD>
<pre>
|- FLOOKUP FEMPTY k = NONE
</pre>

<DT><span class="strong">FMERGE_EQ_FEMPTY</span>
<DD>
<pre>
|- (FMERGE m f g = FEMPTY) ‚áî (f = FEMPTY) ‚àß (g = FEMPTY)
</pre>

<DT><span class="strong">FMERGE_DRESTRICT</span>
<DD>
<pre>
|- DRESTRICT (FMERGE f st1 st2) vs =
   FMERGE f (DRESTRICT st1 vs) (DRESTRICT st2 vs)
</pre>

<DT><span class="strong">FMERGE_ASSOC</span>
<DD>
<pre>
|- ASSOC (FMERGE m) ‚áî ASSOC m
</pre>

<DT><span class="strong">FMERGE_COMM</span>
<DD>
<pre>
|- COMM (FMERGE m) ‚áî COMM m
</pre>

<DT><span class="strong">FMERGE_NO_CHANGE</span>
<DD>
<pre>
|- ((FMERGE m f1 f2 = f1) ‚áî
    ‚àÄx. x ‚àà FDOM f2 ‚áí x ‚àà FDOM f1 ‚àß (m (f1 ' x) (f2 ' x) = f1 ' x)) ‚àß
   ((FMERGE m f1 f2 = f2) ‚áî
    ‚àÄx. x ‚àà FDOM f1 ‚áí x ‚àà FDOM f2 ‚àß (m (f1 ' x) (f2 ' x) = f2 ' x))
</pre>

<DT><span class="strong">FUNION_FMERGE</span>
<DD>
<pre>
|- ‚àÄf1 f2 m. DISJOINT (FDOM f1) (FDOM f2) ‚áí (FMERGE m f1 f2 = f1 ‚äå f2)
</pre>

<DT><span class="strong">FMERGE_FUNION</span>
<DD>
<pre>
|- $‚äå = FMERGE (Œªx y. x)
</pre>

<DT><span class="strong">FDOM_FMERGE</span>
<DD>
<pre>
|- ‚àÄm f g. FDOM (FMERGE m f g) = FDOM f ‚à™ FDOM g
</pre>

<DT><span class="strong">FMERGE_FEMPTY</span>
<DD>
<pre>
|- (FMERGE m f FEMPTY = f) ‚àß (FMERGE m FEMPTY f = f)
</pre>

<DT><span class="strong">FUNION_IDEMPOT</span>
<DD>
<pre>
|- fm ‚äå fm = fm
</pre>

<DT><span class="strong">DRESTRICT_FUNION</span>
<DD>
<pre>
|- ‚àÄh s1 s2. DRESTRICT h s1 ‚äå DRESTRICT h s2 = DRESTRICT h (s1 ‚à™ s2)
</pre>

<DT><span class="strong">DRESTRICT_EQ_FUNION</span>
<DD>
<pre>
|- ‚àÄh h1 h2.
     DISJOINT (FDOM h1) (FDOM h2) ‚àß (h1 ‚äå h2 = h) ‚áí
     (h2 = DRESTRICT h (COMPL (FDOM h1)))
</pre>

<DT><span class="strong">IN_FDOM_FOLDR_UNION</span>
<DD>
<pre>
|- ‚àÄx hL. x ‚àà FDOM (FOLDR $‚äå FEMPTY hL) ‚áî ‚àÉh. MEM h hL ‚àß x ‚àà FDOM h
</pre>

<DT><span class="strong">DRESTRICT_FUNION_DRESTRICT_COMPL</span>
<DD>
<pre>
|- DRESTRICT f s ‚äå DRESTRICT f (COMPL s) = f
</pre>

<DT><span class="strong">DRESTRICT_IDEMPOT</span>
<DD>
<pre>
|- ‚àÄs vs. DRESTRICT (DRESTRICT s vs) vs = DRESTRICT s vs
</pre>

<DT><span class="strong">SUBMAP_FUNION_ABSORPTION</span>
<DD>
<pre>
|- ‚àÄf g. f ‚äë g ‚áî (f ‚äå g = g)
</pre>

<DT><span class="strong">MAP_KEYS_witness</span>
<DD>
<pre>
|- let m f fm =
         if INJ f (FDOM fm) ùïå(:Œ≤) then
           fm f_o_f FUN_FMAP (LINV f (FDOM fm)) (IMAGE f (FDOM fm))
         else FUN_FMAP ARB (IMAGE f (FDOM fm))
   in
     ‚àÄf fm.
       (FDOM (m f fm) = IMAGE f (FDOM fm)) ‚àß
       (INJ f (FDOM fm) ùïå(:Œ≤) ‚áí ‚àÄx. x ‚àà FDOM fm ‚áí (m f fm ' (f x) = fm ' x))
</pre>

<DT><span class="strong">MAP_KEYS_FEMPTY</span>
<DD>
<pre>
|- ‚àÄf. MAP_KEYS f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">MAP_KEYS_FUPDATE</span>
<DD>
<pre>
|- ‚àÄf fm k v.
     INJ f (k INSERT FDOM fm) ùïå(:Œ≤) ‚áí
     (MAP_KEYS f (fm |+ (k,v)) = MAP_KEYS f fm |+ (f k,v))
</pre>

<DT><span class="strong">MAP_KEYS_using_LINV</span>
<DD>
<pre>
|- ‚àÄf fm.
     INJ f (FDOM fm) ùïå(:Œ≤) ‚áí
     (MAP_KEYS f fm =
      fm f_o_f FUN_FMAP (LINV f (FDOM fm)) (IMAGE f (FDOM fm)))
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_same</span>
<DD>
<pre>
|- fmap_rel R f1 f2 ‚àß R v1 v2 ‚áí fmap_rel R (f1 |+ (k,v1)) (f2 |+ (k,v2))
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_LIST_same</span>
<DD>
<pre>
|- ‚àÄR ls1 ls2 f1 f2.
     fmap_rel R f1 f2 ‚àß (MAP FST ls1 = MAP FST ls2) ‚àß
     LIST_REL R (MAP SND ls1) (MAP SND ls2) ‚áí
     fmap_rel R (f1 |++ ls1) (f2 |++ ls2)
</pre>

<DT><span class="strong">fmap_rel_FEMPTY</span>
<DD>
<pre>
|- fmap_rel R FEMPTY FEMPTY
</pre>

<DT><span class="strong">fmap_rel_FEMPTY2</span>
<DD>
<pre>
|- (fmap_rel R FEMPTY f ‚áî (f = FEMPTY)) ‚àß (fmap_rel R f FEMPTY ‚áî (f = FEMPTY))
</pre>

<DT><span class="strong">fmap_rel_refl</span>
<DD>
<pre>
|- (‚àÄx. R x x) ‚áí fmap_rel R x x
</pre>

<DT><span class="strong">fmap_rel_FUNION_rels</span>
<DD>
<pre>
|- fmap_rel R f1 f2 ‚àß fmap_rel R f3 f4 ‚áí fmap_rel R (f1 ‚äå f3) (f2 ‚äå f4)
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_I</span>
<DD>
<pre>
|- fmap_rel R (f1 \\ k) (f2 \\ k) ‚àß R v1 v2 ‚áí
   fmap_rel R (f1 |+ (k,v1)) (f2 |+ (k,v2))
</pre>

<DT><span class="strong">fmap_rel_mono</span>
<DD>
<pre>
|- (‚àÄx y. R1 x y ‚áí R2 x y) ‚áí fmap_rel R1 f1 f2 ‚áí fmap_rel R2 f1 f2
</pre>

<DT><span class="strong">fmap_EQ_UPTO___EMPTY</span>
<DD>
<pre>
|- ‚àÄf1 f2. fmap_EQ_UPTO f1 f2 ‚àÖ ‚áî (f1 = f2)
</pre>

<DT><span class="strong">fmap_EQ_UPTO___EQ</span>
<DD>
<pre>
|- ‚àÄvs f. fmap_EQ_UPTO f f vs
</pre>

<DT><span class="strong">fmap_EQ_UPTO___FUPDATE_BOTH</span>
<DD>
<pre>
|- ‚àÄf1 f2 ks k v.
     fmap_EQ_UPTO f1 f2 ks ‚áí
     fmap_EQ_UPTO (f1 |+ (k,v)) (f2 |+ (k,v)) (ks DELETE k)
</pre>

<DT><span class="strong">fmap_EQ_UPTO___FUPDATE_BOTH___NO_DELETE</span>
<DD>
<pre>
|- ‚àÄf1 f2 ks k v.
     fmap_EQ_UPTO f1 f2 ks ‚áí fmap_EQ_UPTO (f1 |+ (k,v)) (f2 |+ (k,v)) ks
</pre>

<DT><span class="strong">fmap_EQ_UPTO___FUPDATE_SING</span>
<DD>
<pre>
|- ‚àÄf1 f2 ks k v.
     fmap_EQ_UPTO f1 f2 ks ‚áí fmap_EQ_UPTO (f1 |+ (k,v)) f2 (k INSERT ks)
</pre>

<DT><span class="strong">o_f_FUNION</span>
<DD>
<pre>
|- f o_f (f1 ‚äå f2) = f o_f f1 ‚äå (f o_f f2)
</pre>

<DT><span class="strong">FDOM_FOLDR_DOMSUB</span>
<DD>
<pre>
|- ‚àÄls fm. FDOM (FOLDR (Œªk m. m \\ k) fm ls) = FDOM fm DIFF LIST_TO_SET ls
</pre>

<DT><span class="strong">FEVERY_SUBMAP</span>
<DD>
<pre>
|- FEVERY P fm ‚àß fm0 ‚äë fm ‚áí FEVERY P fm0
</pre>

<DT><span class="strong">FEVERY_ALL_FLOOKUP</span>
<DD>
<pre>
|- ‚àÄP f. FEVERY P f ‚áî ‚àÄk v. (FLOOKUP f k = SOME v) ‚áí P (k,v)
</pre>

<DT><span class="strong">FUPDATE_LIST_CANCEL</span>
<DD>
<pre>
|- ‚àÄls1 fm ls2.
     (‚àÄk. MEM k (MAP FST ls1) ‚áí MEM k (MAP FST ls2)) ‚áí
     (fm |++ ls1 |++ ls2 = fm |++ ls2)
</pre>

<DT><span class="strong">FUPDATE_EQ_FUNION</span>
<DD>
<pre>
|- ‚àÄfm kv. fm |+ kv = FEMPTY |+ kv ‚äå fm
</pre>

<DT><span class="strong">FUPDATE_LIST_APPEND_COMMUTES</span>
<DD>
<pre>
|- ‚àÄl1 l2 fm.
     DISJOINT (LIST_TO_SET (MAP FST l1)) (LIST_TO_SET (MAP FST l2)) ‚áí
     (fm |++ l1 |++ l2 = fm |++ l2 |++ l1)
</pre>

<DT><span class="strong">fmap_rel_OPTREL_FLOOKUP</span>
<DD>
<pre>
|- fmap_rel R f1 f2 ‚áî ‚àÄk. OPTREL R (FLOOKUP f1 k) (FLOOKUP f2 k)
</pre>

<DT><span class="strong">FLOOKUP_DRESTRICT</span>
<DD>
<pre>
|- ‚àÄfm s k. FLOOKUP (DRESTRICT fm s) k = if k ‚àà s then FLOOKUP fm k else NONE
</pre>

<DT><span class="strong">FUPDATE_LIST_ALL_DISTINCT_PERM</span>
<DD>
<pre>
|- ‚àÄls ls' fm.
     ALL_DISTINCT (MAP FST ls) ‚àß PERM ls ls' ‚áí (fm |++ ls = fm |++ ls')
</pre>

</DL>



<hr>
</body>
</html>
