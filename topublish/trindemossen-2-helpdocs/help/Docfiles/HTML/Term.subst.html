<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Term.subst</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h2 id="subst"><code>subst</code></h2>
<pre class="hol4"><code>Term.subst : (term,term) subst -&gt; term -&gt; term</code></pre>
<hr />
<p>Substitutes terms in a term.</p>
<p>Given a “(term,term) subst” (a list of <code>{redex, residue}</code>
records) and a term <code>tm</code>, <code>subst</code> attempts to
replace each free occurrence of a <code>redex</code> in <code>tm</code>
by its associated <code>residue</code>. The substitution is done in
parallel, i.e., once a redex has been replaced by its residue, at some
place in the term, that residue at that place will not itself be
replaced in the current call. When necessary, renaming of bound
variables in <code>tm</code> is done to avoid capturing the free
variables of an incoming residue.</p>
<h3 id="failure">Failure</h3>
<p>Failure occurs if there exists a <code>{redex, residue}</code> record
in the substitution such that the types of the <code>redex</code> and
<code>residue</code> are not equal.</p>
<h3 id="example">Example</h3>
<pre class="hol4"><code>- load &quot;arithmeticTheory&quot;;

- subst [Term`SUC 0` |-&gt; Term`1`]
        (Term`SUC(SUC 0)`);
&gt; val it = `SUC 1` : term

- subst [Term`SUC 0` |-&gt; Term`1`,
         Term`SUC 1` |-&gt; Term`2`]
        (Term`SUC(SUC 0)`);
&gt; val it = `SUC 1` : term

- subst [Term`SUC 0` |-&gt; Term`1`,
         Term`SUC 1` |-&gt; Term`2`]
        (Term`SUC(SUC 0) = SUC 1`);
&gt; val it = `SUC 1 = 2` : term

- subst [Term`b:num` |-&gt; Term`a:num`]
        (Term`\a:num. b:num`);
&gt; val it = `\a&#39;. a` : term

- subst [Term`flip:&#39;a` |-&gt; Term`foo:&#39;a`]
        (Term`waddle:&#39;a`);
&gt; val it = `waddle` : term</code></pre>
<h3 id="see-also">See also</h3>
<p><a href="Term.inst.html"><code>Term.inst</code></a>, <a
href="Thm.SUBST.html"><code>Thm.SUBST</code></a>, <a
href="Drule.SUBS.html"><code>Drule.SUBS</code></a>, <a
href="Lib..GZKQ4.html"><code>Lib.|-&gt;</code></a></p>
</body>
</html>
