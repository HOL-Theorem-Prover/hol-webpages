<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Arith.SUB_AND_COND_ELIM_CONV</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h2 id="sub_and_cond_elim_conv"><code>SUB_AND_COND_ELIM_CONV</code></h2>
<pre class="hol4"><code>Arith.SUB_AND_COND_ELIM_CONV : conv</code></pre>
<hr />
<p>Eliminates natural number subtraction, PRE, and conditional
statements from a formula.</p>
<p>This function eliminates natural number subtraction and the
predecessor function, <code>PRE</code>, from a formula, but in doing so
may generate conditional statements, so these are eliminated too. The
conditional statements are moved up through the term and if at any point
the branches of the conditional become Boolean-valued the conditional is
eliminated. Subtraction operators are moved up until a relation (such as
less-than) is reached. The subtraction can then be transformed into an
addition. Provided the argument term is a formula, only an abstraction
can prevent a conditional being moved up far enough to be eliminated. If
the term is not a formula it may not be possible to eliminate the
subtraction. The function is also incapable of eliminating subtractions
that appear in arguments to functions other than the standard operators
of arithmetic.</p>
<p>The function is not as delicate as it could be; it tries to eliminate
all conditionals in a formula when it need only eliminate those that
have to be removed in order to eliminate subtraction.</p>
<h3 id="failure">Failure</h3>
<p>Never fails.</p>
<h3 id="example">Example</h3>
<pre class="hol4"><code>#SUB_AND_COND_ELIM_CONV
# &quot;((p + 3) &lt;= n) ==&gt; (!m. ((m = 0) =&gt; (n - 1) | (n - 2)) &gt; p)&quot;;;
|- (p + 3) &lt;= n ==&gt; (!m. ((m = 0) =&gt; n - 1 | n - 2) &gt; p) =
   (p + 3) &lt;= n ==&gt;
   (!m. (~(m = 0) \/ n &gt; (1 + p)) /\ ((m = 0) \/ n &gt; (2 + p)))

#SUB_AND_COND_ELIM_CONV
# &quot;!f n. f ((SUC n = 0) =&gt; 0 | (SUC n - 1)) &lt; (f n) + 1&quot;;;
|- (!f n. (f((SUC n = 0) =&gt; 0 | (SUC n) - 1)) &lt; ((f n) + 1)) =
   (!f n.
     (~(SUC n = 0) \/ (f 0) &lt; ((f n) + 1)) /\
     ((SUC n = 0) \/ (f((SUC n) - 1)) &lt; ((f n) + 1)))

#SUB_AND_COND_ELIM_CONV
# &quot;!f n. (\m. f ((m = 0) =&gt; 0 | (m - 1))) (SUC n) &lt; (f n) + 1&quot;;;
|- (!f n. ((\m. f((m = 0) =&gt; 0 | m - 1))(SUC n)) &lt; ((f n) + 1)) =
   (!f n. ((\m. ((m = 0) =&gt; f 0 | f(m - 1)))(SUC n)) &lt; ((f n) + 1))</code></pre>
<p>Useful as a preprocessor to decision procedures which do not allow
natural number subtraction in their argument formula.</p>
<h3 id="see-also">See also</h3>
<p><a
href="Arith.COND_ELIM_CONV.html"><code>Arith.COND_ELIM_CONV</code></a></p>
</body>
</html>
