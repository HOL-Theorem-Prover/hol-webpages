<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>bossLib.xDefine</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h2 id="xdefine"><code>xDefine</code></h2>
<pre class="hol4"><code>bossLib.xDefine : string -&gt; term quotation -&gt; thm</code></pre>
<hr />
<p>General-purpose function definition facility.</p>
<p><code>xDefine</code> behaves exactly like <code>Define</code>, except
that it takes an alphanumeric string which is used as a stem for
building names with which to store the definition, associated induction
theorem (if there is one), and any auxiliary definitions used to
construct the specified function (if there are any) in the current
theory segment.</p>
<h3 id="failure">Failure</h3>
<p><code>xDefine</code> allows the definition of symbolic identifiers,
but <code>Define</code> doesn’t. In all other respects,
<code>xDefine</code> and <code>Define</code> succeed and fail in the
same way.</p>
<h3 id="example">Example</h3>
<p>The following example shows how <code>Define</code> fails when asked
to define a symbolic identifier.</p>
<pre class="hol4"><code>    - set_fixity (&quot;/&quot;, Infixl 600);    (* tell the parser about &quot;/&quot; *)
    &gt; val it = () : unit

    - Define
       `x/y = if y=0 then NONE else
              if x&lt;y then SOME 0
               else OPTION_MAP SUC ((x-y)/y)`;

    Definition failed! Can&#39;t make name for storing definition
    because there is no alphanumeric identifier in:

       &quot;/&quot;.

    Try &quot;xDefine &lt;alphanumeric-stem&gt; &lt;eqns-quotation&gt;&quot; instead.</code></pre>
<p>Next the same definition is attempted with <code>xDefine</code>,
supplying the name for binding the definition and the induction theorem
with in the current theory.</p>
<pre class="hol4"><code>    - xDefine &quot;div&quot;
         `x/y = if y=0 then NONE else
                if x&lt;y then SOME 0
                 else OPTION_MAP SUC ((x-y)/y)`;

    Equations stored under &quot;div_def&quot;.
    Induction stored under &quot;div_ind&quot;.

    &gt; val it =
        |- x / y =
           (if y = 0 then NONE
            else
             (if x &lt; y then SOME 0
                       else OPTION_MAP SUC ((x - y) / y))) : thm</code></pre>
<h3 id="comments">Comments</h3>
<p><code>Define</code> can be thought of as an application of
<code>xDefine</code>, in which the stem is taken to be the name of the
function being defined.</p>
<p><code>bossLib.xDefine</code> is most commonly used.
<code>TotalDefn.xDefine</code> is identical to
<code>bossLib.xDefine</code>, except that the <code>TotalDefn</code>
structure comes with less baggage—it depends only on <code>numLib</code>
and <code>pairLib</code>.</p>
<h3 id="see-also">See also</h3>
<p><a href="bossLib.Define.html"><code>bossLib.Define</code></a></p>
</body>
</html>
