<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Drule.define_new_type_bijections</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h2
id="define_new_type_bijections"><code>define_new_type_bijections</code></h2>
<pre class="hol4"><code>Drule.define_new_type_bijections :
  {name:string, ABS:string, REP:string, tyax:thm} -&gt; thm</code></pre>
<hr />
<p>Introduces abstraction and representation functions for a defined
type.</p>
<p>The result of making a type definition using
<code>new_type_definition</code> is a theorem of the following form:</p>
<pre class="hol4"><code>   |- ?rep:nty-&gt;ty. TYPE_DEFINITION P rep</code></pre>
<p>which asserts only the existence of a bijection from the type it
defines (in this case, <code>nty</code>) to the corresponding subset of
an existing type (here, <code>ty</code>) whose characteristic function
is specified by <code>P</code>. To automatically introduce constants
that in fact denote this bijection and its inverse, the ML function
<code>define_new_type_bijections</code> is provided.</p>
<p><code>name</code> is the name under which the constant definition (a
constant specification, in fact) made by
<code>define_new_type_bijections</code> will be stored in the current
theory segment. <code>tyax</code> must be a definitional axiom of the
form returned by <code>new_type_definition</code>. <code>ABS</code> and
<code>REP</code> are the user-specified names for the two constants that
are to be defined. These constants are defined so as to denote mutually
inverse bijections between the defined type, whose definition is given
by <code>tyax</code>, and the representing type of this defined
type.</p>
<p>If <code>th</code> is a theorem of the form returned by
<code>new_type_definition</code>:</p>
<pre class="hol4"><code>   |- ?rep:newty-&gt;ty. TYPE_DEFINITION P rep</code></pre>
<p>then evaluating:</p>
<pre class="hol4"><code>   define_new_type_bijections{name=&quot;name&quot;,ABS=&quot;abs&quot;,REP=&quot;rep&quot;,tyax=th} th</code></pre>
<p>automatically defines two new constants <code>abs:ty-&gt;newty</code>
and <code>rep:newty-&gt;ty</code> such that:</p>
<pre class="hol4"><code>   |- (!a. abs(rep a) = a) /\ (!r. P r = (rep(abs r) = r))</code></pre>
<p>This theorem, which is the defining property for the constants
<code>abs</code> and <code>rep</code>, is stored under the name
<code>name</code> in the current theory segment. It is also the value
returned by <code>define_new_type_bijections</code>. The theorem states
that <code>abs</code> is the left inverse of <code>rep</code> and, for
values satisfying <code>P</code>, that <code>rep</code> is the left
inverse of <code>abs</code>.</p>
<h3 id="failure">Failure</h3>
<p>A call <code>define_new_type_bijections{name,ABS,REP,tyax}</code>
fails if <code>tyax</code> is not a theorem of the form returned by
<code>new_type_definition</code>.</p>
<h3 id="see-also">See also</h3>
<p><a
href="Definition.new_type_definition.html"><code>Definition.new_type_definition</code></a>,
<a
href="Drule.prove_abs_fn_one_one.html"><code>Drule.prove_abs_fn_one_one</code></a>,
<a
href="Drule.prove_abs_fn_onto.html"><code>Drule.prove_abs_fn_onto</code></a>,
<a
href="Drule.prove_rep_fn_one_one.html"><code>Drule.prove_rep_fn_one_one</code></a>,
<a
href="Drule.prove_rep_fn_onto.html"><code>Drule.prove_rep_fn_onto</code></a></p>
</body>
</html>
