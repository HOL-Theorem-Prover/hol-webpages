<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Parse.add_infix_type</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h2 id="add_infix_type"><code>add_infix_type</code></h2>
<pre class="hol4"><code>Parse.add_infix_type : {Assoc : associativity,
                  Name : string,
                  ParseName : string option,
                  Prec : int} -&gt;
                 unit</code></pre>
<hr />
<p>Adds a type infix.</p>
<p>A call to <code>add_infix_type</code> adds an infix type symbol to
the type grammar. The argument is a record of four values providing
information about the infix.</p>
<p>The <code>Assoc</code> field specifies the associativity of the
symbol (possible values: <code>LEFT</code>, <code>RIGHT</code> and
<code>NONASSOC</code>). The standard HOL type infixes (<code>+</code>,
<code>#</code>, <code>-&gt;</code> and <code>|-&gt;</code>) are all
right-associative. The <code>Name</code> field specifies the name of the
binary type operator that is being mapped to. If the name of the type is
not the same as the concrete syntax (as in all the standard HOL examples
above), the concrete syntax can be provided in the
<code>ParseName</code> field. The <code>Prec</code> field specifies the
binding precedence of the infix. This should be a number less than 100,
and probably greater than or equal to 50, where the function
<code>-&gt;</code> symbol lies. The greater the number, the more tightly
the symbol attempts to “grab” its arguments.</p>
<h3 id="failure">Failure</h3>
<p>Fails if the desired precedence level contains an existing infix with
a different associativity.</p>
<h3 id="example">Example</h3>
<pre class="hol4"><code>- Hol_datatype `atree = Nd of &#39;v =&gt; (&#39;k # atree) list`;
&lt;&lt;HOL message: Defined type: &quot;atree&quot;&gt;&gt;
&gt; val it = () : unit

- add_infix_type { Assoc = LEFT, Name = &quot;atree&quot;,
                   ParseName = SOME &quot;&gt;-&gt;&quot;, Prec = 65 };
&gt; val it = () : unit

- type_of ``Nd``;
&lt;&lt;HOL message: inventing new type variable names: &#39;a, &#39;b&gt;&gt;
&gt; val it = ``:&#39;a -&gt; (&#39;b # (&#39;b &gt;-&gt; &#39;a)) list -&gt; &#39;b &gt;-&gt; &#39;a`` : hol_type</code></pre>
</body>
</html>
