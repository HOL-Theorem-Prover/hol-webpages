<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: bitstring</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "bitstring"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "wordsTheory.html"><span class="strong">words</span></a>

<h1>Signature</h1>
<center>
    <table BORDER=4 CELLPADDING=10 CELLSPACING=1>
    
    <tr> <th> Constant <th> Type<tr><td>
    <span class="strong">add</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">band</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">bitify</span>
    <td>
    :num list -> bool list -> num list
    <tr><td>
    <span class="strong">bitwise</span>
    <td>
    :(bool -> bool -> bool) -> bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">bnand</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">bnor</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td> <span class="strong">bnot</span> <td> :bool list -> bool list
    <tr><td>
    <span class="strong">boolify</span>
    <td>
    :bool list -> num list -> bool list
    <tr><td>
    <span class="strong">bor</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">bxnor</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">bxor</span>
    <td>
    :bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">extend</span>
    <td>
    :bool -> num -> bool list -> bool list
    <tr><td>
    <span class="strong">field</span>
    <td>
    :num -> num -> bool list -> bool list
    <tr><td>
    <span class="strong">field_insert</span>
    <td>
    :num -> num -> bool list -> bool list -> bool list
    <tr><td>
    <span class="strong">fixwidth</span>
    <td>
    :num -> bool list -> bool list
    <tr><td>
    <span class="strong">modify</span>
    <td>
    :(num -> bool -> bool) -> bool list -> bool list
    <tr><td> <span class="strong">n2v</span> <td> :num -> bool list
    <tr><td>
    <span class="strong">replicate</span>
    <td>
    :bool list -> num -> bool list
    <tr><td> <span class="strong">rev_count_list</span> <td> :num -> num list
    <tr><td>
    <span class="strong">rotate</span>
    <td>
    :bool list -> num -> bool list
    <tr><td> <span class="strong">s2v</span> <td> :string -> bool list
    <tr><td>
    <span class="strong">shiftl</span>
    <td>
    :bool list -> num -> bool list
    <tr><td>
    <span class="strong">shiftr</span>
    <td>
    :bool list -> num -> bool list
    <tr><td>
    <span class="strong">sign_extend</span>
    <td>
    :num -> Œ± list -> Œ± list
    <tr><td>
    <span class="strong">testbit</span>
    <td>
    :num -> bool list -> bool
    <tr><td> <span class="strong">v2n</span> <td> :bool list -> num
    <tr><td> <span class="strong">v2s</span> <td> :bool list -> string
    <tr><td> <span class="strong">v2w</span> <td> :bool list -> Œ± word
    <tr><td> <span class="strong">w2v</span> <td> :Œ± word -> bool list
    <tr><td>
    <span class="strong">zero_extend</span>
    <td>
    :num -> bool list -> bool list
    
</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">add_def</span>
<DD>
<pre>
‚ä¢ ‚àÄa b.
    add a b =
    (let m = MAX (LENGTH a) (LENGTH b) in zero_extend m (n2v (v2n a + v2n b)))
</pre>

<DT><span class="strong">band_def</span>
<DD>
<pre>
‚ä¢ band = bitwise $/\
</pre>

<DT><span class="strong">bitwise_def</span>
<DD>
<pre>
‚ä¢ ‚àÄf v1 v2.
    bitwise f v1 v2 =
    (let
       m = MAX (LENGTH v1) (LENGTH v2)
     in
       MAP f·¥æ (ZIP (fixwidth m v1,fixwidth m v2)))
</pre>

<DT><span class="strong">bnand_def</span>
<DD>
<pre>
‚ä¢ bnand = bitwise (Œªx y. ¬¨(x ‚àß y))
</pre>

<DT><span class="strong">bnor_def</span>
<DD>
<pre>
‚ä¢ bnor = bitwise (Œªx y. ¬¨(x ‚à® y))
</pre>

<DT><span class="strong">bnot_def</span>
<DD>
<pre>
‚ä¢ bnot = MAP $¬¨
</pre>

<DT><span class="strong">boolify_def</span>
<DD>
<pre>
‚ä¢ (‚àÄa. boolify a [] = a) ‚àß ‚àÄa n l. boolify a (n::l) = boolify ((n ‚â† 0)::a) l
</pre>

<DT><span class="strong">bor_def</span>
<DD>
<pre>
‚ä¢ bor = bitwise $\/
</pre>

<DT><span class="strong">bxnor_def</span>
<DD>
<pre>
‚ä¢ bxnor = bitwise $<=>
</pre>

<DT><span class="strong">bxor_def</span>
<DD>
<pre>
‚ä¢ bxor = bitwise (Œªx y. x ‚áé y)
</pre>

<DT><span class="strong">extend_def</span>
<DD>
<pre>
‚ä¢ (‚àÄv0 l. extend v0 0 l = l) ‚àß ‚àÄc n l. extend c (SUC n) l = extend c n (c::l)
</pre>

<DT><span class="strong">field_def</span>
<DD>
<pre>
‚ä¢ ‚àÄh l v. field h l v = fixwidth (SUC h ‚àí l) (shiftr v l)
</pre>

<DT><span class="strong">field_insert_def</span>
<DD>
<pre>
‚ä¢ ‚àÄh l s.
    field_insert h l s = modify (Œªi. COND (l ‚â§ i ‚àß i ‚â§ h) (testbit (i ‚àí l) s))
</pre>

<DT><span class="strong">fixwidth_def</span>
<DD>
<pre>
‚ä¢ ‚àÄn v.
    fixwidth n v =
    (let l = LENGTH v in if l < n then zero_extend n v else DROP (l ‚àí n) v)
</pre>

<DT><span class="strong">modify_def</span>
<DD>
<pre>
‚ä¢ ‚àÄf v. modify f v = MAP f·¥æ (ZIP (rev_count_list (LENGTH v),v))
</pre>

<DT><span class="strong">n2v_def</span>
<DD>
<pre>
‚ä¢ ‚àÄn. n2v n = boolify [] (n2l 2 n)
</pre>

<DT><span class="strong">replicate_def</span>
<DD>
<pre>
‚ä¢ ‚àÄv n. replicate v n = FLAT (GENLIST (K v) n)
</pre>

<DT><span class="strong">rev_count_list_def</span>
<DD>
<pre>
‚ä¢ ‚àÄn. rev_count_list n = GENLIST (Œªi. n ‚àí 1 ‚àí i) n
</pre>

<DT><span class="strong">rotate_def</span>
<DD>
<pre>
‚ä¢ ‚àÄv m.
    rotate v m =
    (let
       l = LENGTH v;
       x = m MOD l
     in
       if l = 0 ‚à® x = 0 then v else field (x ‚àí 1) 0 v ++ field (l ‚àí 1) x v)
</pre>

<DT><span class="strong">s2v_def</span>
<DD>
<pre>
‚ä¢ s2v = MAP (Œªc. c = #"1" ‚à® c = #"T")
</pre>

<DT><span class="strong">shiftl_def</span>
<DD>
<pre>
‚ä¢ ‚àÄv m. shiftl v m = PAD_RIGHT F (LENGTH v + m) v
</pre>

<DT><span class="strong">shiftr_def</span>
<DD>
<pre>
‚ä¢ ‚àÄv m. shiftr v m = TAKE (LENGTH v ‚àí m) v
</pre>

<DT><span class="strong">sign_extend_def</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. sign_extend n v = PAD_LEFT (HD v) n v
</pre>

<DT><span class="strong">testbit_def</span>
<DD>
<pre>
‚ä¢ ‚àÄb v. testbit b v ‚áî field b b v = [T]
</pre>

<DT><span class="strong">v2n_def</span>
<DD>
<pre>
‚ä¢ ‚àÄl. v2n l = l2n 2 (bitify [] l)
</pre>

<DT><span class="strong">v2s_def</span>
<DD>
<pre>
‚ä¢ v2s = MAP (Œªb. if b then #"1" else #"0")
</pre>

<DT><span class="strong">v2w_def</span>
<DD>
<pre>
‚ä¢ ‚àÄv. v2w v = FCP i. testbit i v
</pre>

<DT><span class="strong">w2v_def</span>
<DD>
<pre>
‚ä¢ ‚àÄw. w2v w = GENLIST (Œªi. w ' (dimindex (:Œ±) ‚àí 1 ‚àí i)) (dimindex (:Œ±))
</pre>

<DT><span class="strong">zero_extend_def</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. zero_extend n v = PAD_LEFT F n v
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">bit_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. word_bit n (v2w v) ‚áî n < dimindex (:Œ±) ‚àß testbit n v
</pre>

<DT><span class="strong">bitify_def</span>
<DD>
<pre>
‚ä¢ (‚àÄa. bitify a [] = a) ‚àß (‚àÄl a. bitify a (F::l) = bitify (0::a) l) ‚àß
  ‚àÄl a. bitify a (T::l) = bitify (1::a) l
</pre>

<DT><span class="strong">bitify_ind</span>
<DD>
<pre>
‚ä¢ ‚àÄP. (‚àÄa. P a []) ‚àß (‚àÄa l. P (0::a) l ‚áí P a (F::l)) ‚àß
      (‚àÄa l. P (1::a) l ‚áí P a (T::l)) ‚áí
      ‚àÄv v1. P v v1
</pre>

<DT><span class="strong">bitify_reverse_map</span>
<DD>
<pre>
‚ä¢ ‚àÄv a. bitify a v = REVERSE (MAP (Œªb. if b then 1 else 0) v) ++ a
</pre>

<DT><span class="strong">bitstring_nchotomy</span>
<DD>
<pre>
‚ä¢ ‚àÄw. ‚àÉv. w = v2w v
</pre>

<DT><span class="strong">boolify_reverse_map</span>
<DD>
<pre>
‚ä¢ ‚àÄv a. boolify a v = REVERSE (MAP (Œªn. n ‚â† 0) v) ++ a
</pre>

<DT><span class="strong">el_field</span>
<DD>
<pre>
‚ä¢ ‚àÄv h l i.
    i < SUC h ‚àí l ‚áí
    (EL i (field h l v) ‚áî SUC h ‚â§ i + LENGTH v ‚àß EL (i + LENGTH v ‚àí SUC h) v)
</pre>

<DT><span class="strong">el_fixwidth</span>
<DD>
<pre>
‚ä¢ ‚àÄi n w.
    i < n ‚áí
    (EL i (fixwidth n w) ‚áî
     if LENGTH w < n then n ‚àí LENGTH w ‚â§ i ‚àß EL (i ‚àí (n ‚àí LENGTH w)) w
     else EL (i + (LENGTH w ‚àí n)) w)
</pre>

<DT><span class="strong">el_rev_count_list</span>
<DD>
<pre>
‚ä¢ ‚àÄn i. i < n ‚áí EL i (rev_count_list n) = n ‚àí 1 ‚àí i
</pre>

<DT><span class="strong">el_shiftr</span>
<DD>
<pre>
‚ä¢ ‚àÄi v n d.
    n < d ‚àß i < d ‚àí n ‚àß 0 < d ‚áí
    (EL i (shiftr (fixwidth d v) n) ‚áî
     d ‚â§ i + LENGTH v ‚àß EL (i + LENGTH v ‚àí d) v)
</pre>

<DT><span class="strong">el_sign_extend</span>
<DD>
<pre>
‚ä¢ ‚àÄn i v.
    EL i (sign_extend n v) =
    if i < n ‚àí LENGTH v then EL 0 v else EL (i ‚àí (n ‚àí LENGTH v)) v
</pre>

<DT><span class="strong">el_w2v</span>
<DD>
<pre>
‚ä¢ ‚àÄw n. n < dimindex (:Œ±) ‚áí (EL n (w2v w) ‚áî w ' (dimindex (:Œ±) ‚àí 1 ‚àí n))
</pre>

<DT><span class="strong">el_zero_extend</span>
<DD>
<pre>
‚ä¢ ‚àÄn i v.
    EL i (zero_extend n v) ‚áî n ‚àí LENGTH v ‚â§ i ‚àß EL (i ‚àí (n ‚àí LENGTH v)) v
</pre>

<DT><span class="strong">every_bit_bitify</span>
<DD>
<pre>
‚ä¢ ‚àÄv. EVERY ($> 2) (bitify [] v)
</pre>

<DT><span class="strong">extend</span>
<DD>
<pre>
‚ä¢ (‚àÄn v. zero_extend n v = extend F (n ‚àí LENGTH v) v) ‚àß
  ‚àÄn v. sign_extend n v = extend (HD v) (n ‚àí LENGTH v) v
</pre>

<DT><span class="strong">extend_compute</span>
<DD>
<pre>
‚ä¢ (‚àÄv0 l. extend v0 0 l = l) ‚àß
  (‚àÄc n l.
     extend c <..num comp'n..> l = extend c (<..num comp'n..> ‚àí 1) (c::l)) ‚àß
  ‚àÄc n l. extend c <..num comp'n..> l = extend c <..num comp'n..> (c::l)
</pre>

<DT><span class="strong">extend_cons</span>
<DD>
<pre>
‚ä¢ ‚àÄn c l. extend c (SUC n) l = c::extend c n l
</pre>

<DT><span class="strong">extract_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄh l v.
    LENGTH v ‚â§ dimindex (:Œ±) ‚àß dimindex (:Œ≤) = SUC h ‚àí l ‚àß
    dimindex (:Œ≤) ‚â§ dimindex (:Œ±) ‚áí
    (h >< l) (v2w v) = v2w (field h l v)
</pre>

<DT><span class="strong">field_concat_left</span>
<DD>
<pre>
‚ä¢ ‚àÄh l a b.
    l ‚â§ h ‚àß LENGTH b ‚â§ l ‚áí
    field h l (a ++ b) = field (h ‚àí LENGTH b) (l ‚àí LENGTH b) a
</pre>

<DT><span class="strong">field_concat_right</span>
<DD>
<pre>
‚ä¢ ‚àÄh a b. LENGTH b = SUC h ‚áí field h 0 (a ++ b) = b
</pre>

<DT><span class="strong">field_fixwidth</span>
<DD>
<pre>
‚ä¢ ‚àÄh v. field h 0 v = fixwidth (SUC h) v
</pre>

<DT><span class="strong">field_id_imp</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. SUC n = LENGTH v ‚áí field n 0 v = v
</pre>

<DT><span class="strong">fixwidth</span>
<DD>
<pre>
‚ä¢ ‚àÄn v.
    fixwidth n v =
    (let l = LENGTH v in if l < n then extend F (n ‚àí l) v else DROP (l ‚àí n) v)
</pre>

<DT><span class="strong">fixwidth_REPLICATE</span>
<DD>
<pre>
‚ä¢ ‚àÄlen l.
    fixwidth len l =
    if LENGTH l ‚â§ len then REPLICATE (len ‚àí LENGTH l) F ++ l
    else DROP (LENGTH l ‚àí len) l
</pre>

<DT><span class="strong">fixwidth_eq</span>
<DD>
<pre>
‚ä¢ ‚àÄn v w.
    fixwidth n v = fixwidth n w ‚áî ‚àÄi. i < n ‚áí (testbit i v ‚áî testbit i w)
</pre>

<DT><span class="strong">fixwidth_fixwidth</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. fixwidth n (fixwidth n v) = fixwidth n v
</pre>

<DT><span class="strong">fixwidth_id</span>
<DD>
<pre>
‚ä¢ ‚àÄw. fixwidth (LENGTH w) w = w
</pre>

<DT><span class="strong">fixwidth_id_imp</span>
<DD>
<pre>
‚ä¢ ‚àÄn w. n = LENGTH w ‚áí fixwidth n w = w
</pre>

<DT><span class="strong">length_bitify</span>
<DD>
<pre>
‚ä¢ ‚àÄv l. LENGTH (bitify l v) = LENGTH l + LENGTH v
</pre>

<DT><span class="strong">length_bitify_null</span>
<DD>
<pre>
‚ä¢ ‚àÄv l. LENGTH (bitify [] v) = LENGTH v
</pre>

<DT><span class="strong">length_field</span>
<DD>
<pre>
‚ä¢ ‚àÄh l v. LENGTH (field h l v) = SUC h ‚àí l
</pre>

<DT><span class="strong">length_fixwidth</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. LENGTH (fixwidth n v) = n
</pre>

<DT><span class="strong">length_pad_left</span>
<DD>
<pre>
‚ä¢ ‚àÄx n a. LENGTH (PAD_LEFT x n a) = if LENGTH a < n then n else LENGTH a
</pre>

<DT><span class="strong">length_pad_right</span>
<DD>
<pre>
‚ä¢ ‚àÄx n a. LENGTH (PAD_RIGHT x n a) = if LENGTH a < n then n else LENGTH a
</pre>

<DT><span class="strong">length_rev_count_list</span>
<DD>
<pre>
‚ä¢ ‚àÄn. LENGTH (rev_count_list n) = n
</pre>

<DT><span class="strong">length_rotate</span>
<DD>
<pre>
‚ä¢ ‚àÄv n. LENGTH (rotate v n) = LENGTH v
</pre>

<DT><span class="strong">length_shiftr</span>
<DD>
<pre>
‚ä¢ ‚àÄv n. LENGTH (shiftr v n) = LENGTH v ‚àí n
</pre>

<DT><span class="strong">length_sign_extend</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. LENGTH v ‚â§ n ‚áí LENGTH (sign_extend n v) = n
</pre>

<DT><span class="strong">length_w2v</span>
<DD>
<pre>
‚ä¢ ‚àÄw. LENGTH (w2v w) = dimindex (:Œ±)
</pre>

<DT><span class="strong">length_zero_extend</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. LENGTH v ‚â§ n ‚áí LENGTH (zero_extend n v) = n
</pre>

<DT><span class="strong">n2w_v2n</span>
<DD>
<pre>
‚ä¢ ‚àÄv. n2w (v2n v) = v2w v
</pre>

<DT><span class="strong">ops_to_n2w</span>
<DD>
<pre>
‚ä¢ (‚àÄv. -v2w v = -n2w (v2n v)) ‚àß
  (‚àÄv. word_log2 (v2w v) = word_log2 (n2w (v2n v))) ‚àß
  (‚àÄv n. v2w v = n2w n ‚áî n2w (v2n v) = n2w n) ‚àß
  (‚àÄv n. n2w n = v2w v ‚áî n2w n = n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v + w = n2w (v2n v) + w) ‚àß (‚àÄv w. w + v2w v = w + n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v ‚àí w = n2w (v2n v) ‚àí w) ‚àß (‚àÄv w. w ‚àí v2w v = w ‚àí n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v * w = n2w (v2n v) * w) ‚àß (‚àÄv w. w * v2w v = w * n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v / w = n2w (v2n v) / w) ‚àß (‚àÄv w. w / v2w v = w / n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v // w = n2w (v2n v) // w) ‚àß
  (‚àÄv w. w // v2w v = w // n2w (v2n v)) ‚àß
  (‚àÄv w. word_mod (v2w v) w = word_mod (n2w (v2n v)) w) ‚àß
  (‚àÄv w. word_mod w (v2w v) = word_mod w (n2w (v2n v))) ‚àß
  (‚àÄv w. v2w v < w ‚áî n2w (v2n v) < w) ‚àß (‚àÄv w. w < v2w v ‚áî w < n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v > w ‚áî n2w (v2n v) > w) ‚àß (‚àÄv w. w > v2w v ‚áî w > n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v ‚â§ w ‚áî n2w (v2n v) ‚â§ w) ‚àß (‚àÄv w. w ‚â§ v2w v ‚áî w ‚â§ n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v ‚â• w ‚áî n2w (v2n v) ‚â• w) ‚àß (‚àÄv w. w ‚â• v2w v ‚áî w ‚â• n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v <‚Çä w ‚áî n2w (v2n v) <‚Çä w) ‚àß
  (‚àÄv w. w <‚Çä v2w v ‚áî w <‚Çä n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v >‚Çä w ‚áî n2w (v2n v) >‚Çä w) ‚àß
  (‚àÄv w. w >‚Çä v2w v ‚áî w >‚Çä n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v ‚â§‚Çä w ‚áî n2w (v2n v) ‚â§‚Çä w) ‚àß
  (‚àÄv w. w ‚â§‚Çä v2w v ‚áî w ‚â§‚Çä n2w (v2n v)) ‚àß
  (‚àÄv w. v2w v ‚â•‚Çä w ‚áî n2w (v2n v) ‚â•‚Çä w) ‚àß ‚àÄv w. w ‚â•‚Çä v2w v ‚áî w ‚â•‚Çä n2w (v2n v)
</pre>

<DT><span class="strong">ops_to_v2w</span>
<DD>
<pre>
‚ä¢ (‚àÄv n. v2w v ‚Äñ n2w n = v2w v ‚Äñ v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n ‚Äñ v2w v = v2w (n2v n) ‚Äñ v2w v) ‚àß
  (‚àÄv n. v2w v && n2w n = v2w v && v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n && v2w v = v2w (n2v n) && v2w v) ‚àß
  (‚àÄv n. v2w v ‚äï n2w n = v2w v ‚äï v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n ‚äï v2w v = v2w (n2v n) ‚äï v2w v) ‚àß
  (‚àÄv n. v2w v ~|| n2w n = v2w v ~|| v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n ~|| v2w v = v2w (n2v n) ~|| v2w v) ‚àß
  (‚àÄv n. v2w v ~&& n2w n = v2w v ~&& v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n ~&& v2w v = v2w (n2v n) ~&& v2w v) ‚àß
  (‚àÄv n. v2w v ~?? n2w n = v2w v ~?? v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n ~?? v2w v = v2w (n2v n) ~?? v2w v) ‚àß
  (‚àÄv n. v2w v @@ n2w n = v2w v @@ v2w (n2v n)) ‚àß
  (‚àÄv n. n2w n @@ v2w v = v2w (n2v n) @@ v2w v) ‚àß
  (‚àÄv n. word_join (v2w v) (n2w n) = word_join (v2w v) (v2w (n2v n))) ‚àß
  ‚àÄv n. word_join (n2w n) (v2w v) = word_join (v2w (n2v n)) (v2w v)
</pre>

<DT><span class="strong">pad_left_extend</span>
<DD>
<pre>
‚ä¢ ‚àÄn l c. PAD_LEFT c n l = extend c (n ‚àí LENGTH l) l
</pre>

<DT><span class="strong">ranged_bitstring_nchotomy</span>
<DD>
<pre>
‚ä¢ ‚àÄw. ‚àÉv. w = v2w v ‚àß Abbrev (LENGTH v = dimindex (:Œ±))
</pre>

<DT><span class="strong">reduce_and_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. reduce_and (v2w v) = word_reduce $/\ (v2w v)
</pre>

<DT><span class="strong">reduce_or_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. reduce_or (v2w v) = word_reduce $\/ (v2w v)
</pre>

<DT><span class="strong">shiftl_replicate_F</span>
<DD>
<pre>
‚ä¢ ‚àÄv n. shiftl v n = v ++ replicate [F] n
</pre>

<DT><span class="strong">shiftr_0</span>
<DD>
<pre>
‚ä¢ ‚àÄv. shiftr v 0 = v
</pre>

<DT><span class="strong">sw2sw_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. sw2sw (v2w v) =
      if dimindex (:Œ±) < dimindex (:Œ≤) then
        v2w (sign_extend (dimindex (:Œ≤)) (fixwidth (dimindex (:Œ±)) v))
      else v2w (fixwidth (dimindex (:Œ≤)) v)
</pre>

<DT><span class="strong">testbit</span>
<DD>
<pre>
‚ä¢ ‚àÄb v. testbit b v ‚áî (let n = LENGTH v in b < n ‚àß EL (n ‚àí 1 ‚àí b) v)
</pre>

<DT><span class="strong">testbit_el</span>
<DD>
<pre>
‚ä¢ ‚àÄv i. i < LENGTH v ‚áí (testbit i v ‚áî EL (LENGTH v ‚àí 1 ‚àí i) v)
</pre>

<DT><span class="strong">testbit_geq_len</span>
<DD>
<pre>
‚ä¢ ‚àÄv i. LENGTH v ‚â§ i ‚áí ¬¨testbit i v
</pre>

<DT><span class="strong">testbit_w2v</span>
<DD>
<pre>
‚ä¢ ‚àÄn w. testbit n (w2v w) ‚áî word_bit n w
</pre>

<DT><span class="strong">v2n</span>
<DD>
<pre>
‚ä¢ v2n [] = 0 ‚àß v2n (b::bs) = if b then 2 ** LENGTH bs + v2n bs else v2n bs
</pre>

<DT><span class="strong">v2n_APPEND</span>
<DD>
<pre>
‚ä¢ ‚àÄa b. v2n (a ++ b) = v2n b + 2 ** LENGTH b * v2n a
</pre>

<DT><span class="strong">v2n_lt</span>
<DD>
<pre>
‚ä¢ ‚àÄv. v2n v < 2 ** LENGTH v
</pre>

<DT><span class="strong">v2n_n2v</span>
<DD>
<pre>
‚ä¢ ‚àÄn. v2n (n2v n) = n
</pre>

<DT><span class="strong">v2w_11</span>
<DD>
<pre>
‚ä¢ ‚àÄv w.
    v2w v = v2w w ‚áî fixwidth (dimindex (:Œ±)) v = fixwidth (dimindex (:Œ±)) w
</pre>

<DT><span class="strong">v2w_fixwidth</span>
<DD>
<pre>
‚ä¢ ‚àÄv. v2w (fixwidth (dimindex (:Œ±)) v) = v2w v
</pre>

<DT><span class="strong">v2w_n2v</span>
<DD>
<pre>
‚ä¢ ‚àÄn. v2w (n2v n) = n2w n
</pre>

<DT><span class="strong">v2w_w2v</span>
<DD>
<pre>
‚ä¢ ‚àÄw. v2w (w2v w) = w
</pre>

<DT><span class="strong">w2n_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. w2n (v2w v) = MOD_2EXP (dimindex (:Œ±)) (v2n v)
</pre>

<DT><span class="strong">w2v_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. w2v (v2w v) = fixwidth (dimindex (:Œ±)) v
</pre>

<DT><span class="strong">w2w_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. w2w (v2w v) =
      v2w
        (fixwidth
           (if dimindex (:Œ≤) < dimindex (:Œ±) then dimindex (:Œ≤)
            else dimindex (:Œ±)) v)
</pre>

<DT><span class="strong">word_1comp_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. ¬¨v2w v = v2w (bnot (fixwidth (dimindex (:Œ±)) v))
</pre>

<DT><span class="strong">word_and_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv w. v2w v && v2w w = v2w (band v w)
</pre>

<DT><span class="strong">word_asr_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄn v.
    v2w v ‚â´ n =
    (let
       l = fixwidth (dimindex (:Œ±)) v
     in
       v2w
         (sign_extend (dimindex (:Œ±))
            (if dimindex (:Œ±) ‚â§ n then [HD l] else shiftr l n)))
</pre>

<DT><span class="strong">word_bit_last_shiftr</span>
<DD>
<pre>
‚ä¢ ‚àÄi v.
    i < dimindex (:Œ±) ‚áí
    (word_bit i (v2w v) ‚áî (let l = shiftr v i in ¬¨NULL l ‚àß LAST l))
</pre>

<DT><span class="strong">word_bits_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄh l v. (h -- l) (v2w v) = v2w (field h l (fixwidth (dimindex (:Œ±)) v))
</pre>

<DT><span class="strong">word_concat_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv1 v2.
    FINITE ùïå(:Œ±) ‚àß FINITE ùïå(:Œ≤) ‚áí
    v2w v1 @@ v2w v2 =
    v2w
      (fixwidth (MIN (dimindex (:Œ≥)) (dimindex (:Œ±) + dimindex (:Œ≤)))
         (v1 ++ fixwidth (dimindex (:Œ≤)) v2))
</pre>

<DT><span class="strong">word_concat_v2w_rwt</span>
<DD>
<pre>
‚ä¢ ‚àÄv1 v2.
    v2w v1 @@ v2w v2 =
    if FINITE ùïå(:Œ±) ‚àß FINITE ùïå(:Œ≤) then
      v2w
        (fixwidth (MIN (dimindex (:Œ≥)) (dimindex (:Œ±) + dimindex (:Œ≤)))
           (v1 ++ fixwidth (dimindex (:Œ≤)) v2))
    else FAIL $@@ $var$(bad domain) (v2w v1) (v2w v2)
</pre>

<DT><span class="strong">word_extract_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄh l v. (h >< l) (v2w v) = w2w ((h -- l) (v2w v))
</pre>

<DT><span class="strong">word_index_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv i.
    v2w v ' i ‚áî
    if i < dimindex (:Œ±) then testbit i v
    else FAIL $' $var$(index too large) (v2w v) i
</pre>

<DT><span class="strong">word_join_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv1 v2.
    FINITE ùïå(:Œ±) ‚àß FINITE ùïå(:Œ≤) ‚áí
    word_join (v2w v1) (v2w v2) = v2w (v1 ++ fixwidth (dimindex (:Œ≤)) v2)
</pre>

<DT><span class="strong">word_join_v2w_rwt</span>
<DD>
<pre>
‚ä¢ ‚àÄv1 v2.
    word_join (v2w v1) (v2w v2) =
    if FINITE ùïå(:Œ±) ‚àß FINITE ùïå(:Œ≤) then
      v2w (v1 ++ fixwidth (dimindex (:Œ≤)) v2)
    else FAIL word_join $var$(bad domain) (v2w v1) (v2w v2)
</pre>

<DT><span class="strong">word_lsb_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. word_lsb (v2w v) ‚áî v ‚â† [] ‚àß LAST v
</pre>

<DT><span class="strong">word_lsl_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. v2w v << n = v2w (shiftl v n)
</pre>

<DT><span class="strong">word_lsr_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. v2w v ‚ãô n = v2w (shiftr (fixwidth (dimindex (:Œ±)) v) n)
</pre>

<DT><span class="strong">word_modify_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄf v. word_modify f (v2w v) = v2w (modify f (fixwidth (dimindex (:Œ±)) v))
</pre>

<DT><span class="strong">word_msb_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. word_msb (v2w v) ‚áî testbit (dimindex (:Œ±) ‚àí 1) v
</pre>

<DT><span class="strong">word_nand_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv w.
    v2w v ~&& v2w w =
    v2w (bnand (fixwidth (dimindex (:Œ±)) v) (fixwidth (dimindex (:Œ±)) w))
</pre>

<DT><span class="strong">word_nor_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv w.
    v2w v ~|| v2w w =
    v2w (bnor (fixwidth (dimindex (:Œ±)) v) (fixwidth (dimindex (:Œ±)) w))
</pre>

<DT><span class="strong">word_or_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv w. v2w v ‚Äñ v2w w = v2w (bor v w)
</pre>

<DT><span class="strong">word_reduce_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄf v.
    word_reduce f (v2w v) =
    (let l = fixwidth (dimindex (:Œ±)) v in v2w [FOLDL f (HD l) (TL l)])
</pre>

<DT><span class="strong">word_reverse_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv. word_reverse (v2w v) = v2w (REVERSE (fixwidth (dimindex (:Œ±)) v))
</pre>

<DT><span class="strong">word_ror_alt</span>
<DD>
<pre>
‚ä¢ ‚àÄr a. a ‚áÑ r = (let d = dimindex (:Œ±) in a << (d ‚àí r MOD d) ‚Äñ a ‚ãô (r MOD d))
</pre>

<DT><span class="strong">word_ror_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄn v. v2w v ‚áÑ n = v2w (rotate (fixwidth (dimindex (:Œ±)) v) n)
</pre>

<DT><span class="strong">word_slice_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄh l v.
    (h '' l) (v2w v) = v2w (shiftl (field h l (fixwidth (dimindex (:Œ±)) v)) l)
</pre>

<DT><span class="strong">word_xnor_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv w.
    v2w v ~?? v2w w =
    v2w (bxnor (fixwidth (dimindex (:Œ±)) v) (fixwidth (dimindex (:Œ±)) w))
</pre>

<DT><span class="strong">word_xor_v2w</span>
<DD>
<pre>
‚ä¢ ‚àÄv w. v2w v ‚äï v2w w = v2w (bxor v w)
</pre>

</DL>



<hr>
</body>
</html>
