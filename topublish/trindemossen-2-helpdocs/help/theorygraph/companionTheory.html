<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: companion</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "companion"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "fixedPointTheory.html"><span class="strong">fixedPoint</span></a>&nbsp;&nbsp;
    <a href = "holTheory.html"><span class="strong">hol</span></a>

<h1>Signature</h1>
<center>
    <table BORDER=4 CELLPADDING=10 CELLSPACING=1>
    
    <tr> <th> Constant <th> Type<tr><td>
    <span class="strong">B_join</span>
    <td>
    :Î± poset -> (Î± -> Î±) -> ((Î± -> Î±) -> Î± -> Î±) -> bool
    <tr><td>
    <span class="strong">companion</span>
    <td>
    :Î± poset -> (Î± -> Î±) -> (Î± -> Î±) -> bool
    <tr><td>
    <span class="strong">compatible</span>
    <td>
    :Î± poset -> (Î± -> Î±) -> (Î± -> Î±) -> bool
    <tr><td>
    <span class="strong">endo</span>
    <td>
    :Î± poset -> (Î± -> Î±) -> bool
    <tr><td>
    <span class="strong">endo_lift</span>
    <td>
    :Î± poset -> (Î± -> Î±) poset
    <tr><td>
    <span class="strong">higher_compat</span>
    <td>
    :(((Î± -> bool) -> Î± -> bool) -> (Î± -> bool) -> Î± -> bool) ->
    ((Î± -> bool) -> Î± -> bool) -> bool
    <tr><td>
    <span class="strong">higher_monotone</span>
    <td>
    :(((Î± -> bool) -> Î² -> bool) -> Î³ -> Î´ -> bool) -> bool
    <tr><td>
    <span class="strong">lift_rel</span>
    <td>
    :(Î± -> bool) # (Î² -> Î³ -> bool) -> (Î± -> Î²) -> (Î± -> Î³) -> bool
    <tr><td>
    <span class="strong">set_B</span>
    <td>
    :(Î± -> Î² -> bool) -> (Î± -> Î±) -> (Î² -> bool) -> Î² -> bool
    <tr><td>
    <span class="strong">set_T</span>
    <td>
    :((Î± -> bool) -> Î± -> bool) ->
    ((Î± -> bool) -> Î± -> bool) -> (Î± -> bool) -> Î± -> bool
    <tr><td>
    <span class="strong">set_companion</span>
    <td>
    :((Î± -> bool) -> Î± -> bool) -> (Î± -> bool) -> Î± -> bool
    <tr><td>
    <span class="strong">set_compatible</span>
    <td>
    :((Î± -> bool) -> Î± -> bool) -> ((Î± -> bool) -> Î± -> bool) -> bool
    
</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">B_join_def</span>
<DD>
<pre>
âŠ¢ âˆ€s r b B.
    B_join (s,r) b B â‡”
    function (endo (s,r)) (endo (s,r)) B âˆ§ monotonic (endo_lift (s,r)) B âˆ§
    âˆ€g x.
      lub (s,r) {f x | endo (s,r) f âˆ§ lift_rel (s,r) (f âˆ˜ b) (b âˆ˜ g)} (B g x)
</pre>

<DT><span class="strong">companion_def</span>
<DD>
<pre>
âŠ¢ âˆ€s r b t.
    companion (s,r) b t â‡”
    function s s t âˆ§ âˆ€x. lub (s,r) {f x | compatible (s,r) b f} (t x)
</pre>

<DT><span class="strong">compatible_def</span>
<DD>
<pre>
âŠ¢ âˆ€s r b f.
    compatible (s,r) b f â‡”
    function s s f âˆ§ monotonic (s,r) f âˆ§ lift_rel (s,r) (f âˆ˜ b) (b âˆ˜ f)
</pre>

<DT><span class="strong">endo_def</span>
<DD>
<pre>
âŠ¢ âˆ€s r f.
    endo (s,r) f â‡”
    monotonic (s,r) f âˆ§ âˆ€x. if s x then s (f x) else f x = @y. Â¬s y
</pre>

<DT><span class="strong">endo_lift_def</span>
<DD>
<pre>
âŠ¢ âˆ€s r. endo_lift (s,r) = (endo (s,r),lift_rel (s,r))
</pre>

<DT><span class="strong">higher_compat_def</span>
<DD>
<pre>
âŠ¢ âˆ€fn b.
    higher_compat fn b â‡”
    (âˆ€f. monotone f â‡’ monotone (fn f)) âˆ§ higher_monotone fn âˆ§
    âˆ€f X. monotone f â‡’ fn (set_B b f) X âŠ† set_B b (fn f) X
</pre>

<DT><span class="strong">higher_monotone</span>
<DD>
<pre>
âŠ¢ âˆ€fn.
    higher_monotone fn â‡”
    âˆ€f g. monotone f âˆ§ monotone g âˆ§ (âˆ€X. f X âŠ† g X) â‡’ âˆ€X. fn f X âŠ† fn g X
</pre>

<DT><span class="strong">lift_rel</span>
<DD>
<pre>
âŠ¢ âˆ€s r f g. lift_rel (s,r) f g â‡” âˆ€x. s x â‡’ r (f x) (g x)
</pre>

<DT><span class="strong">set_B_def</span>
<DD>
<pre>
âŠ¢ âˆ€b. set_B b = (Î»g X. BIGUNION {f X | monotone f âˆ§ âˆ€Y. f (b Y) âŠ† b (g Y)})
</pre>

<DT><span class="strong">set_T_def</span>
<DD>
<pre>
âŠ¢ âˆ€b. set_T b =
      (Î»f X. BIGUNION {fn f X | fn | monotone (fn f) âˆ§ higher_compat fn b})
</pre>

<DT><span class="strong">set_companion_def</span>
<DD>
<pre>
âŠ¢ âˆ€b X. set_companion b X = BIGUNION {f X | set_compatible b f}
</pre>

<DT><span class="strong">set_compatible_def</span>
<DD>
<pre>
âŠ¢ âˆ€b f. set_compatible b f â‡” monotone f âˆ§ âˆ€X. f (b X) âŠ† b (f X)
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">B_greatest_fixpoint_is_companion</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ endo (s,r) b âˆ§ endo (s,r) t âˆ§ companion (s,r) b t âˆ§
  B_join (s,r) b B â‡’
  po_gfp (endo_lift (s,r)) B t
</pre>

<DT><span class="strong">Bf_compatible_f</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ endo (s,r) b âˆ§ endo (s,r) f âˆ§ B_join (s,r) b B â‡’
  lift_rel (s,r) (B f âˆ˜ b) (b âˆ˜ f)
</pre>

<DT><span class="strong">Tf_idem</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ endo (s,r) b âˆ§ B_join (s,r) b B âˆ§ endo (s,r) t âˆ§
  companion (s,r) b t âˆ§ companion (endo_lift (s,r)) B T' âˆ§
  bottom (endo_lift (s,r)) bot âˆ§ endo (s,r) f â‡’
  T' f âˆ˜ T' f = T' f
</pre>

<DT><span class="strong">companion_bot_gfp</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ monotonic (s,r) b âˆ§ function s s b âˆ§ bottom (s,r) bot âˆ§
  po_gfp (s,r) b gfix âˆ§ companion (s,r) b t â‡’
  t bot = gfix
</pre>

<DT><span class="strong">companion_coinduct</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ monotonic (s,r) b âˆ§ function s s b âˆ§ companion (s,r) b t âˆ§
  po_gfp (s,r) b gfix âˆ§ s x âˆ§ r x ((b âˆ˜ t) x) â‡’
  r x gfix
</pre>

<DT><span class="strong">companion_expansive</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b âˆ§ companion (s,r) b t âˆ§ s x â‡’
  r x (t x)
</pre>

<DT><span class="strong">companion_idem</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b âˆ§ companion (s,r) b t âˆ§ s x â‡’
  t (t x) = t x
</pre>

<DT><span class="strong">companion_mono</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b âˆ§ companion (s,r) b t â‡’
  monotonic (s,r) t
</pre>

<DT><span class="strong">compatible_B_functional_postfix</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ endo (s,r) b âˆ§ B_join (s,r) b B âˆ§ endo (s,r) f â‡’
  (lift_rel (s,r) f (B f) â‡” lift_rel (s,r) (f âˆ˜ b) (b âˆ˜ f))
</pre>

<DT><span class="strong">compatible_below_companion</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ compatible (s,r) b f âˆ§ companion (s,r) b t â‡’
  lift_rel (s,r) f t
</pre>

<DT><span class="strong">compatible_companion</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b âˆ§ companion (s,r) b t â‡’
  compatible (s,r) b t
</pre>

<DT><span class="strong">compatible_compose</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b âˆ§ compatible (s,r) b f âˆ§
  compatible (s,r) b g â‡’
  compatible (s,r) b (f âˆ˜ g)
</pre>

<DT><span class="strong">compatible_const_gfp</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b âˆ§ po_gfp (s,r) b fp â‡’
  compatible (s,r) b (K fp)
</pre>

<DT><span class="strong">compatible_id</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b â‡’ compatible (s,r) b I
</pre>

<DT><span class="strong">compatible_self</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s b âˆ§ monotonic (s,r) b â‡’ compatible (s,r) b b
</pre>

<DT><span class="strong">doubling_compatible_B</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ endo (s,r) b âˆ§ B_join (s,r) b B â‡’
  compatible (endo_lift (s,r)) B (Î»f. f âˆ˜ f)
</pre>

<DT><span class="strong">endo_comp</span>
<DD>
<pre>
âŠ¢ endo (s,r) f âˆ§ endo (s,r) g â‡’ endo (s,r) (f âˆ˜ g)
</pre>

<DT><span class="strong">endo_function</span>
<DD>
<pre>
âŠ¢ endo (s,r) f â‡’ function s s f
</pre>

<DT><span class="strong">endo_in</span>
<DD>
<pre>
âŠ¢ endo (s,r) t âˆ§ s x â‡’ s (t x)
</pre>

<DT><span class="strong">endo_poset</span>
<DD>
<pre>
âŠ¢ poset (s,r) â‡’ poset (endo_lift (s,r))
</pre>

<DT><span class="strong">enhanced_gfp</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ monotonic (s,r) b âˆ§ function s s b âˆ§ po_gfp (s,r) b gfix âˆ§
  companion (s,r) b t âˆ§ po_gfp (s,r) (b âˆ˜ t) efix â‡’
  efix = gfix
</pre>

<DT><span class="strong">lift_rel_comp</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s g âˆ§ function s s f âˆ§ function s s f' âˆ§
  function s s g' âˆ§ monotonic (s,r) f âˆ§ monotonic (s,r) f' âˆ§
  lift_rel (s,r) f f' âˆ§ lift_rel (s,r) g g' â‡’
  lift_rel (s,r) (f âˆ˜ g) (f' âˆ˜ g')
</pre>

<DT><span class="strong">lub_is_gfp</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ function s s f âˆ§ monotonic (s,r) f âˆ§
  lub (s,r) {x | r x (f x)} l â‡’
  po_gfp (s,r) f l
</pre>

<DT><span class="strong">param_coind</span>
<DD>
<pre>
âŠ¢ complete (s,r) âˆ§ complete (endo_lift (s,r)) âˆ§ poset (s,r) âˆ§ endo (s,r) b âˆ§
  companion (s,r) b t âˆ§ endo (s,r) t âˆ§ B_join (s,r) b B âˆ§
  companion (endo_lift (s,r)) B T' âˆ§ po_gfp (s,r) b gfix âˆ§ s x âˆ§ s y âˆ§
  lub (s,r) {x; y} xy â‡’
  r y (b (t xy)) â‡’
  r y (t x)
</pre>

<DT><span class="strong">param_coind_done</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ monotonic (s,r) b âˆ§ function s s b âˆ§ companion (s,r) b t â‡’
  s x âˆ§ s y âˆ§ r y x â‡’
  r y (t x)
</pre>

<DT><span class="strong">param_coind_init</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ monotonic (s,r) b âˆ§ function s s b âˆ§ bottom (s,r) bot âˆ§
  po_gfp (s,r) b gfix âˆ§ companion (s,r) b t â‡’
  r x (t bot) â‡’
  r x gfix
</pre>

<DT><span class="strong">param_coind_upto_f</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ monotonic (s,r) b âˆ§ function s s b âˆ§ companion (s,r) b t â‡’
  function s s f âˆ§ (âˆ€x. r (f x) (t x)) â‡’
  s x âˆ§ s y âˆ§ r y (f (t x)) â‡’
  r y (t x)
</pre>

<DT><span class="strong">set_companion</span>
<DD>
<pre>
âŠ¢ companion (ð•Œ(:Î± -> bool),$SUBSET) b (set_companion b)
</pre>

<DT><span class="strong">set_companion_coinduct</span>
<DD>
<pre>
âŠ¢ monotone b âˆ§ X âŠ† (b âˆ˜ set_companion b) X â‡’ X âŠ† gfp b
</pre>

<DT><span class="strong">set_companion_compatible</span>
<DD>
<pre>
âŠ¢ monotone b â‡’ set_compatible b (set_companion b)
</pre>

<DT><span class="strong">set_compatible</span>
<DD>
<pre>
âŠ¢ set_compatible b f â‡’ compatible (ð•Œ(:Î± -> bool),$SUBSET) b f
</pre>

<DT><span class="strong">set_compatible_compose</span>
<DD>
<pre>
âŠ¢ monotone b â‡’
  set_compatible b f âˆ§ set_compatible b g â‡’
  set_compatible b (f âˆ˜ g)
</pre>

<DT><span class="strong">set_compatible_enhance</span>
<DD>
<pre>
âŠ¢ monotone b âˆ§ set_compatible b f âˆ§ Y âŠ† f X â‡’ Y âŠ† set_companion b X
</pre>

<DT><span class="strong">set_compatible_id</span>
<DD>
<pre>
âŠ¢ monotone b â‡’ set_compatible b I
</pre>

<DT><span class="strong">set_compatible_self</span>
<DD>
<pre>
âŠ¢ monotone b â‡’ set_compatible b b
</pre>

<DT><span class="strong">set_gfp_sub_companion</span>
<DD>
<pre>
âŠ¢ monotone b â‡’ gfp b âŠ† set_companion b x
</pre>

<DT><span class="strong">set_higher_complete</span>
<DD>
<pre>
âŠ¢ complete (endo_lift (ð•Œ(:Î± -> bool),$SUBSET))
</pre>

<DT><span class="strong">set_param_coind</span>
<DD>
<pre>
âŠ¢ monotone b â‡’ Y âŠ† b (set_companion b (X âˆª Y)) â‡’ Y âŠ† set_companion b X
</pre>

<DT><span class="strong">set_param_coind_done</span>
<DD>
<pre>
âŠ¢ monotone b âˆ§ Y âŠ† X â‡’ Y âŠ† set_companion b X
</pre>

<DT><span class="strong">set_param_coind_init</span>
<DD>
<pre>
âŠ¢ monotone b âˆ§ X âŠ† set_companion b âˆ… â‡’ X âŠ† gfp b
</pre>

<DT><span class="strong">set_param_coind_upto_f</span>
<DD>
<pre>
âŠ¢ monotone b âˆ§ (âˆ€X. f X âŠ† set_companion b X) âˆ§ Y âŠ† f (set_companion b X) â‡’
  Y âŠ† set_companion b X
</pre>

<DT><span class="strong">t_below_Tf</span>
<DD>
<pre>
âŠ¢ poset (s,r) âˆ§ endo (s,r) b âˆ§ endo (s,r) t âˆ§ companion (s,r) b t âˆ§
  B_join (s,r) b B âˆ§ bottom (endo_lift (s,r)) bot âˆ§
  companion (endo_lift (s,r)) B T' âˆ§ endo (s,r) f â‡’
  lift_rel (s,r) t (T' f)
</pre>

</DL>



<hr>
</body>
</html>
