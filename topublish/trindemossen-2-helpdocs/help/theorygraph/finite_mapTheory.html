<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: finite_map</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "finite_map"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "sortingTheory.html"><span class="strong">sorting</span></a>

<h1>Signature</h1>
<center>
    <table BORDER=4 CELLPADDING=10 CELLSPACING=1>
    
    <tr> <th> Type <th> Arity<tr><td> <span class="strong">fmap</span> <td> 2
    <tr> <th> Constant <th> Type<tr><td>
    <span class="strong">DRESTRICT</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▒ -> bool) -> (╬▒ |-> ╬▓)
    <tr><td> <span class="strong">FAPPLY</span> <td> :(╬▒ |-> ╬▓) -> ╬▒ -> ╬▓
    <tr><td> <span class="strong">FCARD</span> <td> :(╬▒ |-> ╬▓) -> num
    <tr><td>
    <span class="strong">FDIFF</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▒ -> bool) -> (╬▒ |-> ╬▓)
    <tr><td> <span class="strong">FDOM</span> <td> :(╬▒ |-> ╬▓) -> ╬▒ -> bool
    <tr><td> <span class="strong">FEMPTY</span> <td> :╬▒ |-> ╬▓
    <tr><td>
    <span class="strong">FEVERY</span>
    <td>
    :(╬▒ # ╬▓ -> bool) -> (╬▒ |-> ╬▓) -> bool
    <tr><td>
    <span class="strong">FLOOKUP</span>
    <td>
    :(╬▒ |-> ╬▓) -> ╬▒ -> ╬▓ option
    <tr><td>
    <span class="strong">FMAP_MAP2</span>
    <td>
    :(╬▒ # ╬│ -> ╬▓) -> (╬▒ |-> ╬│) -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">FMERGE</span>
    <td>
    :(╬▒ -> ╬▒ -> ╬▒) -> (╬▓ |-> ╬▒) -> (╬▓ |-> ╬▒) -> (╬▓ |-> ╬▒)
    <tr><td>
    <span class="strong">FMERGE_WITH_KEY</span>
    <td>
    :(╬▒ -> ╬▓ -> ╬▓ -> ╬▓) -> (╬▒ |-> ╬▓) -> (╬▒ |-> ╬▓) -> (╬▒ |-> ╬▓)
    <tr><td> <span class="strong">FRANGE</span> <td> :(╬▒ |-> ╬▓) -> ╬▓ -> bool
    <tr><td>
    <span class="strong">FUNION</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▒ |-> ╬▓) -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">FUN_FMAP</span>
    <td>
    :(╬▒ -> ╬▓) -> (╬▒ -> bool) -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">FUPDATE</span>
    <td>
    :(╬▒ |-> ╬▓) -> ╬▒ # ╬▓ -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">FUPDATE_LIST</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▒ # ╬▓) list -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">ITFMAP</span>
    <td>
    :(╬▓ -> ╬│ -> ╬▒ -> ╬▒) -> (╬▓ |-> ╬│) -> ╬▒ -> ╬▒
    <tr><td>
    <span class="strong">ITFMAPR</span>
    <td>
    :(╬▓ -> ╬│ -> ╬▒ -> ╬▒) -> (╬▓ |-> ╬│) -> ╬▒ -> ╬▒ -> bool
    <tr><td>
    <span class="strong">MAP_KEYS</span>
    <td>
    :(╬▒ -> ╬▓) -> (╬▒ |-> ╬│) -> (╬▓ |-> ╬│)
    <tr><td>
    <span class="strong">RRESTRICT</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▓ -> bool) -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">SUBMAP</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▒ |-> ╬▓) -> bool
    <tr><td>
    <span class="strong">f_o</span>
    <td>
    :(╬▓ |-> ╬│) -> (╬▒ -> ╬▓) -> (╬▒ |-> ╬│)
    <tr><td>
    <span class="strong">f_o_f</span>
    <td>
    :(╬▓ |-> ╬│) -> (╬▒ |-> ╬▓) -> (╬▒ |-> ╬│)
    <tr><td>
    <span class="strong">fdomsub</span>
    <td>
    :(╬▒ |-> ╬▓) -> ╬▒ -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">fmap_ABS</span>
    <td>
    :(╬▒ -> ╬▓ + unit) -> (╬▒ |-> ╬▓)
    <tr><td>
    <span class="strong">fmap_EQ_UPTO</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▒ |-> ╬▓) -> (╬▒ -> bool) -> bool
    <tr><td>
    <span class="strong">fmap_REP</span>
    <td>
    :(╬▒ |-> ╬▓) -> ╬▒ -> ╬▓ + unit
    <tr><td>
    <span class="strong">fmap_inverse</span>
    <td>
    :(╬▒ |-> ╬▓) -> (╬▓ |-> ╬▒) -> bool
    <tr><td>
    <span class="strong">fmap_rel</span>
    <td>
    :(╬▒ -> ╬▓ -> bool) -> (╬│ |-> ╬▒) -> (╬│ |-> ╬▓) -> bool
    <tr><td>
    <span class="strong">fmap_size</span>
    <td>
    :(╬▒ -> num) -> (╬▓ -> num) -> (╬▒ |-> ╬▓) -> num
    <tr><td>
    <span class="strong">fmlfpR</span>
    <td>
    :(╬▓ -> ╬│ -> ╬▒ -> ╬▒) -> (╬▓ |-> ╬│) -> ╬▒ -> (╬▓ |-> ╬│) -> ╬▒ -> ╬▒ -> bool
    <tr><td>
    <span class="strong">fp_soluble</span>
    <td>
    :(╬▒ -> ╬▒ -> bool) -> ╬▒ -> (╬▓ |-> ╬│) -> (╬▓ -> ╬│ -> ╬▒ -> ╬▒) -> bool
    <tr><td> <span class="strong">is_fmap</span> <td> :(╬▒ -> ╬▓ + unit) -> bool
    <tr><td>
    <span class="strong">lbound</span>
    <td>
    :╬▒ -> (╬▒ -> ╬▒ -> bool) -> ╬▒ -> ╬▒ -> bool
    <tr><td>
    <span class="strong">o_f</span>
    <td>
    :(╬▓ -> ╬│) -> (╬▒ |-> ╬▓) -> (╬▒ |-> ╬│)
    
</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">@tempITFMAPR_def</span>
<DD>
<pre>
Ріб ITFMAPR =
  (╬╗f a0 a1 a2.
       РѕђITFMAPR'.
         (Рѕђa0 a1 a2.
            a0 = FEMPTY РѕД a2 = a1 Рѕе
            (РѕЃA2 k v fm.
               a0 = fm |+ (k,v) РѕД a2 = f k v A2 РѕД k РѕЅ FDOM fm РѕД
               ITFMAPR' fm a1 A2) РЄњ
            ITFMAPR' a0 a1 a2) РЄњ
         ITFMAPR' a0 a1 a2)
</pre>

<DT><span class="strong">@tempfmlfpR_def</span>
<DD>
<pre>
Ріб fmlfpR =
  (╬╗f fm0 a0 a1 a2 a3.
       РѕђfmlfpR'.
         (Рѕђa0 a1 a2 a3.
            a1 = FEMPTY РѕД a3 = a0 РѕД a0 = a2 Рѕе
            a1 = FEMPTY РѕД fmlfpR' a2 fm0 a2 a3 РѕД a0 РЅа a2 Рѕе
            (РѕЃfm k v. a1 = fm |+ (k,v) РѕД fmlfpR' a0 (fm \\ k) (f k v a2) a3) РЄњ
            fmlfpR' a0 a1 a2 a3) РЄњ
         fmlfpR' a0 a1 a2 a3)
</pre>

<DT><span class="strong">@tempis_fmap_def</span>
<DD>
<pre>
Ріб is_fmap =
  (╬╗a0.
       Рѕђis_fmap'.
         (Рѕђa0.
            a0 = (╬╗a. INR ()) Рѕе
            (РѕЃf a b. a0 = (╬╗x. if x = a then INL b else f x) РѕД is_fmap' f) РЄњ
            is_fmap' a0) РЄњ
         is_fmap' a0)
</pre>

<DT><span class="strong">DRESTRICT_DEF</span>
<DD>
<pre>
Ріб Рѕђf r.
    FDOM (DRESTRICT f r) = FDOM f РѕЕ r РѕД
    Рѕђx. DRESTRICT f r ' x = if x Рѕѕ FDOM f РѕЕ r then f ' x else FEMPTY ' x
</pre>

<DT><span class="strong">FAPPLY_DEF</span>
<DD>
<pre>
Ріб Рѕђf x. f ' x = OUTL (fmap_REP f x)
</pre>

<DT><span class="strong">FCARD_DEF</span>
<DD>
<pre>
Ріб Рѕђfm. FCARD fm = CARD (FDOM fm)
</pre>

<DT><span class="strong">FDIFF_def</span>
<DD>
<pre>
Ріб Рѕђf1 s. FDIFF f1 s = DRESTRICT f1 (COMPL s)
</pre>

<DT><span class="strong">FDOM_DEF</span>
<DD>
<pre>
Ріб Рѕђf x. FDOM f x РЄћ ISL (fmap_REP f x)
</pre>

<DT><span class="strong">FEMPTY_DEF</span>
<DD>
<pre>
Ріб FEMPTY = fmap_ABS (╬╗a. INR ())
</pre>

<DT><span class="strong">FEVERY_DEF</span>
<DD>
<pre>
Ріб РѕђP f. FEVERY P f РЄћ Рѕђx. x Рѕѕ FDOM f РЄњ P (x,f ' x)
</pre>

<DT><span class="strong">FLOOKUP_DEF</span>
<DD>
<pre>
Ріб Рѕђf x. FLOOKUP f x = if x Рѕѕ FDOM f then SOME (f ' x) else NONE
</pre>

<DT><span class="strong">FMAP_MAP2_def</span>
<DD>
<pre>
Ріб Рѕђf m. FMAP_MAP2 f m = FUN_FMAP (╬╗x. f (x,m ' x)) (FDOM m)
</pre>

<DT><span class="strong">FMERGE_DEF</span>
<DD>
<pre>
Ріб Рѕђm f g.
    FDOM (FMERGE m f g) = FDOM f Рѕф FDOM g РѕД
    Рѕђx. FMERGE m f g ' x =
        if x РѕЅ FDOM f then g ' x
        else if x РѕЅ FDOM g then f ' x
        else m (f ' x) (g ' x)
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_DEF</span>
<DD>
<pre>
Ріб Рѕђf m1 m2.
    FDOM (FMERGE_WITH_KEY f m1 m2) = FDOM m1 Рѕф FDOM m2 РѕД
    Рѕђx. FMERGE_WITH_KEY f m1 m2 ' x =
        if x Рѕѕ FDOM m1 РѕД x Рѕѕ FDOM m2 then f x (m1 ' x) (m2 ' x)
        else if x Рѕѕ FDOM m1 then m1 ' x
        else m2 ' x
</pre>

<DT><span class="strong">FRANGE_DEF</span>
<DD>
<pre>
Ріб Рѕђf. FRANGE f = {y | РѕЃx. x Рѕѕ FDOM f РѕД f ' x = y}
</pre>

<DT><span class="strong">FUNION_DEF</span>
<DD>
<pre>
Ріб Рѕђf g.
    FDOM (f FUNION g) = FDOM f Рѕф FDOM g РѕД
    Рѕђx. (f FUNION g) ' x = if x Рѕѕ FDOM f then f ' x else g ' x
</pre>

<DT><span class="strong">FUN_FMAP_DEF</span>
<DD>
<pre>
Ріб Рѕђf P.
    FINITE P РЄњ FDOM (FUN_FMAP f P) = P РѕД Рѕђx. x Рѕѕ P РЄњ FUN_FMAP f P ' x = f x
</pre>

<DT><span class="strong">FUPDATE_DEF</span>
<DD>
<pre>
Ріб Рѕђf x y. f |+ (x,y) = fmap_ABS (╬╗a. if a = x then INL y else fmap_REP f a)
</pre>

<DT><span class="strong">FUPDATE_LIST</span>
<DD>
<pre>
Ріб $|++ = FOLDL $|+
</pre>

<DT><span class="strong">ITFMAP_def</span>
<DD>
<pre>
Ріб Рѕђf fm A0. ITFMAP f fm A0 = @A. ITFMAPR f fm A0 A
</pre>

<DT><span class="strong">MAP_KEYS_def</span>
<DD>
<pre>
Ріб Рѕђf fm.
    FDOM (MAP_KEYS f fm) = IMAGE f (FDOM fm) РѕД
    (INJ f (FDOM fm) ­ЮЋї(:╬▓) РЄњ Рѕђx. x Рѕѕ FDOM fm РЄњ MAP_KEYS f fm ' (f x) = fm ' x)
</pre>

<DT><span class="strong">RRESTRICT_DEF</span>
<DD>
<pre>
Ріб Рѕђf r.
    FDOM (RRESTRICT f r) = {x | x Рѕѕ FDOM f РѕД f ' x Рѕѕ r} РѕД
    Рѕђx. RRESTRICT f r ' x =
        if x Рѕѕ FDOM f РѕД f ' x Рѕѕ r then f ' x else FEMPTY ' x
</pre>

<DT><span class="strong">SUBMAP_DEF</span>
<DD>
<pre>
Ріб Рѕђf g. f РіЉ g РЄћ Рѕђx. x Рѕѕ FDOM f РЄњ x Рѕѕ FDOM g РѕД f ' x = g ' x
</pre>

<DT><span class="strong">f_o_DEF</span>
<DD>
<pre>
Ріб Рѕђf g. f f_o g = f f_o_f FUN_FMAP g {x | g x Рѕѕ FDOM f}
</pre>

<DT><span class="strong">f_o_f_DEF</span>
<DD>
<pre>
Ріб Рѕђf g.
    FDOM (f f_o_f g) = FDOM g РѕЕ {x | g ' x Рѕѕ FDOM f} РѕД
    Рѕђx. x Рѕѕ FDOM (f f_o_f g) РЄњ (f f_o_f g) ' x = f ' (g ' x)
</pre>

<DT><span class="strong">fmap_EQ_UPTO_def</span>
<DD>
<pre>
Ріб Рѕђf1 f2 vs.
    fmap_EQ_UPTO f1 f2 vs РЄћ
    FDOM f1 РѕЕ COMPL vs = FDOM f2 РѕЕ COMPL vs РѕД
    Рѕђx. x Рѕѕ FDOM f1 РѕЕ COMPL vs РЄњ f1 ' x = f2 ' x
</pre>

<DT><span class="strong">fmap_ISO_DEF</span>
<DD>
<pre>
Ріб (Рѕђa. fmap_ABS (fmap_REP a) = a) РѕД Рѕђr. is_fmap r РЄћ fmap_REP (fmap_ABS r) = r
</pre>

<DT><span class="strong">fmap_TY_DEF</span>
<DD>
<pre>
Ріб РѕЃrep. TYPE_DEFINITION is_fmap rep
</pre>

<DT><span class="strong">fmap_domsub</span>
<DD>
<pre>
Ріб Рѕђfm k. fm \\ k = DRESTRICT fm (COMPL {k})
</pre>

<DT><span class="strong">fmap_inverse_def</span>
<DD>
<pre>
Ріб Рѕђm1 m2.
    fmap_inverse m1 m2 РЄћ
    Рѕђk. k Рѕѕ FDOM m1 РЄњ РѕЃv. FLOOKUP m1 k = SOME v РѕД FLOOKUP m2 v = SOME k
</pre>

<DT><span class="strong">fmap_rel_def</span>
<DD>
<pre>
Ріб РѕђR f1 f2.
    fmap_rel R f1 f2 РЄћ
    FDOM f2 = FDOM f1 РѕД Рѕђx. x Рѕѕ FDOM f1 РЄњ R (f1 ' x) (f2 ' x)
</pre>

<DT><span class="strong">fmap_size_def</span>
<DD>
<pre>
Ріб Рѕђkz vz fm. fmap_size kz vz fm = РѕЉ (╬╗k. kz k + vz (fm ' k)) (FDOM fm)
</pre>

<DT><span class="strong">fp_soluble_def</span>
<DD>
<pre>
Ріб РѕђR P fm f.
    fp_soluble R P fm f РЄћ
    transitive R РѕД WF (lbound P Rрхђ) РѕД
    (Рѕђk v A.
       FLOOKUP fm k = SOME v РѕД RC R A P РЄњ RC R A (f k v A) РѕД RC R (f k v A) P) РѕД
    РѕђA. R A P РЄњ РѕЃk v. FLOOKUP fm k = SOME v РѕД f k v A РЅа A
</pre>

<DT><span class="strong">lbound_def</span>
<DD>
<pre>
Ріб Рѕђl R x y. lbound l R x y РЄћ RЖЎ│ l x РѕД RЖЎ│ l y РѕД R x y
</pre>

<DT><span class="strong">o_f_DEF</span>
<DD>
<pre>
Ріб Рѕђf g.
    FDOM (f o_f g) = FDOM g РѕД
    Рѕђx. x Рѕѕ FDOM (f o_f g) РЄњ (f o_f g) ' x = f (g ' x)
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">DISJOINT_FEVERY_FUNION</span>
<DD>
<pre>
Ріб DISJOINT (FDOM m1) (FDOM m2) РЄњ
  (FEVERY P (m1 FUNION m2) РЄћ FEVERY P m1 РѕД FEVERY P m2)
</pre>

<DT><span class="strong">DOMSUB_COMMUTES</span>
<DD>
<pre>
Ріб fm \\ k1 \\ k2 = fm \\ k2 \\ k1
</pre>

<DT><span class="strong">DOMSUB_FAPPLY</span>
<DD>
<pre>
Ріб Рѕђfm k. (fm \\ k) ' k = FEMPTY ' k
</pre>

<DT><span class="strong">DOMSUB_FAPPLY_NEQ</span>
<DD>
<pre>
Ріб Рѕђfm k1 k2. k1 РЅа k2 РЄњ (fm \\ k1) ' k2 = fm ' k2
</pre>

<DT><span class="strong">DOMSUB_FAPPLY_THM</span>
<DD>
<pre>
Ріб Рѕђfm k1 k2. (fm \\ k1) ' k2 = if k1 = k2 then FEMPTY ' k2 else fm ' k2
</pre>

<DT><span class="strong">DOMSUB_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђk. FEMPTY \\ k = FEMPTY
</pre>

<DT><span class="strong">DOMSUB_FLOOKUP</span>
<DD>
<pre>
Ріб Рѕђfm k. FLOOKUP (fm \\ k) k = NONE
</pre>

<DT><span class="strong">DOMSUB_FLOOKUP_NEQ</span>
<DD>
<pre>
Ріб Рѕђfm k1 k2. k1 РЅа k2 РЄњ FLOOKUP (fm \\ k1) k2 = FLOOKUP fm k2
</pre>

<DT><span class="strong">DOMSUB_FLOOKUP_THM</span>
<DD>
<pre>
Ріб Рѕђfm k1 k2. FLOOKUP (fm \\ k1) k2 = if k1 = k2 then NONE else FLOOKUP fm k2
</pre>

<DT><span class="strong">DOMSUB_FMAP_MAP2</span>
<DD>
<pre>
Ріб Рѕђf m s. FMAP_MAP2 f m \\ s = FMAP_MAP2 f (m \\ s)
</pre>

<DT><span class="strong">DOMSUB_FUNION</span>
<DD>
<pre>
Ріб (f FUNION g) \\ k = f \\ k FUNION g \\ k
</pre>

<DT><span class="strong">DOMSUB_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђfm k v. fm |+ (k,v) \\ k = fm \\ k
</pre>

<DT><span class="strong">DOMSUB_FUPDATE_LIST</span>
<DD>
<pre>
Ріб Рѕђl m x. (m |++ l) \\ x = m \\ x |++ FILTER ((╬╗y. x РЅа y) Рѕў FST) l
</pre>

<DT><span class="strong">DOMSUB_FUPDATE_NEQ</span>
<DD>
<pre>
Ріб Рѕђfm k1 k2 v. k1 РЅа k2 РЄњ fm |+ (k1,v) \\ k2 = fm \\ k2 |+ (k1,v)
</pre>

<DT><span class="strong">DOMSUB_FUPDATE_THM</span>
<DD>
<pre>
Ріб Рѕђfm k1 k2 v.
    fm |+ (k1,v) \\ k2 = if k1 = k2 then fm \\ k2 else fm \\ k2 |+ (k1,v)
</pre>

<DT><span class="strong">DOMSUB_IDEM</span>
<DD>
<pre>
Ріб fm \\ k \\ k = fm \\ k
</pre>

<DT><span class="strong">DOMSUB_MAP_KEYS</span>
<DD>
<pre>
Ріб BIJ f ­ЮЋї(:╬▒) ­ЮЋї(:╬▓) РЄњ MAP_KEYS f fm \\ f s = MAP_KEYS f (fm \\ s)
</pre>

<DT><span class="strong">DOMSUB_NOT_IN_DOM</span>
<DD>
<pre>
Ріб k РѕЅ FDOM fm РЄњ fm \\ k = fm
</pre>

<DT><span class="strong">DOMSUB_SUBMAP</span>
<DD>
<pre>
Ріб Рѕђf g x. f РіЉ g РѕД x РѕЅ FDOM f РЄњ f РіЉ g \\ x
</pre>

<DT><span class="strong">DRESTRICTED_FUNION</span>
<DD>
<pre>
Ріб Рѕђf1 f2 s.
    DRESTRICT (f1 FUNION f2) s =
    DRESTRICT f1 s FUNION DRESTRICT f2 (s DIFF FDOM f1)
</pre>

<DT><span class="strong">DRESTRICT_DOMSUB</span>
<DD>
<pre>
Ріб Рѕђf s k. DRESTRICT f s \\ k = DRESTRICT f (s DELETE k)
</pre>

<DT><span class="strong">DRESTRICT_DRESTRICT</span>
<DD>
<pre>
Ріб Рѕђf P Q. DRESTRICT (DRESTRICT f P) Q = DRESTRICT f (P РѕЕ Q)
</pre>

<DT><span class="strong">DRESTRICT_EQ_DRESTRICT</span>
<DD>
<pre>
Ріб Рѕђf1 f2 s1 s2.
    DRESTRICT f1 s1 = DRESTRICT f2 s2 РЄћ
    DRESTRICT f1 s1 РіЉ f2 РѕД DRESTRICT f2 s2 РіЉ f1 РѕД s1 РѕЕ FDOM f1 = s2 РѕЕ FDOM f2
</pre>

<DT><span class="strong">DRESTRICT_EQ_DRESTRICT_SAME</span>
<DD>
<pre>
Ріб DRESTRICT f1 s = DRESTRICT f2 s РЄћ
  s РѕЕ FDOM f1 = s РѕЕ FDOM f2 РѕД Рѕђx. x Рѕѕ FDOM f1 РѕД x Рѕѕ s РЄњ f1 ' x = f2 ' x
</pre>

<DT><span class="strong">DRESTRICT_EQ_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђm s. DISJOINT s (FDOM m) РЄћ DRESTRICT m s = FEMPTY
</pre>

<DT><span class="strong">DRESTRICT_EQ_FUNION</span>
<DD>
<pre>
Ріб Рѕђh h1 h2.
    DISJOINT (FDOM h1) (FDOM h2) РѕД h1 FUNION h2 = h РЄњ
    h2 = DRESTRICT h (COMPL (FDOM h1))
</pre>

<DT><span class="strong">DRESTRICT_FDOM</span>
<DD>
<pre>
Ріб Рѕђf. DRESTRICT f (FDOM f) = f
</pre>

<DT><span class="strong">DRESTRICT_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђr. DRESTRICT FEMPTY r = FEMPTY
</pre>

<DT><span class="strong">DRESTRICT_FUNION</span>
<DD>
<pre>
Ріб Рѕђh s1 s2. DRESTRICT h s1 FUNION DRESTRICT h s2 = DRESTRICT h (s1 Рѕф s2)
</pre>

<DT><span class="strong">DRESTRICT_FUNION_DRESTRICT_COMPL</span>
<DD>
<pre>
Ріб DRESTRICT f s FUNION DRESTRICT f (COMPL s) = f
</pre>

<DT><span class="strong">DRESTRICT_FUNION_SAME</span>
<DD>
<pre>
Ріб Рѕђfm s. DRESTRICT fm s FUNION fm = fm
</pre>

<DT><span class="strong">DRESTRICT_FUNION_SUBSET</span>
<DD>
<pre>
Ріб s2 Ріє s1 РЄњ РѕЃh. DRESTRICT f s1 FUNION g = DRESTRICT f s2 FUNION h
</pre>

<DT><span class="strong">DRESTRICT_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf r x y.
    DRESTRICT (f |+ (x,y)) r =
    if x Рѕѕ r then DRESTRICT f r |+ (x,y) else DRESTRICT f r
</pre>

<DT><span class="strong">DRESTRICT_IDEMPOT</span>
<DD>
<pre>
Ріб Рѕђs vs. DRESTRICT (DRESTRICT s vs) vs = DRESTRICT s vs
</pre>

<DT><span class="strong">DRESTRICT_IS_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђf. DRESTRICT f РѕЁ = FEMPTY
</pre>

<DT><span class="strong">DRESTRICT_MAP_KEYS_IMAGE</span>
<DD>
<pre>
Ріб INJ f ­ЮЋї(:╬▒) ­ЮЋї(:╬▓) РЄњ
  DRESTRICT (MAP_KEYS f fm) (IMAGE f s) = MAP_KEYS f (DRESTRICT fm s)
</pre>

<DT><span class="strong">DRESTRICT_SUBMAP</span>
<DD>
<pre>
Ріб Рѕђf r. DRESTRICT f r РіЉ f
</pre>

<DT><span class="strong">DRESTRICT_SUBMAP_gen</span>
<DD>
<pre>
Ріб f РіЉ g РЄњ DRESTRICT f P РіЉ g
</pre>

<DT><span class="strong">DRESTRICT_SUBSET</span>
<DD>
<pre>
Ріб Рѕђf1 f2 s t.
    DRESTRICT f1 s = DRESTRICT f2 s РѕД t Ріє s РЄњ DRESTRICT f1 t = DRESTRICT f2 t
</pre>

<DT><span class="strong">DRESTRICT_SUBSET_SUBMAP</span>
<DD>
<pre>
Ріб s1 Ріє s2 РЄњ DRESTRICT f s1 РіЉ DRESTRICT f s2
</pre>

<DT><span class="strong">DRESTRICT_SUBSET_SUBMAP_gen</span>
<DD>
<pre>
Ріб Рѕђf1 f2 s t.
    DRESTRICT f1 s РіЉ DRESTRICT f2 s РѕД t Ріє s РЄњ DRESTRICT f1 t РіЉ DRESTRICT f2 t
</pre>

<DT><span class="strong">DRESTRICT_UNIV</span>
<DD>
<pre>
Ріб Рѕђf. DRESTRICT f ­ЮЋї(:╬▒) = f
</pre>

<DT><span class="strong">EQ_FDOM_SUBMAP</span>
<DD>
<pre>
Ріб f = g РЄћ f РіЉ g РѕД FDOM f = FDOM g
</pre>

<DT><span class="strong">FAPPLY_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf x y. (f |+ (x,y)) ' x = y
</pre>

<DT><span class="strong">FAPPLY_FUPDATE_THM</span>
<DD>
<pre>
Ріб Рѕђf a b x. (f |+ (a,b)) ' x = if x = a then b else f ' x
</pre>

<DT><span class="strong">FAPPLY_f_o</span>
<DD>
<pre>
Ріб Рѕђf g.
    FINITE {x | g x Рѕѕ FDOM f} РЄњ
    Рѕђx. x Рѕѕ FDOM (f f_o g) РЄњ (f f_o g) ' x = f ' (g x)
</pre>

<DT><span class="strong">FCARD_0_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђf. FCARD f = 0 РЄћ f = FEMPTY
</pre>

<DT><span class="strong">FCARD_FEMPTY</span>
<DD>
<pre>
Ріб FCARD FEMPTY = 0
</pre>

<DT><span class="strong">FCARD_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђfm a b.
    FCARD (fm |+ (a,b)) = if a Рѕѕ FDOM fm then FCARD fm else 1 + FCARD fm
</pre>

<DT><span class="strong">FCARD_SUC</span>
<DD>
<pre>
Ріб Рѕђf n.
    FCARD f = SUC n РЄћ РѕЃf' x y. x РѕЅ FDOM f' РѕД FCARD f' = n РѕД f = f' |+ (x,y)
</pre>

<DT><span class="strong">FDIFF_BOUND</span>
<DD>
<pre>
Ріб FDIFF f p = FDIFF f (p РѕЕ FDOM f)
</pre>

<DT><span class="strong">FDIFF_EMPTY</span>
<DD>
<pre>
Ріб Рѕђf. FDIFF f РѕЁ = f
</pre>

<DT><span class="strong">FDIFF_FDIFF</span>
<DD>
<pre>
Ріб Рѕђfm s1 s2. FDIFF (FDIFF fm s1) s2 = FDIFF fm (s1 Рѕф s2)
</pre>

<DT><span class="strong">FDIFF_FDOMSUB</span>
<DD>
<pre>
Ріб FDIFF (f \\ x) p = FDIFF f p \\ x
</pre>

<DT><span class="strong">FDIFF_FDOMSUB_INSERT</span>
<DD>
<pre>
Ріб FDIFF (f \\ x) p = FDIFF f (x INSERT p)
</pre>

<DT><span class="strong">FDIFF_FEMPTY</span>
<DD>
<pre>
Ріб FDIFF FEMPTY s = FEMPTY
</pre>

<DT><span class="strong">FDIFF_FMAP_MAP2</span>
<DD>
<pre>
Ріб Рѕђf m s. FDIFF (FMAP_MAP2 f m) s = FMAP_MAP2 f (FDIFF m s)
</pre>

<DT><span class="strong">FDIFF_FUNION</span>
<DD>
<pre>
Ріб Рѕђfm1 fm2 s. FDIFF (fm1 FUNION fm2) s = FDIFF fm1 s FUNION FDIFF fm2 s
</pre>

<DT><span class="strong">FDIFF_FUPDATE</span>
<DD>
<pre>
Ріб FDIFF (fm |+ (k,v)) s = if k Рѕѕ s then FDIFF fm s else FDIFF fm s |+ (k,v)
</pre>

<DT><span class="strong">FDOM_DOMSUB</span>
<DD>
<pre>
Ріб Рѕђfm k. FDOM (fm \\ k) = FDOM fm DELETE k
</pre>

<DT><span class="strong">FDOM_DRESTRICT</span>
<DD>
<pre>
Ріб Рѕђf r x. FDOM (DRESTRICT f r) = FDOM f РѕЕ r
</pre>

<DT><span class="strong">FDOM_EQ_EMPTY</span>
<DD>
<pre>
Ріб Рѕђf. FDOM f = РѕЁ РЄћ f = FEMPTY
</pre>

<DT><span class="strong">FDOM_EQ_EMPTY_SYM</span>
<DD>
<pre>
Ріб Рѕђf. РѕЁ = FDOM f РЄћ f = FEMPTY
</pre>

<DT><span class="strong">FDOM_EQ_FDOM_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf x. x Рѕѕ FDOM f РЄњ Рѕђy. FDOM (f |+ (x,y)) = FDOM f
</pre>

<DT><span class="strong">FDOM_FDIFF</span>
<DD>
<pre>
Ріб x Рѕѕ FDOM (FDIFF refs f2) РЄћ x Рѕѕ FDOM refs РѕД x РѕЅ f2
</pre>

<DT><span class="strong">FDOM_FEMPTY</span>
<DD>
<pre>
Ріб FDOM FEMPTY = РѕЁ
</pre>

<DT><span class="strong">FDOM_FINITE</span>
<DD>
<pre>
Ріб Рѕђfm. FINITE (FDOM fm)
</pre>

<DT><span class="strong">FDOM_FMAP</span>
<DD>
<pre>
Ріб Рѕђf s. FINITE s РЄњ FDOM (FUN_FMAP f s) = s
</pre>

<DT><span class="strong">FDOM_FMERGE</span>
<DD>
<pre>
Ріб Рѕђm f g. FDOM (FMERGE m f g) = FDOM f Рѕф FDOM g
</pre>

<DT><span class="strong">FDOM_FOLDR_DOMSUB</span>
<DD>
<pre>
Ріб Рѕђls fm. FDOM (FOLDR (╬╗k m. m \\ k) fm ls) = FDOM fm DIFF LIST_TO_SET ls
</pre>

<DT><span class="strong">FDOM_FUNION</span>
<DD>
<pre>
Ріб FDOM (f FUNION g) = FDOM f Рѕф FDOM g
</pre>

<DT><span class="strong">FDOM_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf a b. FDOM (f |+ (a,b)) = a INSERT FDOM f
</pre>

<DT><span class="strong">FDOM_FUPDATE_LIST</span>
<DD>
<pre>
Ріб Рѕђkvl fm. FDOM (fm |++ kvl) = FDOM fm Рѕф LIST_TO_SET (MAP FST kvl)
</pre>

<DT><span class="strong">FDOM_F_COMP_G_SUBSET_FDOM_G</span>
<DD>
<pre>
Ріб Рѕђf g. FDOM (f f_o_f g) Ріє FDOM g
</pre>

<DT><span class="strong">FDOM_F_FEMPTY1</span>
<DD>
<pre>
Ріб Рѕђf. (Рѕђa. a РѕЅ FDOM f) РЄћ f = FEMPTY
</pre>

<DT><span class="strong">FDOM_f_o</span>
<DD>
<pre>
Ріб Рѕђf g. FINITE {x | g x Рѕѕ FDOM f} РЄњ FDOM (f f_o g) = {x | g x Рѕѕ FDOM f}
</pre>

<DT><span class="strong">FDOM_o_f</span>
<DD>
<pre>
Ріб Рѕђf g. FDOM (f o_f g) = FDOM g
</pre>

<DT><span class="strong">FEMPTY_FUPDATE_EQ</span>
<DD>
<pre>
Ріб Рѕђx y. FEMPTY |+ x = FEMPTY |+ y РЄћ x = y
</pre>

<DT><span class="strong">FEMPTY_SUBMAP</span>
<DD>
<pre>
Ріб Рѕђh. h РіЉ FEMPTY РЄћ h = FEMPTY
</pre>

<DT><span class="strong">FEVERY_ALL_FLOOKUP</span>
<DD>
<pre>
Ріб РѕђP f. FEVERY P f РЄћ Рѕђk v. FLOOKUP f k = SOME v РЄњ P (k,v)
</pre>

<DT><span class="strong">FEVERY_DRESTRICT_COMPL</span>
<DD>
<pre>
Ріб FEVERY P (DRESTRICT (f |+ (k,v)) (COMPL s)) РЄћ
  (k РѕЅ s РЄњ P (k,v)) РѕД FEVERY P (DRESTRICT f (COMPL (k INSERT s)))
</pre>

<DT><span class="strong">FEVERY_FEMPTY</span>
<DD>
<pre>
Ріб РѕђP. FEVERY P FEMPTY
</pre>

<DT><span class="strong">FEVERY_FLOOKUP</span>
<DD>
<pre>
Ріб FEVERY P f РѕД FLOOKUP f k = SOME v РЄњ P (k,v)
</pre>

<DT><span class="strong">FEVERY_FUPDATE</span>
<DD>
<pre>
Ріб РѕђP f x y.
    FEVERY P (f |+ (x,y)) РЄћ P (x,y) РѕД FEVERY P (DRESTRICT f (COMPL {x}))
</pre>

<DT><span class="strong">FEVERY_FUPDATE_LIST</span>
<DD>
<pre>
Ріб ALL_DISTINCT (MAP FST kvl) РЄњ
  (FEVERY P (fm |++ kvl) РЄћ
   EVERY P kvl РѕД FEVERY P (DRESTRICT fm (COMPL (LIST_TO_SET (MAP FST kvl)))))
</pre>

<DT><span class="strong">FEVERY_STRENGTHEN_THM</span>
<DD>
<pre>
Ріб FEVERY P FEMPTY РѕД (FEVERY P f РѕД P (x,y) РЄњ FEVERY P (f |+ (x,y)))
</pre>

<DT><span class="strong">FEVERY_SUBMAP</span>
<DD>
<pre>
Ріб FEVERY P fm РѕД fm0 РіЉ fm РЄњ FEVERY P fm0
</pre>

<DT><span class="strong">FEVERY_o_f</span>
<DD>
<pre>
Ріб Рѕђm P f. FEVERY P (f o_f m) РЄћ FEVERY (╬╗x. P (FST x,f (SND x))) m
</pre>

<DT><span class="strong">FINITE_FRANGE</span>
<DD>
<pre>
Ріб Рѕђfm. FINITE (FRANGE fm)
</pre>

<DT><span class="strong">FINITE_MAP_LOOKUP_RANGE</span>
<DD>
<pre>
Ріб (Рѕђf x y. FLOOKUP f x = SOME y РЄњ y Рѕѕ FRANGE f) РѕД
  Рѕђf x. x Рѕѕ FDOM f РЄњ f ' x Рѕѕ FRANGE f
</pre>

<DT><span class="strong">FINITE_PRED_11</span>
<DD>
<pre>
Ріб Рѕђg. (Рѕђx y. g x = g y РЄћ x = y) РЄњ Рѕђf. FINITE {x | g x Рѕѕ FDOM f}
</pre>

<DT><span class="strong">FLOOKUP_DRESTRICT</span>
<DD>
<pre>
Ріб Рѕђfm s k. FLOOKUP (DRESTRICT fm s) k = if k Рѕѕ s then FLOOKUP fm k else NONE
</pre>

<DT><span class="strong">FLOOKUP_EMPTY</span>
<DD>
<pre>
Ріб FLOOKUP FEMPTY k = NONE
</pre>

<DT><span class="strong">FLOOKUP_EXT</span>
<DD>
<pre>
Ріб f1 = f2 РЄћ FLOOKUP f1 = FLOOKUP f2
</pre>

<DT><span class="strong">FLOOKUP_FDIFF</span>
<DD>
<pre>
Ріб FLOOKUP (FDIFF fm s) k = if k Рѕѕ s then NONE else FLOOKUP fm k
</pre>

<DT><span class="strong">FLOOKUP_FMAP_MAP2</span>
<DD>
<pre>
Ріб Рѕђf m k. FLOOKUP (FMAP_MAP2 f m) k = OPTION_MAP (╬╗v. f (k,v)) (FLOOKUP m k)
</pre>

<DT><span class="strong">FLOOKUP_FMERGE</span>
<DD>
<pre>
Ріб FLOOKUP (FMERGE f m1 m2) k =
  case FLOOKUP m1 k of
    NONE => FLOOKUP m2 k
  | SOME v1 =>
    case FLOOKUP m2 k of NONE => SOME v1 | SOME v2 => SOME (f v1 v2)
</pre>

<DT><span class="strong">FLOOKUP_FMERGE_WITH_KEY</span>
<DD>
<pre>
Ріб FLOOKUP (FMERGE_WITH_KEY f m1 m2) k =
  case FLOOKUP m1 k of
    NONE => FLOOKUP m2 k
  | SOME v1 =>
    case FLOOKUP m2 k of NONE => SOME v1 | SOME v2 => SOME (f k v1 v2)
</pre>

<DT><span class="strong">FLOOKUP_FMERGE_WITH_KEY_ASSOC</span>
<DD>
<pre>
Ріб ASSOC (FMERGE_WITH_KEY f) РЄћ Рѕђk. ASSOC (f k)
</pre>

<DT><span class="strong">FLOOKUP_FMERGE_WITH_KEY_COMM</span>
<DD>
<pre>
Ріб COMM (FMERGE_WITH_KEY f) РЄћ Рѕђk. COMM (f k)
</pre>

<DT><span class="strong">FLOOKUP_FOLDR_UPDATE</span>
<DD>
<pre>
Ріб ALL_DISTINCT (MAP FST kvl) РѕД DISJOINT (LIST_TO_SET (MAP FST kvl)) (FDOM fm) РЄњ
  (FLOOKUP (FOLDR (flip $|+) fm kvl) k = SOME v РЄћ
   MEM (k,v) kvl Рѕе FLOOKUP fm k = SOME v)
</pre>

<DT><span class="strong">FLOOKUP_FUNION</span>
<DD>
<pre>
Ріб FLOOKUP (f1 FUNION f2) k =
  case FLOOKUP f1 k of NONE => FLOOKUP f2 k | SOME v => SOME v
</pre>

<DT><span class="strong">FLOOKUP_FUN_FMAP</span>
<DD>
<pre>
Ріб FINITE P РЄњ FLOOKUP (FUN_FMAP f P) k = if k Рѕѕ P then SOME (f k) else NONE
</pre>

<DT><span class="strong">FLOOKUP_MAP_KEYS</span>
<DD>
<pre>
Ріб INJ f (FDOM m) ­ЮЋї(:╬▓) РЄњ
  FLOOKUP (MAP_KEYS f m) k =
  monad_bind (some x. k = f x РѕД x Рѕѕ FDOM m) (FLOOKUP m)
</pre>

<DT><span class="strong">FLOOKUP_MAP_KEYS_MAPPED</span>
<DD>
<pre>
Ріб INJ f ­ЮЋї(:╬▒) ­ЮЋї(:╬▓) РЄњ FLOOKUP (MAP_KEYS f m) (f k) = FLOOKUP m k
</pre>

<DT><span class="strong">FLOOKUP_SIMP</span>
<DD>
<pre>
Ріб FLOOKUP FEMPTY k = NONE РѕД
  FLOOKUP (fm |+ (k1,v)) k2 = (if k1 = k2 then SOME v else FLOOKUP fm k2) РѕД
  FDIFF f1 s = DRESTRICT f1 (COMPL s) РѕД
  FLOOKUP (FMAP_MAP2 f m) k = OPTION_MAP (╬╗v. f (k,v)) (FLOOKUP m k) РѕД
  FLOOKUP (DRESTRICT fm s) k = (if k Рѕѕ s then FLOOKUP fm k else NONE) РѕД
  FLOOKUP (FDIFF m d) k = (if k Рѕѕ d then NONE else FLOOKUP m k) РѕД
  FLOOKUP (f1 FUNION f2) k =
  (case FLOOKUP f1 k of NONE => FLOOKUP f2 k | SOME v => SOME v) РѕД
  (FINITE P РЄњ FLOOKUP (FUN_FMAP f P) k = if k Рѕѕ P then SOME (f k) else NONE) РѕД
  FLOOKUP (FMAP_MAP2 f m) k = OPTION_MAP (╬╗v. f (k,v)) (FLOOKUP m k) РѕД
  FLOOKUP (FMERGE f m1 m2) k =
  case FLOOKUP m1 k of
    NONE => FLOOKUP m2 k
  | SOME v1 =>
    case FLOOKUP m2 k of NONE => SOME v1 | SOME v2 => SOME (f v1 v2)
</pre>

<DT><span class="strong">FLOOKUP_SUBMAP</span>
<DD>
<pre>
Ріб f РіЉ g РѕД FLOOKUP f k = SOME v РЄњ FLOOKUP g k = SOME v
</pre>

<DT><span class="strong">FLOOKUP_UPDATE</span>
<DD>
<pre>
Ріб FLOOKUP (fm |+ (k1,v)) k2 = if k1 = k2 then SOME v else FLOOKUP fm k2
</pre>

<DT><span class="strong">FLOOKUP_o_f</span>
<DD>
<pre>
Ріб FLOOKUP (f o_f fm) k =
  case FLOOKUP fm k of NONE => NONE | SOME v => SOME (f v)
</pre>

<DT><span class="strong">FMAP_MAP2_FEMPTY</span>
<DD>
<pre>
Ріб FMAP_MAP2 f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">FMAP_MAP2_FUPDATE</span>
<DD>
<pre>
Ріб FMAP_MAP2 f (m |+ (x,v)) = FMAP_MAP2 f m |+ (x,f (x,v))
</pre>

<DT><span class="strong">FMAP_MAP2_FUPDATE_LIST</span>
<DD>
<pre>
Ріб Рѕђl m f.
    FMAP_MAP2 f (m |++ l) = FMAP_MAP2 f m |++ MAP (╬╗(k,v). (k,f (k,v))) l
</pre>

<DT><span class="strong">FMAP_MAP2_THM</span>
<DD>
<pre>
Ріб FDOM (FMAP_MAP2 f m) = FDOM m РѕД
  Рѕђx. x Рѕѕ FDOM m РЄњ FMAP_MAP2 f m ' x = f (x,m ' x)
</pre>

<DT><span class="strong">FMEQ_ENUMERATE_CASES</span>
<DD>
<pre>
Ріб Рѕђf1 kvl p. f1 |+ p = FEMPTY |++ kvl РЄњ MEM p kvl
</pre>

<DT><span class="strong">FMEQ_SINGLE_SIMPLE_DISJ_ELIM</span>
<DD>
<pre>
Ріб Рѕђfm k v ck cv.
    fm |+ (k,v) = FEMPTY |+ (ck,cv) РЄћ
    k = ck РѕД v = cv РѕД (fm = FEMPTY Рѕе РѕЃv'. fm = FEMPTY |+ (k,v'))
</pre>

<DT><span class="strong">FMEQ_SINGLE_SIMPLE_ELIM</span>
<DD>
<pre>
Ріб РѕђP k v ck cv nv.
    (РѕЃfm. fm |+ (k,v) = FEMPTY |+ (ck,cv) РѕД P (fm |+ (k,nv))) РЄћ
    k = ck РѕД v = cv РѕД P (FEMPTY |+ (ck,nv))
</pre>

<DT><span class="strong">FMERGE_ASSOC</span>
<DD>
<pre>
Ріб ASSOC (FMERGE m) РЄћ ASSOC m
</pre>

<DT><span class="strong">FMERGE_COMM</span>
<DD>
<pre>
Ріб COMM (FMERGE m) РЄћ COMM m
</pre>

<DT><span class="strong">FMERGE_DOMSUB</span>
<DD>
<pre>
Ріб Рѕђm m1 m2 k. FMERGE m m1 m2 \\ k = FMERGE m (m1 \\ k) (m2 \\ k)
</pre>

<DT><span class="strong">FMERGE_DRESTRICT</span>
<DD>
<pre>
Ріб DRESTRICT (FMERGE f st1 st2) vs =
  FMERGE f (DRESTRICT st1 vs) (DRESTRICT st2 vs)
</pre>

<DT><span class="strong">FMERGE_EQ_FEMPTY</span>
<DD>
<pre>
Ріб FMERGE m f g = FEMPTY РЄћ f = FEMPTY РѕД g = FEMPTY
</pre>

<DT><span class="strong">FMERGE_FEMPTY</span>
<DD>
<pre>
Ріб FMERGE m f FEMPTY = f РѕД FMERGE m FEMPTY f = f
</pre>

<DT><span class="strong">FMERGE_FUNION</span>
<DD>
<pre>
Ріб $FUNION = FMERGE (╬╗x y. x)
</pre>

<DT><span class="strong">FMERGE_NO_CHANGE</span>
<DD>
<pre>
Ріб (FMERGE m f1 f2 = f1 РЄћ
   Рѕђx. x Рѕѕ FDOM f2 РЄњ x Рѕѕ FDOM f1 РѕД m (f1 ' x) (f2 ' x) = f1 ' x) РѕД
  (FMERGE m f1 f2 = f2 РЄћ
   Рѕђx. x Рѕѕ FDOM f1 РЄњ x Рѕѕ FDOM f2 РѕД m (f1 ' x) (f2 ' x) = f2 ' x)
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_DRESTRICT</span>
<DD>
<pre>
Ріб DRESTRICT (FMERGE_WITH_KEY f m1 m2) vs =
  FMERGE_WITH_KEY f (DRESTRICT m1 vs) (DRESTRICT m2 vs)
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_EQ_EMPTY</span>
<DD>
<pre>
Ріб FMERGE_WITH_KEY f m1 m2 = FEMPTY РЄћ m1 = FEMPTY РѕД m2 = FEMPTY
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_FEMPTY</span>
<DD>
<pre>
Ріб FMERGE_WITH_KEY f FEMPTY m2 = m2 РѕД FMERGE_WITH_KEY f m1 FEMPTY = m1
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_FMERGE</span>
<DD>
<pre>
Ріб FMERGE f = FMERGE_WITH_KEY (╬╗k v1 v2. f v1 v2)
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_FUNION</span>
<DD>
<pre>
Ріб FMERGE_WITH_KEY f (m1 FUNION m2) m3 =
  FMERGE_WITH_KEY f m1 (DRESTRICT m3 (FDOM m1)) FUNION FMERGE_WITH_KEY f m2 m3
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_FUNION_ALT</span>
<DD>
<pre>
Ріб FMERGE_WITH_KEY f (m1 FUNION m2) m3 =
  FMERGE_WITH_KEY f m1 (DRESTRICT m3 (FDOM m1)) FUNION
  FMERGE_WITH_KEY f m2 (FDIFF m3 (FDOM m1))
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_FUPDATE</span>
<DD>
<pre>
Ріб FMERGE_WITH_KEY f (m1 |+ (k,v1)) m2 =
  FMERGE_WITH_KEY f m1 m2 |+
  (k,case FLOOKUP m2 k of NONE => v1 | SOME v2 => f k v1 v2)
</pre>

<DT><span class="strong">FMERGE_WITH_KEY_NO_CHANGE</span>
<DD>
<pre>
Ріб (FMERGE_WITH_KEY f m1 m2 = m1 РЄћ
   Рѕђx. x Рѕѕ FDOM m2 РЄњ x Рѕѕ FDOM m1 РѕД f x (m1 ' x) (m2 ' x) = m1 ' x) РѕД
  (FMERGE_WITH_KEY f m1 m2 = m2 РЄћ
   Рѕђx. x Рѕѕ FDOM m1 РЄњ x Рѕѕ FDOM m2 РѕД f x (m1 ' x) (m2 ' x) = m2 ' x)
</pre>

<DT><span class="strong">FM_PULL_APART</span>
<DD>
<pre>
Ріб Рѕђfm k. k Рѕѕ FDOM fm РЄњ РѕЃfm0 v. fm = fm0 |+ (k,v) РѕД k РѕЅ FDOM fm0
</pre>

<DT><span class="strong">FOLDL2_FUPDATE_LIST</span>
<DD>
<pre>
Ріб Рѕђf1 f2 bs cs a.
    LENGTH bs = LENGTH cs РЄњ
    FOLDL2 (╬╗fm b c. fm |+ (f1 b c,f2 b c)) a bs cs =
    a |++ ZIP (MAP2 f1 bs cs,MAP2 f2 bs cs)
</pre>

<DT><span class="strong">FOLDL2_FUPDATE_LIST_paired</span>
<DD>
<pre>
Ріб Рѕђf1 f2 bs cs a.
    LENGTH bs = LENGTH cs РЄњ
    FOLDL2 (╬╗fm b (c,d). fm |+ (f1 b c d,f2 b c d)) a bs cs =
    a |++ ZIP (MAP2 (╬╗b. (f1 b)р┤Й) bs cs,MAP2 (╬╗b. (f2 b)р┤Й) bs cs)
</pre>

<DT><span class="strong">FOLDL_FUPDATE_LIST</span>
<DD>
<pre>
Ріб Рѕђf1 f2 ls a.
    FOLDL (╬╗fm k. fm |+ (f1 k,f2 k)) a ls = a |++ MAP (╬╗k. (f1 k,f2 k)) ls
</pre>

<DT><span class="strong">FRANGE_DOMSUB_SUBSET</span>
<DD>
<pre>
Ріб FRANGE (fm \\ k) Ріє FRANGE fm
</pre>

<DT><span class="strong">FRANGE_DRESTRICT_SUBSET</span>
<DD>
<pre>
Ріб FRANGE (DRESTRICT fm s) Ріє FRANGE fm
</pre>

<DT><span class="strong">FRANGE_FEMPTY</span>
<DD>
<pre>
Ріб FRANGE FEMPTY = РѕЁ
</pre>

<DT><span class="strong">FRANGE_FLOOKUP</span>
<DD>
<pre>
Ріб v Рѕѕ FRANGE f РЄћ РѕЃk. FLOOKUP f k = SOME v
</pre>

<DT><span class="strong">FRANGE_FMAP</span>
<DD>
<pre>
Ріб FINITE P РЄњ FRANGE (FUN_FMAP f P) = IMAGE f P
</pre>

<DT><span class="strong">FRANGE_FUNION</span>
<DD>
<pre>
Ріб DISJOINT (FDOM fm1) (FDOM fm2) РЄњ
  FRANGE (fm1 FUNION fm2) = FRANGE fm1 Рѕф FRANGE fm2
</pre>

<DT><span class="strong">FRANGE_FUNION_SUBSET</span>
<DD>
<pre>
Ріб FRANGE (f1 FUNION f2) Ріє FRANGE f1 Рѕф FRANGE f2
</pre>

<DT><span class="strong">FRANGE_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf x y. FRANGE (f |+ (x,y)) = y INSERT FRANGE (DRESTRICT f (COMPL {x}))
</pre>

<DT><span class="strong">FRANGE_FUPDATE_DOMSUB</span>
<DD>
<pre>
Ріб Рѕђfm k v. FRANGE (fm |+ (k,v)) = v INSERT FRANGE (fm \\ k)
</pre>

<DT><span class="strong">FRANGE_FUPDATE_LIST_SUBSET</span>
<DD>
<pre>
Ріб Рѕђls fm. FRANGE (fm |++ ls) Ріє FRANGE fm Рѕф LIST_TO_SET (MAP SND ls)
</pre>

<DT><span class="strong">FRANGE_FUPDATE_SUBSET</span>
<DD>
<pre>
Ріб FRANGE (fm |+ kv) Ріє FRANGE fm Рѕф {SND kv}
</pre>

<DT><span class="strong">FRANGE_SUBSET_FDOM_COMP_FDOM_EQUALITY</span>
<DD>
<pre>
Ріб Рѕђf g. FRANGE g Ріє FDOM f РЄњ FDOM (f f_o_f g) = FDOM g
</pre>

<DT><span class="strong">FUNION_ASSOC</span>
<DD>
<pre>
Ріб Рѕђf g h. f FUNION (g FUNION h) = f FUNION g FUNION h
</pre>

<DT><span class="strong">FUNION_COMM</span>
<DD>
<pre>
Ріб Рѕђf g. DISJOINT (FDOM f) (FDOM g) РЄњ f FUNION g = g FUNION f
</pre>

<DT><span class="strong">FUNION_EQ</span>
<DD>
<pre>
Ріб Рѕђf1 f2 f3.
    DISJOINT (FDOM f1) (FDOM f2) РѕД DISJOINT (FDOM f1) (FDOM f3) РЄњ
    (f1 FUNION f2 = f1 FUNION f3 РЄћ f2 = f3)
</pre>

<DT><span class="strong">FUNION_EQ_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђh1 h2. h1 FUNION h2 = FEMPTY РЄћ h1 = FEMPTY РѕД h2 = FEMPTY
</pre>

<DT><span class="strong">FUNION_EQ_IMPL</span>
<DD>
<pre>
Ріб Рѕђf1 f2 f3.
    DISJOINT (FDOM f1) (FDOM f2) РѕД DISJOINT (FDOM f1) (FDOM f3) РѕД f2 = f3 РЄњ
    f1 FUNION f2 = f1 FUNION f3
</pre>

<DT><span class="strong">FUNION_FEMPTY_1</span>
<DD>
<pre>
Ріб Рѕђg. FEMPTY FUNION g = g
</pre>

<DT><span class="strong">FUNION_FEMPTY_2</span>
<DD>
<pre>
Ріб Рѕђf. f FUNION FEMPTY = f
</pre>

<DT><span class="strong">FUNION_FMERGE</span>
<DD>
<pre>
Ріб Рѕђf1 f2 m. DISJOINT (FDOM f1) (FDOM f2) РЄњ FMERGE m f1 f2 = f1 FUNION f2
</pre>

<DT><span class="strong">FUNION_FMERGE_WITH_KEY</span>
<DD>
<pre>
Ріб Рѕђm1 m2 f.
    DISJOINT (FDOM m1) (FDOM m2) РЄњ FMERGE_WITH_KEY f m1 m2 = m1 FUNION m2
</pre>

<DT><span class="strong">FUNION_FUPDATE_1</span>
<DD>
<pre>
Ріб Рѕђf g x y. f |+ (x,y) FUNION g = (f FUNION g) |+ (x,y)
</pre>

<DT><span class="strong">FUNION_FUPDATE_2</span>
<DD>
<pre>
Ріб Рѕђf g x y.
    f FUNION g |+ (x,y) =
    if x Рѕѕ FDOM f then f FUNION g else (f FUNION g) |+ (x,y)
</pre>

<DT><span class="strong">FUNION_IDEMPOT</span>
<DD>
<pre>
Ріб fm FUNION fm = fm
</pre>

<DT><span class="strong">FUN_FMAP_EMPTY</span>
<DD>
<pre>
Ріб FUN_FMAP f РѕЁ = FEMPTY
</pre>

<DT><span class="strong">FUN_FMAP_INSERT</span>
<DD>
<pre>
Ріб Рѕђf e s. FINITE s РѕД e РѕЅ s РЄњ FUN_FMAP f (e INSERT s) = FUN_FMAP f s |+ (e,f e)
</pre>

<DT><span class="strong">FUPD11_SAME_BASE</span>
<DD>
<pre>
Ріб Рѕђf k1 v1 k2 v2.
    f |+ (k1,v1) = f |+ (k2,v2) РЄћ
    k1 = k2 РѕД v1 = v2 Рѕе
    k1 РЅа k2 РѕД k1 Рѕѕ FDOM f РѕД k2 Рѕѕ FDOM f РѕД f |+ (k1,v1) = f РѕД f |+ (k2,v2) = f
</pre>

<DT><span class="strong">FUPD11_SAME_KEY_AND_BASE</span>
<DD>
<pre>
Ріб Рѕђf k v1 v2. f |+ (k,v1) = f |+ (k,v2) РЄћ v1 = v2
</pre>

<DT><span class="strong">FUPD11_SAME_NEW_KEY</span>
<DD>
<pre>
Ріб Рѕђf1 f2 k v1 v2.
    k РѕЅ FDOM f1 РѕД k РѕЅ FDOM f2 РЄњ
    (f1 |+ (k,v1) = f2 |+ (k,v2) РЄћ f1 = f2 РѕД v1 = v2)
</pre>

<DT><span class="strong">FUPD11_SAME_UPDATE</span>
<DD>
<pre>
Ріб Рѕђf1 f2 k v.
    f1 |+ (k,v) = f2 |+ (k,v) РЄћ
    DRESTRICT f1 (COMPL {k}) = DRESTRICT f2 (COMPL {k})
</pre>

<DT><span class="strong">FUPDATE_COMMUTES</span>
<DD>
<pre>
Ріб Рѕђf a b c d. a РЅа c РЄњ f |+ (a,b) |+ (c,d) = f |+ (c,d) |+ (a,b)
</pre>

<DT><span class="strong">FUPDATE_DRESTRICT</span>
<DD>
<pre>
Ріб Рѕђf x y. f |+ (x,y) = DRESTRICT f (COMPL {x}) |+ (x,y)
</pre>

<DT><span class="strong">FUPDATE_ELIM</span>
<DD>
<pre>
Ріб Рѕђk v f. k Рѕѕ FDOM f РѕД f ' k = v РЄњ f |+ (k,v) = f
</pre>

<DT><span class="strong">FUPDATE_EQ</span>
<DD>
<pre>
Ріб Рѕђf a b c. f |+ (a,b) |+ (a,c) = f |+ (a,c)
</pre>

<DT><span class="strong">FUPDATE_EQ_FUNION</span>
<DD>
<pre>
Ріб Рѕђfm kv. fm |+ kv = FEMPTY |+ kv FUNION fm
</pre>

<DT><span class="strong">FUPDATE_EQ_FUPDATE_LIST</span>
<DD>
<pre>
Ріб Рѕђfm kv. fm |+ kv = fm |++ [kv]
</pre>

<DT><span class="strong">FUPDATE_FUPDATE_LIST_COMMUTES</span>
<DD>
<pre>
Ріб ┬гMEM k (MAP FST kvl) РЄњ fm |+ (k,v) |++ kvl = (fm |++ kvl) |+ (k,v)
</pre>

<DT><span class="strong">FUPDATE_FUPDATE_LIST_MEM</span>
<DD>
<pre>
Ріб MEM k (MAP FST kvl) РЄњ fm |+ (k,v) |++ kvl = fm |++ kvl
</pre>

<DT><span class="strong">FUPDATE_LIST_ALL_DISTINCT_APPLY_MEM</span>
<DD>
<pre>
Ріб РѕђP ls k v fm.
    ALL_DISTINCT (MAP FST ls) РѕД MEM (k,v) ls РѕД P v РЄњ P ((fm |++ ls) ' k)
</pre>

<DT><span class="strong">FUPDATE_LIST_ALL_DISTINCT_PERM</span>
<DD>
<pre>
Ріб Рѕђls ls' fm. ALL_DISTINCT (MAP FST ls) РѕД PERM ls ls' РЄњ fm |++ ls = fm |++ ls'
</pre>

<DT><span class="strong">FUPDATE_LIST_ALL_DISTINCT_REVERSE</span>
<DD>
<pre>
Ріб Рѕђls. ALL_DISTINCT (MAP FST ls) РЄњ Рѕђfm. fm |++ REVERSE ls = fm |++ ls
</pre>

<DT><span class="strong">FUPDATE_LIST_APPEND</span>
<DD>
<pre>
Ріб fm |++ (kvl1 ++ kvl2) = fm |++ kvl1 |++ kvl2
</pre>

<DT><span class="strong">FUPDATE_LIST_APPEND_COMMUTES</span>
<DD>
<pre>
Ріб Рѕђl1 l2 fm.
    DISJOINT (LIST_TO_SET (MAP FST l1)) (LIST_TO_SET (MAP FST l2)) РЄњ
    fm |++ l1 |++ l2 = fm |++ l2 |++ l1
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_HO_THM</span>
<DD>
<pre>
Ріб РѕђP f kvl k.
    (РѕЃn. n < LENGTH kvl РѕД k = EL n (MAP FST kvl) РѕД P (EL n (MAP SND kvl)) РѕД
         Рѕђm. n < m РѕД m < LENGTH kvl РЄњ EL m (MAP FST kvl) РЅа k) Рѕе
    ┬гMEM k (MAP FST kvl) РѕД P (f ' k) РЄњ
    P ((f |++ kvl) ' k)
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_MEM</span>
<DD>
<pre>
Ріб Рѕђkvl f k v n.
    n < LENGTH kvl РѕД k = EL n (MAP FST kvl) РѕД v = EL n (MAP SND kvl) РѕД
    (Рѕђm. n < m РѕД m < LENGTH kvl РЄњ EL m (MAP FST kvl) РЅа k) РЄњ
    (f |++ kvl) ' k = v
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_NOT_MEM</span>
<DD>
<pre>
Ріб Рѕђkvl f k. ┬гMEM k (MAP FST kvl) РЄњ (f |++ kvl) ' k = f ' k
</pre>

<DT><span class="strong">FUPDATE_LIST_APPLY_NOT_MEM_matchable</span>
<DD>
<pre>
Ріб Рѕђkvl f k v. ┬гMEM k (MAP FST kvl) РѕД v = f ' k РЄњ (f |++ kvl) ' k = v
</pre>

<DT><span class="strong">FUPDATE_LIST_CANCEL</span>
<DD>
<pre>
Ріб Рѕђls1 fm ls2.
    (Рѕђk. MEM k (MAP FST ls1) РЄњ MEM k (MAP FST ls2)) РЄњ
    fm |++ ls1 |++ ls2 = fm |++ ls2
</pre>

<DT><span class="strong">FUPDATE_LIST_EQ_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђfm ls. fm |++ ls = FEMPTY РЄћ fm = FEMPTY РѕД ls = []
</pre>

<DT><span class="strong">FUPDATE_LIST_SAME_KEYS_UNWIND</span>
<DD>
<pre>
Ріб Рѕђf1 f2 kvl1 kvl2.
    f1 |++ kvl1 = f2 |++ kvl2 РѕД MAP FST kvl1 = MAP FST kvl2 РѕД
    ALL_DISTINCT (MAP FST kvl1) РЄњ
    kvl1 = kvl2 РѕД Рѕђkvl. MAP FST kvl = MAP FST kvl1 РЄњ f1 |++ kvl = f2 |++ kvl
</pre>

<DT><span class="strong">FUPDATE_LIST_SAME_UPDATE</span>
<DD>
<pre>
Ріб Рѕђkvl f1 f2.
    f1 |++ kvl = f2 |++ kvl РЄћ
    DRESTRICT f1 (COMPL (LIST_TO_SET (MAP FST kvl))) =
    DRESTRICT f2 (COMPL (LIST_TO_SET (MAP FST kvl)))
</pre>

<DT><span class="strong">FUPDATE_LIST_SNOC</span>
<DD>
<pre>
Ріб Рѕђxs x fm. fm |++ SNOC x xs = (fm |++ xs) |+ x
</pre>

<DT><span class="strong">FUPDATE_LIST_THM</span>
<DD>
<pre>
Ріб Рѕђf. f |++ [] = f РѕД Рѕђh t. f |++ (h::t) = f |+ h |++ t
</pre>

<DT><span class="strong">FUPDATE_PURGE</span>
<DD>
<pre>
Ріб Рѕђf x y. f |+ (x,y) = f \\ x |+ (x,y)
</pre>

<DT><span class="strong">FUPDATE_PURGE'</span>
<DD>
<pre>
Ріб Рѕђf x y. f \\ x |+ (x,y) = f |+ (x,y)
</pre>

<DT><span class="strong">FUPDATE_SAME_APPLY</span>
<DD>
<pre>
Ріб x = FST kv Рѕе fm1 ' x = fm2 ' x РЄњ (fm1 |+ kv) ' x = (fm2 |+ kv) ' x
</pre>

<DT><span class="strong">FUPDATE_SAME_LIST_APPLY</span>
<DD>
<pre>
Ріб Рѕђkvl fm1 fm2 x. MEM x (MAP FST kvl) РЄњ (fm1 |++ kvl) ' x = (fm2 |++ kvl) ' x
</pre>

<DT><span class="strong">FUPD_SAME_KEY_UNWIND</span>
<DD>
<pre>
Ріб Рѕђf1 f2 k v1 v2.
    f1 |+ (k,v1) = f2 |+ (k,v2) РЄњ v1 = v2 РѕД Рѕђv. f1 |+ (k,v) = f2 |+ (k,v)
</pre>

<DT><span class="strong">IMAGE_FRANGE</span>
<DD>
<pre>
Ріб Рѕђf fm. IMAGE f (FRANGE fm) = FRANGE (f o_f fm)
</pre>

<DT><span class="strong">IN_FDOM_FOLDR_UNION</span>
<DD>
<pre>
Ріб Рѕђx hL. x Рѕѕ FDOM (FOLDR $FUNION FEMPTY hL) РЄћ РѕЃh. MEM h hL РѕД x Рѕѕ FDOM h
</pre>

<DT><span class="strong">IN_FRANGE</span>
<DD>
<pre>
Ріб Рѕђf v. v Рѕѕ FRANGE f РЄћ РѕЃk. k Рѕѕ FDOM f РѕД f ' k = v
</pre>

<DT><span class="strong">IN_FRANGE_DOMSUB_suff</span>
<DD>
<pre>
Ріб (Рѕђv. v Рѕѕ FRANGE fm РЄњ P v) РЄњ Рѕђv. v Рѕѕ FRANGE (fm \\ k) РЄњ P v
</pre>

<DT><span class="strong">IN_FRANGE_DRESTRICT_suff</span>
<DD>
<pre>
Ріб (Рѕђv. v Рѕѕ FRANGE fm РЄњ P v) РЄњ Рѕђv. v Рѕѕ FRANGE (DRESTRICT fm s) РЄњ P v
</pre>

<DT><span class="strong">IN_FRANGE_FLOOKUP</span>
<DD>
<pre>
Ріб Рѕђf v. v Рѕѕ FRANGE f РЄћ РѕЃk. FLOOKUP f k = SOME v
</pre>

<DT><span class="strong">IN_FRANGE_FUNION_suff</span>
<DD>
<pre>
Ріб (Рѕђv. v Рѕѕ FRANGE f1 РЄњ P v) РѕД (Рѕђv. v Рѕѕ FRANGE f2 РЄњ P v) РЄњ
  Рѕђv. v Рѕѕ FRANGE (f1 FUNION f2) РЄњ P v
</pre>

<DT><span class="strong">IN_FRANGE_FUPDATE_LIST_suff</span>
<DD>
<pre>
Ріб (Рѕђv. v Рѕѕ FRANGE fm РЄњ P v) РѕД (Рѕђv. MEM v (MAP SND ls) РЄњ P v) РЄњ
  Рѕђv. v Рѕѕ FRANGE (fm |++ ls) РЄњ P v
</pre>

<DT><span class="strong">IN_FRANGE_FUPDATE_suff</span>
<DD>
<pre>
Ріб (Рѕђv. v Рѕѕ FRANGE fm РЄњ P v) РѕД P (SND kv) РЄњ Рѕђv. v Рѕѕ FRANGE (fm |+ kv) РЄњ P v
</pre>

<DT><span class="strong">IN_FRANGE_o_f_suff</span>
<DD>
<pre>
Ріб (Рѕђv. v Рѕѕ FRANGE fm РЄњ P (f v)) РЄњ Рѕђv. v Рѕѕ FRANGE (f o_f fm) РЄњ P v
</pre>

<DT><span class="strong">ITFMAPR_FEMPTY</span>
<DD>
<pre>
Ріб ITFMAPR f FEMPTY A1 A2 РЄћ A1 = A2
</pre>

<DT><span class="strong">ITFMAPR_cases</span>
<DD>
<pre>
Ріб Рѕђf a0 a1 a2.
    ITFMAPR f a0 a1 a2 РЄћ
    a0 = FEMPTY РѕД a2 = a1 Рѕе
    РѕЃA2 k v fm.
      a0 = fm |+ (k,v) РѕД a2 = f k v A2 РѕД k РѕЅ FDOM fm РѕД ITFMAPR f fm a1 A2
</pre>

<DT><span class="strong">ITFMAPR_ind</span>
<DD>
<pre>
Ріб Рѕђf ITFMAPR'.
    (РѕђA. ITFMAPR' FEMPTY A A) РѕД
    (РѕђA1 A2 k v fm.
       k РѕЅ FDOM fm РѕД ITFMAPR' fm A1 A2 РЄњ ITFMAPR' (fm |+ (k,v)) A1 (f k v A2)) РЄњ
    Рѕђa0 a1 a2. ITFMAPR f a0 a1 a2 РЄњ ITFMAPR' a0 a1 a2
</pre>

<DT><span class="strong">ITFMAPR_rules</span>
<DD>
<pre>
Ріб Рѕђf. (РѕђA. ITFMAPR f FEMPTY A A) РѕД
      РѕђA1 A2 k v fm.
        k РѕЅ FDOM fm РѕД ITFMAPR f fm A1 A2 РЄњ
        ITFMAPR f (fm |+ (k,v)) A1 (f k v A2)
</pre>

<DT><span class="strong">ITFMAPR_strongind</span>
<DD>
<pre>
Ріб Рѕђf ITFMAPR'.
    (РѕђA. ITFMAPR' FEMPTY A A) РѕД
    (РѕђA1 A2 k v fm.
       k РѕЅ FDOM fm РѕД ITFMAPR f fm A1 A2 РѕД ITFMAPR' fm A1 A2 РЄњ
       ITFMAPR' (fm |+ (k,v)) A1 (f k v A2)) РЄњ
    Рѕђa0 a1 a2. ITFMAPR f a0 a1 a2 РЄњ ITFMAPR' a0 a1 a2
</pre>

<DT><span class="strong">ITFMAPR_total</span>
<DD>
<pre>
Ріб Рѕђfm r0. РѕЃr. ITFMAPR f fm r0 r
</pre>

<DT><span class="strong">ITFMAPR_unique</span>
<DD>
<pre>
Ріб (Рѕђk1 k2 v1 v2 A. k1 РЅа k2 РЄњ f k1 v1 (f k2 v2 A) = f k2 v2 (f k1 v1 A)) РЄњ
  Рѕђfm A0 A1 A2. ITFMAPR f fm A0 A1 РѕД ITFMAPR f fm A0 A2 РЄњ A1 = A2
</pre>

<DT><span class="strong">ITFMAP_FEMPTY</span>
<DD>
<pre>
Ріб ITFMAP f FEMPTY A = A
</pre>

<DT><span class="strong">ITFMAP_thm</span>
<DD>
<pre>
Ріб ITFMAP f FEMPTY A = A РѕД
  ((Рѕђk1 k2 v1 v2 A. k1 РЅа k2 РЄњ f k1 v1 (f k2 v2 A) = f k2 v2 (f k1 v1 A)) РЄњ
   ITFMAP f (fm |+ (k,v)) A = f k v (ITFMAP f (fm \\ k) A))
</pre>

<DT><span class="strong">LEAST_NOTIN_FDOM</span>
<DD>
<pre>
Ріб (LEAST ptr. ptr РѕЅ FDOM refs) РѕЅ FDOM refs
</pre>

<DT><span class="strong">MAP_KEYS_BIJ_LINV</span>
<DD>
<pre>
Ріб f PERMUTES ­ЮЋї(:num) РЄњ MAP_KEYS f (MAP_KEYS (LINV f ­ЮЋї(:num)) t) = t
</pre>

<DT><span class="strong">MAP_KEYS_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђf. MAP_KEYS f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">MAP_KEYS_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf fm k v.
    INJ f (k INSERT FDOM fm) ­ЮЋї(:╬▓) РЄњ
    MAP_KEYS f (fm |+ (k,v)) = MAP_KEYS f fm |+ (f k,v)
</pre>

<DT><span class="strong">MAP_KEYS_using_LINV</span>
<DD>
<pre>
Ріб Рѕђf fm.
    INJ f (FDOM fm) ­ЮЋї(:╬▓) РЄњ
    MAP_KEYS f fm = fm f_o_f FUN_FMAP (LINV f (FDOM fm)) (IMAGE f (FDOM fm))
</pre>

<DT><span class="strong">MAP_KEYS_witness</span>
<DD>
<pre>
Ріб let
    m f fm =
      if INJ f (FDOM fm) ­ЮЋї(:╬▓) then
        fm f_o_f FUN_FMAP (LINV f (FDOM fm)) (IMAGE f (FDOM fm))
      else FUN_FMAP ARB (IMAGE f (FDOM fm))
  in
    Рѕђf fm.
      FDOM (m f fm) = IMAGE f (FDOM fm) РѕД
      (INJ f (FDOM fm) ­ЮЋї(:╬▓) РЄњ Рѕђx. x Рѕѕ FDOM fm РЄњ m f fm ' (f x) = fm ' x)
</pre>

<DT><span class="strong">NOT_EQ_FAPPLY</span>
<DD>
<pre>
Ріб Рѕђf a x y. a РЅа x РЄњ (f |+ (x,y)) ' a = f ' a
</pre>

<DT><span class="strong">NOT_EQ_FEMPTY_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf a b. FEMPTY РЅа f |+ (a,b)
</pre>

<DT><span class="strong">NOT_FDOM_DRESTRICT</span>
<DD>
<pre>
Ріб Рѕђf x. x РѕЅ FDOM f РЄњ DRESTRICT f (COMPL {x}) = f
</pre>

<DT><span class="strong">NOT_FDOM_FAPPLY_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђf x. x РѕЅ FDOM f РЄњ f ' x = FEMPTY ' x
</pre>

<DT><span class="strong">NUM_NOT_IN_FDOM</span>
<DD>
<pre>
Ріб РѕЃx. x РѕЅ FDOM f
</pre>

<DT><span class="strong">RRESTRICT_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђr. RRESTRICT FEMPTY r = FEMPTY
</pre>

<DT><span class="strong">RRESTRICT_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf r x y.
    RRESTRICT (f |+ (x,y)) r =
    if y Рѕѕ r then RRESTRICT f r |+ (x,y)
    else RRESTRICT (DRESTRICT f (COMPL {x})) r
</pre>

<DT><span class="strong">SAME_KEY_UPDATES_DIFFER</span>
<DD>
<pre>
Ріб Рѕђf1 f2 k v1 v2. v1 РЅа v2 РЄњ f1 |+ (k,v1) РЅа f2 |+ (k,v2)
</pre>

<DT><span class="strong">STRONG_DRESTRICT_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf r x y.
    x Рѕѕ r РЄњ DRESTRICT (f |+ (x,y)) r = DRESTRICT f (r DELETE x) |+ (x,y)
</pre>

<DT><span class="strong">STRONG_DRESTRICT_FUPDATE_THM</span>
<DD>
<pre>
Ріб Рѕђf r x y.
    DRESTRICT (f |+ (x,y)) r =
    if x Рѕѕ r then DRESTRICT f (COMPL {x} РѕЕ r) |+ (x,y)
    else DRESTRICT f (COMPL {x} РѕЕ r)
</pre>

<DT><span class="strong">SUBMAP_ANTISYM</span>
<DD>
<pre>
Ріб Рѕђf g. f РіЉ g РѕД g РіЉ f РЄћ f = g
</pre>

<DT><span class="strong">SUBMAP_DOMSUB</span>
<DD>
<pre>
Ріб f \\ k РіЉ f
</pre>

<DT><span class="strong">SUBMAP_DOMSUB_gen</span>
<DD>
<pre>
Ріб Рѕђf g k. f \\ k РіЉ g РЄћ f \\ k РіЉ g \\ k
</pre>

<DT><span class="strong">SUBMAP_DRESTRICT</span>
<DD>
<pre>
Ріб DRESTRICT f P РіЉ f
</pre>

<DT><span class="strong">SUBMAP_DRESTRICT_MONOTONE</span>
<DD>
<pre>
Ріб f1 РіЉ f2 РѕД s1 Ріє s2 РЄњ DRESTRICT f1 s1 РіЉ DRESTRICT f2 s2
</pre>

<DT><span class="strong">SUBMAP_FDOM_SUBSET</span>
<DD>
<pre>
Ріб f1 РіЉ f2 РЄњ FDOM f1 Ріє FDOM f2
</pre>

<DT><span class="strong">SUBMAP_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђf. FEMPTY РіЉ f
</pre>

<DT><span class="strong">SUBMAP_FLOOKUP_EQN</span>
<DD>
<pre>
Ріб f РіЉ g РЄћ Рѕђx y. FLOOKUP f x = SOME y РЄњ FLOOKUP g x = SOME y
</pre>

<DT><span class="strong">SUBMAP_FRANGE</span>
<DD>
<pre>
Ріб Рѕђf g. f РіЉ g РЄњ FRANGE f Ріє FRANGE g
</pre>

<DT><span class="strong">SUBMAP_FUNION</span>
<DD>
<pre>
Ріб Рѕђf1 f2 f3.
    f1 РіЉ f2 Рѕе DISJOINT (FDOM f1) (FDOM f2) РѕД f1 РіЉ f3 РЄњ f1 РіЉ f2 FUNION f3
</pre>

<DT><span class="strong">SUBMAP_FUNION_ABSORPTION</span>
<DD>
<pre>
Ріб Рѕђf g. f РіЉ g РЄћ f FUNION g = g
</pre>

<DT><span class="strong">SUBMAP_FUNION_EQ</span>
<DD>
<pre>
Ріб (Рѕђf1 f2 f3. DISJOINT (FDOM f1) (FDOM f2) РЄњ (f1 РіЉ f2 FUNION f3 РЄћ f1 РіЉ f3)) РѕД
  Рѕђf1 f2 f3.
    DISJOINT (FDOM f1) (FDOM f3 DIFF FDOM f2) РЄњ (f1 РіЉ f2 FUNION f3 РЄћ f1 РіЉ f2)
</pre>

<DT><span class="strong">SUBMAP_FUNION_ID</span>
<DD>
<pre>
Ріб (Рѕђf1 f2. f1 РіЉ f1 FUNION f2) РѕД
  Рѕђf1 f2. DISJOINT (FDOM f1) (FDOM f2) РЄњ f2 РіЉ f1 FUNION f2
</pre>

<DT><span class="strong">SUBMAP_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf g x y. f |+ (x,y) РіЉ g РЄћ x Рѕѕ FDOM g РѕД g ' x = y РѕД f \\ x РіЉ g \\ x
</pre>

<DT><span class="strong">SUBMAP_FUPDATE_EQN</span>
<DD>
<pre>
Ріб f РіЉ f |+ (x,y) РЄћ x РѕЅ FDOM f Рѕе f ' x = y РѕД x Рѕѕ FDOM f
</pre>

<DT><span class="strong">SUBMAP_FUPDATE_EXTENDED</span>
<DD>
<pre>
Ріб k РѕЅ FDOM f РЄњ f РіЉ f |+ (k,v)
</pre>

<DT><span class="strong">SUBMAP_FUPDATE_FLOOKUP</span>
<DD>
<pre>
Ріб f РіЉ f |+ (x,y) РЄћ FLOOKUP f x = NONE Рѕе FLOOKUP f x = SOME y
</pre>

<DT><span class="strong">SUBMAP_REFL</span>
<DD>
<pre>
Ріб Рѕђf. f РіЉ f
</pre>

<DT><span class="strong">SUBMAP_TRANS</span>
<DD>
<pre>
Ріб Рѕђf g h. f РіЉ g РѕД g РіЉ h РЄњ f РіЉ h
</pre>

<DT><span class="strong">SUBMAP_mono_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђf g x y. f \\ x РіЉ g \\ x РЄњ f |+ (x,y) РіЉ g |+ (x,y)
</pre>

<DT><span class="strong">TO_FLOOKUP</span>
<DD>
<pre>
Ріб (x Рѕѕ FDOM m РЄћ FLOOKUP m x РЅа NONE) РѕД
  (y Рѕѕ FRANGE m РЄћ РѕЃk. FLOOKUP m k = SOME y) РѕД
  (FLOOKUP m x РЅа NONE РЄњ m ' x = THE (FLOOKUP m x)) РѕД
  (m = m' РЄћ FLOOKUP m = FLOOKUP m') РѕД
  (m РіЉ m' РЄћ Рѕђk v. FLOOKUP m k = SOME v РЄњ FLOOKUP m' k = SOME v) РѕД
  (FEVERY P m РЄћ Рѕђk v. FLOOKUP m k = SOME v РЄњ P (k,v))
</pre>

<DT><span class="strong">WF_lbound_inv_SUBSET</span>
<DD>
<pre>
Ріб FINITE s РЄњ WF (lbound s $PSUBSETрхђ)
</pre>

<DT><span class="strong">disjoint_drestrict</span>
<DD>
<pre>
Ріб Рѕђs m. DISJOINT s (FDOM m) РЄњ DRESTRICT m (COMPL s) = m
</pre>

<DT><span class="strong">drestrict_iter_list</span>
<DD>
<pre>
Ріб Рѕђm l. FOLDR (╬╗k m. m \\ k) m l = DRESTRICT m (COMPL (LIST_TO_SET l))
</pre>

<DT><span class="strong">f_o_ASSOC</span>
<DD>
<pre>
Ріб (Рѕђx y. g x = g y РЄћ x = y) РѕД (Рѕђx y. h x = h y РЄћ x = y) РЄњ
  (f f_o g) f_o h = f f_o g Рѕў h
</pre>

<DT><span class="strong">f_o_FEMPTY</span>
<DD>
<pre>
Ріб Рѕђg. FEMPTY f_o g = FEMPTY
</pre>

<DT><span class="strong">f_o_FUPDATE</span>
<DD>
<pre>
Ріб Рѕђfm k v g.
    FINITE {x | g x Рѕѕ FDOM fm} РѕД FINITE {x | g x = k} РЄњ
    (fm |+ (k,v)) f_o g =
    FMERGE (flip K) (fm f_o g) (FUN_FMAP (K v) {x | g x = k})
</pre>

<DT><span class="strong">f_o_f_FEMPTY_1</span>
<DD>
<pre>
Ріб Рѕђf. FEMPTY f_o_f f = FEMPTY
</pre>

<DT><span class="strong">f_o_f_FEMPTY_2</span>
<DD>
<pre>
Ріб Рѕђf. f f_o_f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">f_o_f_FUPDATE_compose</span>
<DD>
<pre>
Ріб Рѕђf1 f2 k x v.
    x РѕЅ FDOM f1 РѕД x РѕЅ FRANGE f2 РЄњ
    (f1 |+ (x,v)) f_o_f (f2 |+ (k,x)) = f1 f_o_f f2 |+ (k,v)
</pre>

<DT><span class="strong">fdom_fupdate_list2</span>
<DD>
<pre>
Ріб Рѕђkvl fm.
    FDOM (fm |++ kvl) =
    FDOM fm DIFF LIST_TO_SET (MAP FST kvl) Рѕф LIST_TO_SET (MAP FST kvl)
</pre>

<DT><span class="strong">fevery_funion</span>
<DD>
<pre>
Ріб РѕђP m1 m2. FEVERY P m1 РѕД FEVERY P m2 РЄњ FEVERY P (m1 FUNION m2)
</pre>

<DT><span class="strong">flookup_thm</span>
<DD>
<pre>
Ріб Рѕђf x v.
    (FLOOKUP f x = NONE РЄћ x РѕЅ FDOM f) РѕД
    (FLOOKUP f x = SOME v РЄћ x Рѕѕ FDOM f РѕД f ' x = v)
</pre>

<DT><span class="strong">fmap_CASES</span>
<DD>
<pre>
Ріб Рѕђf. f = FEMPTY Рѕе РѕЃg x y. f = g |+ (x,y)
</pre>

<DT><span class="strong">fmap_EQ</span>
<DD>
<pre>
Ріб Рѕђf g. FDOM f = FDOM g РѕД $' f = $' g РЄћ f = g
</pre>

<DT><span class="strong">fmap_EQ_THM</span>
<DD>
<pre>
Ріб Рѕђf g. FDOM f = FDOM g РѕД (Рѕђx. x Рѕѕ FDOM f РЄњ f ' x = g ' x) РЄћ f = g
</pre>

<DT><span class="strong">fmap_EQ_UPTO___EMPTY</span>
<DD>
<pre>
Ріб Рѕђf1 f2. fmap_EQ_UPTO f1 f2 РѕЁ РЄћ f1 = f2
</pre>

<DT><span class="strong">fmap_EQ_UPTO___EQ</span>
<DD>
<pre>
Ріб Рѕђvs f. fmap_EQ_UPTO f f vs
</pre>

<DT><span class="strong">fmap_EQ_UPTO___FUPDATE_BOTH</span>
<DD>
<pre>
Ріб Рѕђf1 f2 ks k v.
    fmap_EQ_UPTO f1 f2 ks РЄњ
    fmap_EQ_UPTO (f1 |+ (k,v)) (f2 |+ (k,v)) (ks DELETE k)
</pre>

<DT><span class="strong">fmap_EQ_UPTO___FUPDATE_BOTH___NO_DELETE</span>
<DD>
<pre>
Ріб Рѕђf1 f2 ks k v.
    fmap_EQ_UPTO f1 f2 ks РЄњ fmap_EQ_UPTO (f1 |+ (k,v)) (f2 |+ (k,v)) ks
</pre>

<DT><span class="strong">fmap_EQ_UPTO___FUPDATE_SING</span>
<DD>
<pre>
Ріб Рѕђf1 f2 ks k v.
    fmap_EQ_UPTO f1 f2 ks РЄњ fmap_EQ_UPTO (f1 |+ (k,v)) f2 (k INSERT ks)
</pre>

<DT><span class="strong">fmap_EXT</span>
<DD>
<pre>
Ріб Рѕђf g. f = g РЄћ FDOM f = FDOM g РѕД Рѕђx. x Рѕѕ FDOM f РЄњ f ' x = g ' x
</pre>

<DT><span class="strong">fmap_INDUCT</span>
<DD>
<pre>
Ріб РѕђP. P FEMPTY РѕД (Рѕђf. P f РЄњ Рѕђx y. x РѕЅ FDOM f РЄњ P (f |+ (x,y))) РЄњ Рѕђf. P f
</pre>

<DT><span class="strong">fmap_SIMPLE_INDUCT</span>
<DD>
<pre>
Ріб РѕђP. P FEMPTY РѕД (Рѕђf. P f РЄњ Рѕђx y. P (f |+ (x,y))) РЄњ Рѕђf. P f
</pre>

<DT><span class="strong">fmap_cases_NOTIN</span>
<DD>
<pre>
Ріб Рѕђfm. fm = FEMPTY Рѕе РѕЃk v fm0. k РѕЅ FDOM fm0 РѕД fm = fm0 |+ (k,v)
</pre>

<DT><span class="strong">fmap_eq_flookup</span>
<DD>
<pre>
Ріб f1 = f2 РЄћ Рѕђx. FLOOKUP f1 x = FLOOKUP f2 x
</pre>

<DT><span class="strong">fmap_rel_FEMPTY</span>
<DD>
<pre>
Ріб (fmap_rel R FEMPTY f2 РЄћ f2 = FEMPTY) РѕД (fmap_rel R f1 FEMPTY РЄћ f1 = FEMPTY)
</pre>

<DT><span class="strong">fmap_rel_FLOOKUP_imp</span>
<DD>
<pre>
Ріб fmap_rel R f1 f2 РЄњ
  (Рѕђk. FLOOKUP f1 k = NONE РЄњ FLOOKUP f2 k = NONE) РѕД
  Рѕђk v1. FLOOKUP f1 k = SOME v1 РЄњ РѕЃv2. FLOOKUP f2 k = SOME v2 РѕД R v1 v2
</pre>

<DT><span class="strong">fmap_rel_FUNION_rels</span>
<DD>
<pre>
Ріб fmap_rel R f1 f2 РѕД fmap_rel R f3 f4 РЄњ
  fmap_rel R (f1 FUNION f3) (f2 FUNION f4)
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_EQN</span>
<DD>
<pre>
Ріб fmap_rel R (f1 \\ k) (f2 \\ k) РѕД R v1 v2 РЄћ
  fmap_rel R (f1 |+ (k,v1)) (f2 |+ (k,v2))
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_I</span>
<DD>
<pre>
Ріб fmap_rel R (f1 \\ k) (f2 \\ k) РѕД R v1 v2 РЄњ
  fmap_rel R (f1 |+ (k,v1)) (f2 |+ (k,v2))
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_LIST_same</span>
<DD>
<pre>
Ріб РѕђR ls1 ls2 f1 f2.
    fmap_rel R f1 f2 РѕД MAP FST ls1 = MAP FST ls2 РѕД
    LIST_REL R (MAP SND ls1) (MAP SND ls2) РЄњ
    fmap_rel R (f1 |++ ls1) (f2 |++ ls2)
</pre>

<DT><span class="strong">fmap_rel_FUPDATE_same</span>
<DD>
<pre>
Ріб fmap_rel R f1 f2 РѕД R v1 v2 РЄњ fmap_rel R (f1 |+ (k,v1)) (f2 |+ (k,v2))
</pre>

<DT><span class="strong">fmap_rel_OPTREL_FLOOKUP</span>
<DD>
<pre>
Ріб fmap_rel R f1 f2 РЄћ Рѕђk. OPTREL R (FLOOKUP f1 k) (FLOOKUP f2 k)
</pre>

<DT><span class="strong">fmap_rel_ind</span>
<DD>
<pre>
Ріб РѕђR FR.
    FR FEMPTY FEMPTY РѕД
    (Рѕђk v1 v2 f1 f2.
       R v1 v2 РѕД FR (f1 \\ k) (f2 \\ k) РЄњ FR (f1 |+ (k,v1)) (f2 |+ (k,v2))) РЄњ
    Рѕђf1 f2. fmap_rel R f1 f2 РЄњ FR f1 f2
</pre>

<DT><span class="strong">fmap_rel_mono</span>
<DD>
<pre>
Ріб (Рѕђx y. R1 x y РЄњ R2 x y) РЄњ fmap_rel R1 f1 f2 РЄњ fmap_rel R2 f1 f2
</pre>

<DT><span class="strong">fmap_rel_refl</span>
<DD>
<pre>
Ріб (Рѕђx. R x x) РЄњ fmap_rel R x x
</pre>

<DT><span class="strong">fmap_rel_sym</span>
<DD>
<pre>
Ріб (Рѕђx y. R x y РЄњ R y x) РЄњ Рѕђx y. fmap_rel R x y РЄњ fmap_rel R y x
</pre>

<DT><span class="strong">fmap_rel_trans</span>
<DD>
<pre>
Ріб (Рѕђx y z. R x y РѕД R y z РЄњ R x z) РЄњ
  Рѕђx y z. fmap_rel R x y РѕД fmap_rel R y z РЄњ fmap_rel R x z
</pre>

<DT><span class="strong">fmap_to_list</span>
<DD>
<pre>
Ріб Рѕђm. РѕЃl. ALL_DISTINCT (MAP FST l) РѕД m = FEMPTY |++ l
</pre>

<DT><span class="strong">fmlfpR_cases</span>
<DD>
<pre>
Ріб Рѕђf fm0 a0 a1 a2 a3.
    fmlfpR f fm0 a0 a1 a2 a3 РЄћ
    a1 = FEMPTY РѕД a3 = a0 РѕД a0 = a2 Рѕе
    a1 = FEMPTY РѕД fmlfpR f fm0 a2 fm0 a2 a3 РѕД a0 РЅа a2 Рѕе
    РѕЃfm k v. a1 = fm |+ (k,v) РѕД fmlfpR f fm0 a0 (fm \\ k) (f k v a2) a3
</pre>

<DT><span class="strong">fmlfpR_ind</span>
<DD>
<pre>
Ріб Рѕђf fm0 fmlfpR'.
    (РѕђA0 A1. A0 = A1 РЄњ fmlfpR' A0 FEMPTY A1 A0) РѕД
    (РѕђA0 A1 A2. fmlfpR' A1 fm0 A1 A2 РѕД A0 РЅа A1 РЄњ fmlfpR' A0 FEMPTY A1 A2) РѕД
    (РѕђA0 A1 A2 fm k v.
       fmlfpR' A0 (fm \\ k) (f k v A1) A2 РЄњ fmlfpR' A0 (fm |+ (k,v)) A1 A2) РЄњ
    Рѕђa0 a1 a2 a3. fmlfpR f fm0 a0 a1 a2 a3 РЄњ fmlfpR' a0 a1 a2 a3
</pre>

<DT><span class="strong">fmlfpR_lastpass</span>
<DD>
<pre>
Ріб (Рѕђk v. FLOOKUP fm k = SOME v РЄњ f k v A = A) РЄњ (fmlfpR f fm A fm A B РЄћ A = B)
</pre>

<DT><span class="strong">fmlfpR_rules</span>
<DD>
<pre>
Ріб Рѕђf fm0.
    (РѕђA0 A1. A0 = A1 РЄњ fmlfpR f fm0 A0 FEMPTY A1 A0) РѕД
    (РѕђA0 A1 A2.
       fmlfpR f fm0 A1 fm0 A1 A2 РѕД A0 РЅа A1 РЄњ fmlfpR f fm0 A0 FEMPTY A1 A2) РѕД
    РѕђA0 A1 A2 fm k v.
      fmlfpR f fm0 A0 (fm \\ k) (f k v A1) A2 РЄњ
      fmlfpR f fm0 A0 (fm |+ (k,v)) A1 A2
</pre>

<DT><span class="strong">fmlfpR_strongind</span>
<DD>
<pre>
Ріб Рѕђf fm0 fmlfpR'.
    (РѕђA0 A1. A0 = A1 РЄњ fmlfpR' A0 FEMPTY A1 A0) РѕД
    (РѕђA0 A1 A2.
       fmlfpR f fm0 A1 fm0 A1 A2 РѕД fmlfpR' A1 fm0 A1 A2 РѕД A0 РЅа A1 РЄњ
       fmlfpR' A0 FEMPTY A1 A2) РѕД
    (РѕђA0 A1 A2 fm k v.
       fmlfpR f fm0 A0 (fm \\ k) (f k v A1) A2 РѕД
       fmlfpR' A0 (fm \\ k) (f k v A1) A2 РЄњ
       fmlfpR' A0 (fm |+ (k,v)) A1 A2) РЄњ
    Рѕђa0 a1 a2 a3. fmlfpR f fm0 a0 a1 a2 a3 РЄњ fmlfpR' a0 a1 a2 a3
</pre>

<DT><span class="strong">fmlfpR_total</span>
<DD>
<pre>
Ріб Рѕђfm f R P A2 A0.
    fp_soluble R P fm f РЄњ RC R A0 P РЄњ (fmlfpR f fm A0 fm A0 A2 РЄћ A2 = P)
</pre>

<DT><span class="strong">fmlfpR_total_lemma</span>
<DD>
<pre>
Ріб fp_soluble R P fm0 f РЄњ
  RC R A0 A1 РѕД RC R A1 P РѕД fm РіЉ fm0 РѕД A1 = FOLDR fр┤Й A0 kvl РѕД
  DISJOINT (LIST_TO_SET (MAP FST kvl)) (FDOM fm) РѕД
  ALL_DISTINCT (MAP FST kvl) РѕД fm0 = FOLDR (flip $|+) fm kvl РЄњ
  (fmlfpR f fm0 A0 fm A1 A2 РЄћ A2 = P)
</pre>

<DT><span class="strong">fp_soluble_FOLDR1</span>
<DD>
<pre>
Ріб fp_soluble R P fm0 f РѕД fm0 = FOLDR (flip $|+) fm kvl РѕД
  DISJOINT (LIST_TO_SET (MAP FST kvl)) (FDOM fm) РѕД ALL_DISTINCT (MAP FST kvl) РЄњ
  (Рѕђs A.
     IS_SUFFIX kvl s РѕД RC R A P РЄњ
     RC R A (FOLDR fр┤Й A s) РѕД RC R (FOLDR fр┤Й A s) P) РѕД
  Рѕђs A k v.
    IS_SUFFIX kvl s РѕД RC R A P РѕД MEM (k,v) s РѕД f k v A РЅа A РЄњ FOLDR fр┤Й A s РЅа A
</pre>

<DT><span class="strong">fupdate_list_foldl</span>
<DD>
<pre>
Ріб Рѕђm l. FOLDL (╬╗env (k,v). env |+ (k,v)) m l = m |++ l
</pre>

<DT><span class="strong">fupdate_list_foldr</span>
<DD>
<pre>
Ріб Рѕђm l. FOLDR (╬╗(k,v) env. env |+ (k,v)) m l = m |++ REVERSE l
</pre>

<DT><span class="strong">fupdate_list_map</span>
<DD>
<pre>
Ріб Рѕђl f x y.
    x Рѕѕ FDOM (FEMPTY |++ l) РЄњ
    (FEMPTY |++ MAP (╬╗(a,b). (a,f b)) l) ' x = f ((FEMPTY |++ l) ' x)
</pre>

<DT><span class="strong">is_fmap_cases</span>
<DD>
<pre>
Ріб Рѕђa0.
    is_fmap a0 РЄћ
    a0 = (╬╗a. INR ()) Рѕе
    РѕЃf a b. a0 = (╬╗x. if x = a then INL b else f x) РѕД is_fmap f
</pre>

<DT><span class="strong">is_fmap_ind</span>
<DD>
<pre>
Ріб Рѕђis_fmap'.
    is_fmap' (╬╗a. INR ()) РѕД
    (Рѕђf a b. is_fmap' f РЄњ is_fmap' (╬╗x. if x = a then INL b else f x)) РЄњ
    Рѕђa0. is_fmap a0 РЄњ is_fmap' a0
</pre>

<DT><span class="strong">is_fmap_rules</span>
<DD>
<pre>
Ріб is_fmap (╬╗a. INR ()) РѕД
  Рѕђf a b. is_fmap f РЄњ is_fmap (╬╗x. if x = a then INL b else f x)
</pre>

<DT><span class="strong">is_fmap_strongind</span>
<DD>
<pre>
Ріб Рѕђis_fmap'.
    is_fmap' (╬╗a. INR ()) РѕД
    (Рѕђf a b.
       is_fmap f РѕД is_fmap' f РЄњ is_fmap' (╬╗x. if x = a then INL b else f x)) РЄњ
    Рѕђa0. is_fmap a0 РЄњ is_fmap' a0
</pre>

<DT><span class="strong">o_f_DOMSUB</span>
<DD>
<pre>
Ріб g o_f fm \\ k = g o_f (fm \\ k)
</pre>

<DT><span class="strong">o_f_FAPPLY</span>
<DD>
<pre>
Ріб Рѕђf g x. x Рѕѕ FDOM g РЄњ (f o_f g) ' x = f (g ' x)
</pre>

<DT><span class="strong">o_f_FDOM</span>
<DD>
<pre>
Ріб Рѕђf g. FDOM g = FDOM (f o_f g)
</pre>

<DT><span class="strong">o_f_FEMPTY</span>
<DD>
<pre>
Ріб f o_f FEMPTY = FEMPTY
</pre>

<DT><span class="strong">o_f_FRANGE</span>
<DD>
<pre>
Ріб x Рѕѕ FRANGE g РЄњ f x Рѕѕ FRANGE (f o_f g)
</pre>

<DT><span class="strong">o_f_FUNION</span>
<DD>
<pre>
Ріб f o_f (f1 FUNION f2) = f o_f f1 FUNION f o_f f2
</pre>

<DT><span class="strong">o_f_FUPDATE</span>
<DD>
<pre>
Ріб f o_f (fm |+ (k,v)) = f o_f fm |+ (k,f v)
</pre>

<DT><span class="strong">o_f_cong</span>
<DD>
<pre>
Ріб Рѕђf fm f' fm'.
    fm = fm' РѕД (Рѕђv. v Рѕѕ FRANGE fm РЄњ f v = f' v) РЄњ f o_f fm = f' o_f fm'
</pre>

<DT><span class="strong">o_f_id</span>
<DD>
<pre>
Ріб Рѕђm. (╬╗x. x) o_f m = m
</pre>

<DT><span class="strong">o_f_o_f</span>
<DD>
<pre>
Ріб f o_f g o_f h = (f Рѕў g) o_f h
</pre>

</DL>



<hr>
</body>
</html>
