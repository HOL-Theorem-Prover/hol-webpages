<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: iterate</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "iterate"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "permutesTheory.html"><span class="strong">permutes</span></a>

<h1>Signature</h1>
<center>
    <table BORDER=4 CELLPADDING=10 CELLSPACING=1>
    
    <tr> <th> Constant <th> Type<tr><td>
    <span class="strong">FINREC</span>
    <td>
    :(Î± -> Î² -> Î²) -> Î² -> (Î± -> bool) -> Î² -> num -> bool
    <tr><td> <span class="strong">from</span> <td> :num -> num -> bool
    <tr><td>
    <span class="strong">iterate</span>
    <td>
    :(Î² -> Î² -> Î²) -> (Î± -> bool) -> (Î± -> Î²) -> Î²
    <tr><td>
    <span class="strong">lifted</span>
    <td>
    :(Î² -> Î³ -> Î±) -> Î² option -> Î³ option -> Î± option
    <tr><td> <span class="strong">monoidal</span> <td> :(Î± -> Î± -> Î±) -> bool
    <tr><td> <span class="strong">neutral</span> <td> :(Î± -> Î± -> Î±) -> Î±
    <tr><td>
    <span class="strong">nproduct</span>
    <td>
    :(Î± -> bool) -> (Î± -> num) -> num
    <tr><td>
    <span class="strong">nsum</span>
    <td>
    :(Î± -> bool) -> (Î± -> num) -> num
    <tr><td>
    <span class="strong">numseg</span>
    <td>
    :num -> num -> num -> bool
    <tr><td>
    <span class="strong">support</span>
    <td>
    :(Î² -> Î² -> Î²) -> (Î± -> Î²) -> (Î± -> bool) -> Î± -> bool
    
</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">FINREC_def</span>
<DD>
<pre>
âŠ¢ (âˆ€f b s a. FINREC f b s a 0 â‡” s = âˆ… âˆ§ a = b) âˆ§
  âˆ€f b s a n.
    FINREC f b s a (SUC n) â‡”
    âˆƒx c. x âˆˆ s âˆ§ FINREC f b (s DELETE x) c n âˆ§ a = f x c
</pre>

<DT><span class="strong">from_def</span>
<DD>
<pre>
âŠ¢ âˆ€n. from n = {m | n â‰¤ m}
</pre>

<DT><span class="strong">iterate</span>
<DD>
<pre>
âŠ¢ âˆ€op s f.
    iterate op s f =
    if FINITE (support op f s) then
      ITSET (Î»x a. op (f x) a) (support op f s) (neutral op)
    else neutral op
</pre>

<DT><span class="strong">monoidal</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡”
    (âˆ€x y. op x y = op y x) âˆ§ (âˆ€x y z. op x (op y z) = op (op x y) z) âˆ§
    âˆ€x. op (neutral op) x = x
</pre>

<DT><span class="strong">neutral</span>
<DD>
<pre>
âŠ¢ âˆ€op. neutral op = @x. âˆ€y. op x y = y âˆ§ op y x = y
</pre>

<DT><span class="strong">nproduct</span>
<DD>
<pre>
âŠ¢ nproduct = iterate $*
</pre>

<DT><span class="strong">nsum</span>
<DD>
<pre>
âŠ¢ nsum = iterate $+
</pre>

<DT><span class="strong">numseg</span>
<DD>
<pre>
âŠ¢ âˆ€m n. {m .. n} = {x | m â‰¤ x âˆ§ x â‰¤ n}
</pre>

<DT><span class="strong">support</span>
<DD>
<pre>
âŠ¢ âˆ€op f s. support op f s = {x | x âˆˆ s âˆ§ f x â‰  neutral op}
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">ADD_SUB2</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m + n âˆ’ m = n
</pre>

<DT><span class="strong">ADD_SUBR</span>
<DD>
<pre>
âŠ¢ âˆ€m n. n âˆ’ (m + n) = 0
</pre>

<DT><span class="strong">ADD_SUBR2</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m âˆ’ (m + n) = 0
</pre>

<DT><span class="strong">BIGINTER_BIGUNION</span>
<DD>
<pre>
âŠ¢ âˆ€s. BIGINTER s = ğ•Œ(:Î±) DIFF BIGUNION {ğ•Œ(:Î±) DIFF t | t âˆˆ s}
</pre>

<DT><span class="strong">BIGUNION_BIGINTER</span>
<DD>
<pre>
âŠ¢ âˆ€s. BIGUNION s = ğ•Œ(:Î±) DIFF BIGINTER {ğ•Œ(:Î±) DIFF t | t âˆˆ s}
</pre>

<DT><span class="strong">BOUNDS_LINEAR</span>
<DD>
<pre>
âŠ¢ âˆ€A B C. (âˆ€n. A * n â‰¤ B * n + C) â‡” A â‰¤ B
</pre>

<DT><span class="strong">BOUNDS_LINEAR_0</span>
<DD>
<pre>
âŠ¢ âˆ€A B. (âˆ€n. A * n â‰¤ B) â‡” A = 0
</pre>

<DT><span class="strong">CARD_BIGUNION</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s âˆ§ EVERY_FINITE s âˆ§ (âˆ€t u. t âˆˆ s âˆ§ u âˆˆ s âˆ§ t â‰  u â‡’ t âˆ© u = âˆ…) â‡’
      CARD (BIGUNION s) = nsum s CARD
</pre>

<DT><span class="strong">CARD_EQ_NSUM</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s â‡’ CARD s = nsum s (Î»x. 1)
</pre>

<DT><span class="strong">CARD_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€m n. CARD {m .. n} = n + 1 âˆ’ m
</pre>

<DT><span class="strong">CARD_NUMSEG_1</span>
<DD>
<pre>
âŠ¢ âˆ€n. CARD {1 .. n} = n
</pre>

<DT><span class="strong">CARD_NUMSEG_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€m d. CARD {m .. m + d} = d + 1
</pre>

<DT><span class="strong">CARD_UNION_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€s t u. FINITE u âˆ§ s âˆ© t = âˆ… âˆ§ s âˆª t = u â‡’ CARD s + CARD t = CARD u
</pre>

<DT><span class="strong">CHOOSE_SUBSET</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s â‡’ âˆ€n. n â‰¤ CARD s â‡’ âˆƒt. t âŠ† s âˆ§ t HAS_SIZE n
</pre>

<DT><span class="strong">CHOOSE_SUBSET_STRONG</span>
<DD>
<pre>
âŠ¢ âˆ€n s. (FINITE s â‡’ n â‰¤ CARD s) â‡’ âˆƒt. t âŠ† s âˆ§ t HAS_SIZE n
</pre>

<DT><span class="strong">COUNTABLE_FROM</span>
<DD>
<pre>
âŠ¢ âˆ€n. countable (from n)
</pre>

<DT><span class="strong">COUNT_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€n. 0 < n â‡’ count n = {0 .. n âˆ’ 1}
</pre>

<DT><span class="strong">DIFF_BIGINTER2</span>
<DD>
<pre>
âŠ¢ âˆ€u s. u DIFF BIGINTER s = BIGUNION {u DIFF t | t âˆˆ s}
</pre>

<DT><span class="strong">DISJOINT_COUNT_FROM</span>
<DD>
<pre>
âŠ¢ âˆ€n. DISJOINT (count n) (from n)
</pre>

<DT><span class="strong">DISJOINT_FROM_COUNT</span>
<DD>
<pre>
âŠ¢ âˆ€n. DISJOINT (from n) (count n)
</pre>

<DT><span class="strong">DISJOINT_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€m n p q. DISJOINT {m .. n} {p .. q} â‡” n < p âˆ¨ q < m âˆ¨ n < m âˆ¨ q < p
</pre>

<DT><span class="strong">EMPTY_BIGUNION</span>
<DD>
<pre>
âŠ¢ âˆ€s. BIGUNION s = âˆ… â‡” âˆ€t. t âˆˆ s â‡’ t = âˆ…
</pre>

<DT><span class="strong">EXISTS_FINITE_SUBSET_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€P f s.
    (âˆƒt. FINITE t âˆ§ t âŠ† IMAGE f s âˆ§ P t) â‡”
    âˆƒt. FINITE t âˆ§ t âŠ† s âˆ§ P (IMAGE f t)
</pre>

<DT><span class="strong">FINITE_INDEX_NUMBERS</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s â‡”
      âˆƒk f.
        (âˆ€i j. i âˆˆ k âˆ§ j âˆˆ k âˆ§ f i = f j â‡’ i = j) âˆ§ FINITE k âˆ§ s = IMAGE f k
</pre>

<DT><span class="strong">FINITE_INDEX_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s â‡”
      âˆƒf. (âˆ€i j. i âˆˆ {1 .. CARD s} âˆ§ j âˆˆ {1 .. CARD s} âˆ§ f i = f j â‡’ i = j) âˆ§
          s = IMAGE f {1 .. CARD s}
</pre>

<DT><span class="strong">FINITE_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€m n. FINITE {m .. n}
</pre>

<DT><span class="strong">FINITE_NUMSEG_LE</span>
<DD>
<pre>
âŠ¢ âˆ€n. FINITE {m | m â‰¤ n}
</pre>

<DT><span class="strong">FINITE_NUMSEG_LT</span>
<DD>
<pre>
âŠ¢ âˆ€n. FINITE {m | m < n}
</pre>

<DT><span class="strong">FINITE_POWERSET</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s â‡’ FINITE {t | t âŠ† s}
</pre>

<DT><span class="strong">FINITE_RECURSION</span>
<DD>
<pre>
âŠ¢ âˆ€f b.
    (âˆ€x y s. x â‰  y â‡’ f x (f y s) = f y (f x s)) â‡’
    ITSET f âˆ… b = b âˆ§
    âˆ€x s.
      FINITE s â‡’
      ITSET f (x INSERT s) b =
      if x âˆˆ s then ITSET f s b else f x (ITSET f s b)
</pre>

<DT><span class="strong">FINITE_RESTRICT</span>
<DD>
<pre>
âŠ¢ âˆ€s P. FINITE s â‡’ FINITE {x | x âˆˆ s âˆ§ P x}
</pre>

<DT><span class="strong">FINITE_SUBSET_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€f s t. FINITE t âˆ§ t âŠ† IMAGE f s â‡” âˆƒs'. FINITE s' âˆ§ s' âŠ† s âˆ§ t = IMAGE f s'
</pre>

<DT><span class="strong">FINITE_SUPPORT</span>
<DD>
<pre>
âŠ¢ âˆ€op f s. FINITE s â‡’ FINITE (support op f s)
</pre>

<DT><span class="strong">FINITE_SUPPORT_DELTA</span>
<DD>
<pre>
âŠ¢ âˆ€op f a. FINITE (support op (Î»x. if x = a then f x else neutral op) s)
</pre>

<DT><span class="strong">FINREC_1_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€f b s a. FINREC f b s a (SUC 0) â‡” âˆƒx. s = {x} âˆ§ a = f x b
</pre>

<DT><span class="strong">FINREC_EXISTS_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€f b s. FINITE s â‡’ âˆƒa n. FINREC f b s a n
</pre>

<DT><span class="strong">FINREC_FUN</span>
<DD>
<pre>
âŠ¢ âˆ€f b.
    (âˆ€x y s. x â‰  y â‡’ f x (f y s) = f y (f x s)) â‡’
    âˆƒg. g âˆ… = b âˆ§ âˆ€s x. FINITE s âˆ§ x âˆˆ s â‡’ g s = f x (g (s DELETE x))
</pre>

<DT><span class="strong">FINREC_FUN_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€P R.
    (âˆ€s. P s â‡’ âˆƒa n. R s a n) âˆ§
    (âˆ€n1 n2 s a1 a2. R s a1 n1 âˆ§ R s a2 n2 â‡’ a1 = a2 âˆ§ n1 = n2) â‡’
    âˆƒf. âˆ€s a. P s â‡’ ((âˆƒn. R s a n) â‡” f s = a)
</pre>

<DT><span class="strong">FINREC_SUC_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€f b.
    (âˆ€x y s. x â‰  y â‡’ f x (f y s) = f y (f x s)) â‡’
    âˆ€n s z.
      FINREC f b s z (SUC n) â‡’
      âˆ€x. x âˆˆ s â‡’ âˆƒw. FINREC f b (s DELETE x) w n âˆ§ z = f x w
</pre>

<DT><span class="strong">FINREC_UNIQUE_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€f b.
    (âˆ€x y s. x â‰  y â‡’ f x (f y s) = f y (f x s)) â‡’
    âˆ€n1 n2 s a1 a2.
      FINREC f b s a1 n1 âˆ§ FINREC f b s a2 n2 â‡’ a1 = a2 âˆ§ n1 = n2
</pre>

<DT><span class="strong">FINREC_compute</span>
<DD>
<pre>
âŠ¢ (âˆ€f b s a. FINREC f b s a 0 â‡” s = âˆ… âˆ§ a = b) âˆ§
  (âˆ€f b s a n.
     FINREC f b s a <..num comp'n..> â‡”
     âˆƒx c.
       x âˆˆ s âˆ§ FINREC f b (s DELETE x) c (<..num comp'n..> âˆ’ 1) âˆ§ a = f x c) âˆ§
  âˆ€f b s a n.
    FINREC f b s a <..num comp'n..> â‡”
    âˆƒx c. x âˆˆ s âˆ§ FINREC f b (s DELETE x) c <..num comp'n..> âˆ§ a = f x c
</pre>

<DT><span class="strong">FORALL_FINITE_SUBSET_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€P f s.
    (âˆ€t. FINITE t âˆ§ t âŠ† IMAGE f s â‡’ P t) â‡”
    âˆ€t. FINITE t âˆ§ t âŠ† s â‡’ P (IMAGE f t)
</pre>

<DT><span class="strong">FROM_0</span>
<DD>
<pre>
âŠ¢ from 0 = ğ•Œ(:num)
</pre>

<DT><span class="strong">FROM_INTER_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€k n. from k âˆ© {0 .. n} = {k .. n}
</pre>

<DT><span class="strong">FROM_INTER_NUMSEG_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€k m n. from k âˆ© {m .. n} = if m < k then {k .. n} else {m .. n}
</pre>

<DT><span class="strong">FROM_INTER_NUMSEG_MAX</span>
<DD>
<pre>
âŠ¢ âˆ€m n p. from p âˆ© {m .. n} = {MAX p m .. n}
</pre>

<DT><span class="strong">FROM_NOT_EMPTY</span>
<DD>
<pre>
âŠ¢ âˆ€n. from n â‰  âˆ…
</pre>

<DT><span class="strong">FUN_IN_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€f s x. x âˆˆ s â‡’ f x âˆˆ IMAGE f s
</pre>

<DT><span class="strong">HAS_SIZE_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€m n. {m .. n} HAS_SIZE n + 1 âˆ’ m
</pre>

<DT><span class="strong">HAS_SIZE_NUMSEG_1</span>
<DD>
<pre>
âŠ¢ âˆ€n. {1 .. n} HAS_SIZE n
</pre>

<DT><span class="strong">HAS_SIZE_NUMSEG_LE</span>
<DD>
<pre>
âŠ¢ âˆ€n. {m | m â‰¤ n} HAS_SIZE n + 1
</pre>

<DT><span class="strong">HAS_SIZE_NUMSEG_LT</span>
<DD>
<pre>
âŠ¢ âˆ€n. {m | m < n} HAS_SIZE n
</pre>

<DT><span class="strong">INFINITE_FROM</span>
<DD>
<pre>
âŠ¢ âˆ€n. INFINITE (from n)
</pre>

<DT><span class="strong">IN_FROM</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m âˆˆ from n â‡” n â‰¤ m
</pre>

<DT><span class="strong">IN_NUMSEG</span>
<DD>
<pre>
âŠ¢ x âˆˆ {m .. n} â‡” m â‰¤ x âˆ§ x â‰¤ n
</pre>

<DT><span class="strong">IN_NUMSEG_0</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m âˆˆ {0 .. n} â‡” m â‰¤ n
</pre>

<DT><span class="strong">IN_SUPPORT</span>
<DD>
<pre>
âŠ¢ âˆ€op f x s. x âˆˆ support op f s â‡” x âˆˆ s âˆ§ f x â‰  neutral op
</pre>

<DT><span class="strong">ITERATE_AND</span>
<DD>
<pre>
âŠ¢ âˆ€p s. FINITE s â‡’ (iterate $/\ s p â‡” âˆ€x. x âˆˆ s â‡’ p x)
</pre>

<DT><span class="strong">ITERATE_BIJECTION</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f p s.
      (âˆ€x. x âˆˆ s â‡’ p x âˆˆ s) âˆ§ (âˆ€y. y âˆˆ s â‡’ âˆƒ!x. x âˆˆ s âˆ§ p x = y) â‡’
      iterate op s f = iterate op s (f âˆ˜ p)
</pre>

<DT><span class="strong">ITERATE_CASES</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€s P f g.
      FINITE s â‡’
      iterate op s (Î»x. if P x then f x else g x) =
      op (iterate op {x | x âˆˆ s âˆ§ P x} f) (iterate op {x | x âˆˆ s âˆ§ Â¬P x} g)
</pre>

<DT><span class="strong">ITERATE_CLAUSES</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    (âˆ€f. iterate op âˆ… f = neutral op) âˆ§
    âˆ€f x s.
      FINITE s â‡’
      iterate op (x INSERT s) f =
      if x âˆˆ s then iterate op s f else op (f x) (iterate op s f)
</pre>

<DT><span class="strong">ITERATE_CLAUSES_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    (âˆ€f. iterate op âˆ… f = neutral op) âˆ§
    âˆ€f x s.
      monoidal op âˆ§ FINITE (support op f s) â‡’
      iterate op (x INSERT s) f =
      if x âˆˆ s then iterate op s f else op (f x) (iterate op s f)
</pre>

<DT><span class="strong">ITERATE_CLAUSES_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    (âˆ€m. iterate op {m .. 0} f = if m = 0 then f 0 else neutral op) âˆ§
    âˆ€m n.
      iterate op {m .. SUC n} f =
      if m â‰¤ SUC n then op (iterate op {m .. n} f) (f (SUC n))
      else iterate op {m .. n} f
</pre>

<DT><span class="strong">ITERATE_CLOSED</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€P. P (neutral op) âˆ§ (âˆ€x y. P x âˆ§ P y â‡’ P (op x y)) â‡’
        âˆ€f s. (âˆ€x. x âˆˆ s âˆ§ f x â‰  neutral op â‡’ P (f x)) â‡’ P (iterate op s f)
</pre>

<DT><span class="strong">ITERATE_DELETE</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s a.
      FINITE s âˆ§ a âˆˆ s â‡’ op (f a) (iterate op (s DELETE a) f) = iterate op s f
</pre>

<DT><span class="strong">ITERATE_DELTA</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f a s.
      iterate op s (Î»x. if x = a then f x else neutral op) =
      if a âˆˆ s then f a else neutral op
</pre>

<DT><span class="strong">ITERATE_DIFF</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s t.
      FINITE s âˆ§ t âŠ† s â‡’
      op (iterate op (s DIFF t) f) (iterate op t f) = iterate op s f
</pre>

<DT><span class="strong">ITERATE_DIFF_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s t.
      FINITE (support op f s) âˆ§ support op f t âŠ† support op f s â‡’
      op (iterate op (s DIFF t) f) (iterate op t f) = iterate op s f
</pre>

<DT><span class="strong">ITERATE_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f g s. (âˆ€x. x âˆˆ s â‡’ f x = g x) â‡’ iterate op s f = iterate op s g
</pre>

<DT><span class="strong">ITERATE_EQ_GENERAL</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€s t f g h.
      (âˆ€y. y âˆˆ t â‡’ âˆƒ!x. x âˆˆ s âˆ§ h x = y) âˆ§
      (âˆ€x. x âˆˆ s â‡’ h x âˆˆ t âˆ§ g (h x) = f x) â‡’
      iterate op s f = iterate op t g
</pre>

<DT><span class="strong">ITERATE_EQ_GENERAL_INVERSES</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€s t f g h k.
      (âˆ€y. y âˆˆ t â‡’ k y âˆˆ s âˆ§ h (k y) = y) âˆ§
      (âˆ€x. x âˆˆ s â‡’ h x âˆˆ t âˆ§ k (h x) = x âˆ§ g (h x) = f x) â‡’
      iterate op s f = iterate op t g
</pre>

<DT><span class="strong">ITERATE_EQ_NEUTRAL</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s. (âˆ€x. x âˆˆ s â‡’ f x = neutral op) â‡’ iterate op s f = neutral op
</pre>

<DT><span class="strong">ITERATE_EXPAND_CASES</span>
<DD>
<pre>
âŠ¢ âˆ€op f s.
    iterate op s f =
    if FINITE (support op f s) then iterate op (support op f s) f
    else neutral op
</pre>

<DT><span class="strong">ITERATE_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f g s.
      (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ f x = f y â‡’ x = y) â‡’
      iterate op (IMAGE f s) g = iterate op s (g âˆ˜ f)
</pre>

<DT><span class="strong">ITERATE_IMAGE_NONZERO</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€g f s.
      FINITE s âˆ§
      (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ x â‰  y âˆ§ f x = f y â‡’ g (f x) = neutral op) â‡’
      iterate op (IMAGE f s) g = iterate op s (g âˆ˜ f)
</pre>

<DT><span class="strong">ITERATE_INCL_EXCL</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€s t f.
      FINITE s âˆ§ FINITE t â‡’
      op (iterate op s f) (iterate op t f) =
      op (iterate op (s âˆª t) f) (iterate op (s âˆ© t) f)
</pre>

<DT><span class="strong">ITERATE_INJECTION</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f p s.
      FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ p x âˆˆ s) âˆ§
      (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ p x = p y â‡’ x = y) â‡’
      iterate op s (f âˆ˜ p) = iterate op s f
</pre>

<DT><span class="strong">ITERATE_ITERATE_PRODUCT</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€s t x.
      FINITE s âˆ§ (âˆ€i. i âˆˆ s â‡’ FINITE (t i)) â‡’
      iterate op s (Î»i. iterate op (t i) (x i)) =
      iterate op {(i,j) | i âˆˆ s âˆ§ j âˆˆ t i} (Î»(i,j). x i j)
</pre>

<DT><span class="strong">ITERATE_OP</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f g s.
      FINITE s â‡’
      iterate op s (Î»x. op (f x) (g x)) = op (iterate op s f) (iterate op s g)
</pre>

<DT><span class="strong">ITERATE_OP_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f g s.
      FINITE (support op f s) âˆ§ FINITE (support op g s) â‡’
      iterate op s (Î»x. op (f x) (g x)) = op (iterate op s f) (iterate op s g)
</pre>

<DT><span class="strong">ITERATE_PAIR</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f m n.
      iterate op {2 * m .. 2 * n + 1} f =
      iterate op {m .. n} (Î»i. op (f (2 * i)) (f (2 * i + 1)))
</pre>

<DT><span class="strong">ITERATE_PERMUTE</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’ âˆ€f p s. p permutes s â‡’ iterate op s f = iterate op s (f âˆ˜ p)
</pre>

<DT><span class="strong">ITERATE_PERMUTES</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’ âˆ€f p s. p PERMUTES s â‡’ iterate op s f = iterate op s (f âˆ˜ p)
</pre>

<DT><span class="strong">ITERATE_RELATED</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€R. R (neutral op) (neutral op) âˆ§
        (âˆ€x1 y1 x2 y2. R x1 x2 âˆ§ R y1 y2 â‡’ R (op x1 y1) (op x2 y2)) â‡’
        âˆ€f g s.
          FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ R (f x) (g x)) â‡’
          R (iterate op s f) (iterate op s g)
</pre>

<DT><span class="strong">ITERATE_SING</span>
<DD>
<pre>
âŠ¢ âˆ€op. monoidal op â‡’ âˆ€f x. iterate op {x} f = f x
</pre>

<DT><span class="strong">ITERATE_SOME</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s.
      FINITE s â‡’
      iterate (lifted op) s (Î»x. SOME (f x)) = SOME (iterate op s f)
</pre>

<DT><span class="strong">ITERATE_SUPERSET</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f u v.
      u âŠ† v âˆ§ (âˆ€x. x âˆˆ v âˆ§ x âˆ‰ u â‡’ f x = neutral op) â‡’
      iterate op v f = iterate op u f
</pre>

<DT><span class="strong">ITERATE_SUPPORT</span>
<DD>
<pre>
âŠ¢ âˆ€op f s. iterate op (support op f s) f = iterate op s f
</pre>

<DT><span class="strong">ITERATE_UNION</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s t.
      FINITE s âˆ§ FINITE t âˆ§ DISJOINT s t â‡’
      iterate op (s âˆª t) f = op (iterate op s f) (iterate op t f)
</pre>

<DT><span class="strong">ITERATE_UNION_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s t.
      FINITE (support op f s) âˆ§ FINITE (support op f t) âˆ§
      DISJOINT (support op f s) (support op f t) â‡’
      iterate op (s âˆª t) f = op (iterate op s f) (iterate op t f)
</pre>

<DT><span class="strong">ITERATE_UNION_NONZERO</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    âˆ€f s t.
      FINITE s âˆ§ FINITE t âˆ§ (âˆ€x. x âˆˆ s âˆ© t â‡’ f x = neutral op) â‡’
      iterate op (s âˆª t) f = op (iterate op s f) (iterate op t f)
</pre>

<DT><span class="strong">ITSET_alt</span>
<DD>
<pre>
âŠ¢ âˆ€f s b.
    (âˆ€x y z. f x (f y z) = f y (f x z)) âˆ§ FINITE s â‡’
    ITSET f s b =
    (@g. g âˆ… = b âˆ§
         âˆ€x s. FINITE s â‡’ g (x INSERT s) = if x âˆˆ s then g s else f x (g s)) s
</pre>

<DT><span class="strong">LAMBDA_PAIR</span>
<DD>
<pre>
âŠ¢ (Î»(x,y). P x y) = (Î»p. P (FST p) (SND p))
</pre>

<DT><span class="strong">LE_ADD</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m â‰¤ m + n
</pre>

<DT><span class="strong">LE_ADDR</span>
<DD>
<pre>
âŠ¢ âˆ€m n. n â‰¤ m + n
</pre>

<DT><span class="strong">MOD_NSUM_MOD</span>
<DD>
<pre>
âŠ¢ âˆ€f n s. FINITE s âˆ§ n â‰  0 â‡’ nsum s f MOD n = nsum s (Î»i. f i MOD n) MOD n
</pre>

<DT><span class="strong">MOD_NSUM_MOD_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f a b n.
    n â‰  0 â‡’ nsum {a .. b} f MOD n = nsum {a .. b} (Î»i. f i MOD n) MOD n
</pre>

<DT><span class="strong">MONOIDAL_AC</span>
<DD>
<pre>
âŠ¢ âˆ€op.
    monoidal op â‡’
    (âˆ€a. op (neutral op) a = a) âˆ§ (âˆ€a. op a (neutral op) = a) âˆ§
    (âˆ€a b. op a b = op b a) âˆ§ (âˆ€a b c. op (op a b) c = op a (op b c)) âˆ§
    âˆ€a b c. op a (op b c) = op b (op a c)
</pre>

<DT><span class="strong">MONOIDAL_ADD</span>
<DD>
<pre>
âŠ¢ monoidal $+
</pre>

<DT><span class="strong">MONOIDAL_AND</span>
<DD>
<pre>
âŠ¢ monoidal $/\
</pre>

<DT><span class="strong">MONOIDAL_LIFTED</span>
<DD>
<pre>
âŠ¢ âˆ€op. monoidal op â‡’ monoidal (lifted op)
</pre>

<DT><span class="strong">MONOIDAL_MUL</span>
<DD>
<pre>
âŠ¢ monoidal $*
</pre>

<DT><span class="strong">NEUTRAL_ADD</span>
<DD>
<pre>
âŠ¢ neutral $+ = 0
</pre>

<DT><span class="strong">NEUTRAL_AND</span>
<DD>
<pre>
âŠ¢ neutral $/\ â‡” T
</pre>

<DT><span class="strong">NEUTRAL_LIFTED</span>
<DD>
<pre>
âŠ¢ âˆ€op. monoidal op â‡’ neutral (lifted op) = SOME (neutral op)
</pre>

<DT><span class="strong">NEUTRAL_MUL</span>
<DD>
<pre>
âŠ¢ neutral $* = 1
</pre>

<DT><span class="strong">NOT_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€a b. a â‰  b â‡” a â‰  b
</pre>

<DT><span class="strong">NPRODUCT_ADD_SPLIT</span>
<DD>
<pre>
âŠ¢ âˆ€f m n p.
    m â‰¤ n + 1 â‡’
    nproduct {m .. n + p} f =
    nproduct {m .. n} f * nproduct {n + 1 .. n + p} f
</pre>

<DT><span class="strong">NPRODUCT_CLAUSES</span>
<DD>
<pre>
âŠ¢ (âˆ€f. nproduct âˆ… f = 1) âˆ§
  âˆ€x f s.
    FINITE s â‡’
    nproduct (x INSERT s) f =
    if x âˆˆ s then nproduct s f else f x * nproduct s f
</pre>

<DT><span class="strong">NPRODUCT_CLAUSES_LEFT</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. m â‰¤ n â‡’ nproduct {m .. n} f = f m * nproduct {m + 1 .. n} f
</pre>

<DT><span class="strong">NPRODUCT_CLAUSES_NUMSEG</span>
<DD>
<pre>
âŠ¢ (âˆ€m. nproduct {m .. 0} f = if m = 0 then f 0 else 1) âˆ§
  âˆ€m n.
    nproduct {m .. SUC n} f =
    if m â‰¤ SUC n then nproduct {m .. n} f * f (SUC n) else nproduct {m .. n} f
</pre>

<DT><span class="strong">NPRODUCT_CLAUSES_RIGHT</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. 0 < n âˆ§ m â‰¤ n â‡’ nproduct {m .. n} f = nproduct {m .. n âˆ’ 1} f * f n
</pre>

<DT><span class="strong">NPRODUCT_CLOSED</span>
<DD>
<pre>
âŠ¢ âˆ€P f s.
    P 1 âˆ§ (âˆ€x y. P x âˆ§ P y â‡’ P (x * y)) âˆ§ (âˆ€a. a âˆˆ s â‡’ P (f a)) â‡’
    P (nproduct s f)
</pre>

<DT><span class="strong">NPRODUCT_CONG</span>
<DD>
<pre>
âŠ¢ (âˆ€f g s. (âˆ€x. x âˆˆ s â‡’ f x = g x) â‡’ nproduct s (Î»i. f i) = nproduct s g) âˆ§
  (âˆ€f g a b.
     (âˆ€i. a â‰¤ i âˆ§ i â‰¤ b â‡’ f i = g i) â‡’
     nproduct {a .. b} (Î»i. f i) = nproduct {a .. b} g) âˆ§
  âˆ€f g p.
    (âˆ€x. p x â‡’ f x = g x) â‡’
    nproduct {y | p y} (Î»i. f i) = nproduct {y | p y} g
</pre>

<DT><span class="strong">NPRODUCT_CONST</span>
<DD>
<pre>
âŠ¢ âˆ€c s. FINITE s â‡’ nproduct s (Î»x. c) = c ** CARD s
</pre>

<DT><span class="strong">NPRODUCT_CONST_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€c m n. nproduct {m .. n} (Î»x. c) = c ** (n + 1 âˆ’ m)
</pre>

<DT><span class="strong">NPRODUCT_CONST_NUMSEG_1</span>
<DD>
<pre>
âŠ¢ âˆ€c n. nproduct {1 .. n} (Î»x. c) = c ** n
</pre>

<DT><span class="strong">NPRODUCT_DELETE</span>
<DD>
<pre>
âŠ¢ âˆ€f s a. FINITE s âˆ§ a âˆˆ s â‡’ f a * nproduct (s DELETE a) f = nproduct s f
</pre>

<DT><span class="strong">NPRODUCT_DELTA</span>
<DD>
<pre>
âŠ¢ âˆ€s a. nproduct s (Î»x. if x = a then b else 1) = if a âˆˆ s then b else 1
</pre>

<DT><span class="strong">NPRODUCT_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€f g s. (âˆ€x. x âˆˆ s â‡’ f x = g x) â‡’ nproduct s f = nproduct s g
</pre>

<DT><span class="strong">NPRODUCT_EQ_0</span>
<DD>
<pre>
âŠ¢ âˆ€f s. FINITE s â‡’ (nproduct s f = 0 â‡” âˆƒx. x âˆˆ s âˆ§ f x = 0)
</pre>

<DT><span class="strong">NPRODUCT_EQ_0_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. nproduct {m .. n} f = 0 â‡” âˆƒx. m â‰¤ x âˆ§ x â‰¤ n âˆ§ f x = 0
</pre>

<DT><span class="strong">NPRODUCT_EQ_1</span>
<DD>
<pre>
âŠ¢ âˆ€f s. (âˆ€x. x âˆˆ s â‡’ f x = 1) â‡’ nproduct s f = 1
</pre>

<DT><span class="strong">NPRODUCT_EQ_1_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. (âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ f i = 1) â‡’ nproduct {m .. n} f = 1
</pre>

<DT><span class="strong">NPRODUCT_EQ_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f g m n.
    (âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ f i = g i) â‡’
    nproduct {m .. n} f = nproduct {m .. n} g
</pre>

<DT><span class="strong">NPRODUCT_FACT</span>
<DD>
<pre>
âŠ¢ âˆ€n. nproduct {1 .. n} (Î»m. m) = FACT n
</pre>

<DT><span class="strong">NPRODUCT_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ f x = f y â‡’ x = y) â‡’
    nproduct (IMAGE f s) g = nproduct s (g âˆ˜ f)
</pre>

<DT><span class="strong">NPRODUCT_LE</span>
<DD>
<pre>
âŠ¢ âˆ€f s.
    FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ 0 â‰¤ f x âˆ§ f x â‰¤ g x) â‡’ nproduct s f â‰¤ nproduct s g
</pre>

<DT><span class="strong">NPRODUCT_LE_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n.
    (âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ 0 â‰¤ f i âˆ§ f i â‰¤ g i) â‡’
    nproduct {m .. n} f â‰¤ nproduct {m .. n} g
</pre>

<DT><span class="strong">NPRODUCT_MUL</span>
<DD>
<pre>
âŠ¢ âˆ€f g s. FINITE s â‡’ nproduct s (Î»x. f x * g x) = nproduct s f * nproduct s g
</pre>

<DT><span class="strong">NPRODUCT_MUL_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    FINITE {x | x âˆˆ s âˆ§ f x â‰  1} âˆ§ FINITE {x | x âˆˆ s âˆ§ g x â‰  1} â‡’
    nproduct s (Î»x. f x * g x) = nproduct s f * nproduct s g
</pre>

<DT><span class="strong">NPRODUCT_MUL_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f g m n.
    nproduct {m .. n} (Î»x. f x * g x) =
    nproduct {m .. n} f * nproduct {m .. n} g
</pre>

<DT><span class="strong">NPRODUCT_OFFSET</span>
<DD>
<pre>
âŠ¢ âˆ€f m p. nproduct {m + p .. n + p} f = nproduct {m .. n} (Î»i. f (i + p))
</pre>

<DT><span class="strong">NPRODUCT_ONE</span>
<DD>
<pre>
âŠ¢ âˆ€s. nproduct s (Î»n. 1) = 1
</pre>

<DT><span class="strong">NPRODUCT_PAIR</span>
<DD>
<pre>
âŠ¢ âˆ€f m n.
    nproduct {2 * m .. 2 * n + 1} f =
    nproduct {m .. n} (Î»i. f (2 * i) * f (2 * i + 1))
</pre>

<DT><span class="strong">NPRODUCT_POS_LT</span>
<DD>
<pre>
âŠ¢ âˆ€f s. FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ 0 < f x) â‡’ 0 < nproduct s f
</pre>

<DT><span class="strong">NPRODUCT_POS_LT_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. (âˆ€x. m â‰¤ x âˆ§ x â‰¤ n â‡’ 0 < f x) â‡’ 0 < nproduct {m .. n} f
</pre>

<DT><span class="strong">NPRODUCT_SING</span>
<DD>
<pre>
âŠ¢ âˆ€f x. nproduct {x} f = f x
</pre>

<DT><span class="strong">NPRODUCT_SING_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f n. nproduct {n .. n} f = f n
</pre>

<DT><span class="strong">NPRODUCT_SUPERSET</span>
<DD>
<pre>
âŠ¢ âˆ€f u v. u âŠ† v âˆ§ (âˆ€x. x âˆˆ v âˆ§ x âˆ‰ u â‡’ f x = 1) â‡’ nproduct v f = nproduct u f
</pre>

<DT><span class="strong">NPRODUCT_SUPPORT</span>
<DD>
<pre>
âŠ¢ âˆ€f s. nproduct (support $* f s) f = nproduct s f
</pre>

<DT><span class="strong">NPRODUCT_UNION</span>
<DD>
<pre>
âŠ¢ âˆ€f s t.
    FINITE s âˆ§ FINITE t âˆ§ DISJOINT s t â‡’
    nproduct (s âˆª t) f = nproduct s f * nproduct t f
</pre>

<DT><span class="strong">NSUM_0</span>
<DD>
<pre>
âŠ¢ âˆ€s. nsum s (Î»n. 0) = 0
</pre>

<DT><span class="strong">NSUM_ADD</span>
<DD>
<pre>
âŠ¢ âˆ€f g s. FINITE s â‡’ nsum s (Î»x. f x + g x) = nsum s f + nsum s g
</pre>

<DT><span class="strong">NSUM_ADD_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    FINITE {x | x âˆˆ s âˆ§ f x â‰  0} âˆ§ FINITE {x | x âˆˆ s âˆ§ g x â‰  0} â‡’
    nsum s (Î»x. f x + g x) = nsum s f + nsum s g
</pre>

<DT><span class="strong">NSUM_ADD_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f g m n. nsum {m .. n} (Î»i. f i + g i) = nsum {m .. n} f + nsum {m .. n} g
</pre>

<DT><span class="strong">NSUM_ADD_SPLIT</span>
<DD>
<pre>
âŠ¢ âˆ€f m n p.
    m â‰¤ n + 1 â‡’
    nsum {m .. n + p} f = nsum {m .. n} f + nsum {n + 1 .. n + p} f
</pre>

<DT><span class="strong">NSUM_BIGUNION_NONZERO</span>
<DD>
<pre>
âŠ¢ âˆ€f s.
    FINITE s âˆ§ EVERY_FINITE s âˆ§
    (âˆ€t1 t2 x. t1 âˆˆ s âˆ§ t2 âˆˆ s âˆ§ t1 â‰  t2 âˆ§ x âˆˆ t1 âˆ§ x âˆˆ t2 â‡’ f x = 0) â‡’
    nsum (BIGUNION s) f = nsum s (Î»t. nsum t f)
</pre>

<DT><span class="strong">NSUM_BIJECTION</span>
<DD>
<pre>
âŠ¢ âˆ€f p s.
    (âˆ€x. x âˆˆ s â‡’ p x âˆˆ s) âˆ§ (âˆ€y. y âˆˆ s â‡’ âˆƒ!x. x âˆˆ s âˆ§ p x = y) â‡’
    nsum s f = nsum s (f âˆ˜ p)
</pre>

<DT><span class="strong">NSUM_BOUND</span>
<DD>
<pre>
âŠ¢ âˆ€s f b. FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ f x â‰¤ b) â‡’ nsum s f â‰¤ CARD s * b
</pre>

<DT><span class="strong">NSUM_BOUND_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€s f b. FINITE s âˆ§ s â‰  âˆ… âˆ§ (âˆ€x. x âˆˆ s â‡’ f x â‰¤ b DIV CARD s) â‡’ nsum s f â‰¤ b
</pre>

<DT><span class="strong">NSUM_BOUND_LT</span>
<DD>
<pre>
âŠ¢ âˆ€s f b.
    FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ f x â‰¤ b) âˆ§ (âˆƒx. x âˆˆ s âˆ§ f x < b) â‡’
    nsum s f < CARD s * b
</pre>

<DT><span class="strong">NSUM_BOUND_LT_ALL</span>
<DD>
<pre>
âŠ¢ âˆ€s f b. FINITE s âˆ§ s â‰  âˆ… âˆ§ (âˆ€x. x âˆˆ s â‡’ f x < b) â‡’ nsum s f < CARD s * b
</pre>

<DT><span class="strong">NSUM_BOUND_LT_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€s f b. FINITE s âˆ§ s â‰  âˆ… âˆ§ (âˆ€x. x âˆˆ s â‡’ f x < b DIV CARD s) â‡’ nsum s f < b
</pre>

<DT><span class="strong">NSUM_CASES</span>
<DD>
<pre>
âŠ¢ âˆ€s P f g.
    FINITE s â‡’
    nsum s (Î»x. if P x then f x else g x) =
    nsum {x | x âˆˆ s âˆ§ P x} f + nsum {x | x âˆˆ s âˆ§ Â¬P x} g
</pre>

<DT><span class="strong">NSUM_CLAUSES</span>
<DD>
<pre>
âŠ¢ (âˆ€f. nsum âˆ… f = 0) âˆ§
  âˆ€x f s.
    FINITE s â‡’
    nsum (x INSERT s) f = if x âˆˆ s then nsum s f else f x + nsum s f
</pre>

<DT><span class="strong">NSUM_CLAUSES_LEFT</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. m â‰¤ n â‡’ nsum {m .. n} f = f m + nsum {m + 1 .. n} f
</pre>

<DT><span class="strong">NSUM_CLAUSES_NUMSEG</span>
<DD>
<pre>
âŠ¢ (âˆ€m. nsum {m .. 0} f = if m = 0 then f 0 else 0) âˆ§
  âˆ€m n.
    nsum {m .. SUC n} f =
    if m â‰¤ SUC n then nsum {m .. n} f + f (SUC n) else nsum {m .. n} f
</pre>

<DT><span class="strong">NSUM_CLAUSES_RIGHT</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. 0 < n âˆ§ m â‰¤ n â‡’ nsum {m .. n} f = nsum {m .. n âˆ’ 1} f + f n
</pre>

<DT><span class="strong">NSUM_CLOSED</span>
<DD>
<pre>
âŠ¢ âˆ€P f s.
    P 0 âˆ§ (âˆ€x y. P x âˆ§ P y â‡’ P (x + y)) âˆ§ (âˆ€a. a âˆˆ s â‡’ P (f a)) â‡’ P (nsum s f)
</pre>

<DT><span class="strong">NSUM_CONG</span>
<DD>
<pre>
âŠ¢ (âˆ€f g s. (âˆ€x. x âˆˆ s â‡’ f x = g x) â‡’ nsum s (Î»i. f i) = nsum s g) âˆ§
  (âˆ€f g a b.
     (âˆ€i. a â‰¤ i âˆ§ i â‰¤ b â‡’ f i = g i) â‡’
     nsum {a .. b} (Î»i. f i) = nsum {a .. b} g) âˆ§
  âˆ€f g p. (âˆ€x. p x â‡’ f x = g x) â‡’ nsum {y | p y} (Î»i. f i) = nsum {y | p y} g
</pre>

<DT><span class="strong">NSUM_CONST</span>
<DD>
<pre>
âŠ¢ âˆ€c s. FINITE s â‡’ nsum s (Î»n. c) = CARD s * c
</pre>

<DT><span class="strong">NSUM_CONST_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€c m n. nsum {m .. n} (Î»n. c) = (n + 1 âˆ’ m) * c
</pre>

<DT><span class="strong">NSUM_DEGENERATE</span>
<DD>
<pre>
âŠ¢ âˆ€f s. INFINITE {x | x âˆˆ s âˆ§ f x â‰  0} â‡’ nsum s f = 0
</pre>

<DT><span class="strong">NSUM_DELETE</span>
<DD>
<pre>
âŠ¢ âˆ€f s a. FINITE s âˆ§ a âˆˆ s â‡’ f a + nsum (s DELETE a) f = nsum s f
</pre>

<DT><span class="strong">NSUM_DELTA</span>
<DD>
<pre>
âŠ¢ âˆ€s a. nsum s (Î»x. if x = a then b else 0) = if a âˆˆ s then b else 0
</pre>

<DT><span class="strong">NSUM_DIFF</span>
<DD>
<pre>
âŠ¢ âˆ€f s t. FINITE s âˆ§ t âŠ† s â‡’ nsum (s DIFF t) f = nsum s f âˆ’ nsum t f
</pre>

<DT><span class="strong">NSUM_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€f g s. (âˆ€x. x âˆˆ s â‡’ f x = g x) â‡’ nsum s f = nsum s g
</pre>

<DT><span class="strong">NSUM_EQ_0</span>
<DD>
<pre>
âŠ¢ âˆ€f s. (âˆ€x. x âˆˆ s â‡’ f x = 0) â‡’ nsum s f = 0
</pre>

<DT><span class="strong">NSUM_EQ_0_IFF</span>
<DD>
<pre>
âŠ¢ âˆ€s. FINITE s â‡’ (nsum s f = 0 â‡” âˆ€x. x âˆˆ s â‡’ f x = 0)
</pre>

<DT><span class="strong">NSUM_EQ_0_IFF_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. nsum {m .. n} f = 0 â‡” âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ f i = 0
</pre>

<DT><span class="strong">NSUM_EQ_0_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. (âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ f i = 0) â‡’ nsum {m .. n} f = 0
</pre>

<DT><span class="strong">NSUM_EQ_GENERAL</span>
<DD>
<pre>
âŠ¢ âˆ€s t f g h.
    (âˆ€y. y âˆˆ t â‡’ âˆƒ!x. x âˆˆ s âˆ§ h x = y) âˆ§ (âˆ€x. x âˆˆ s â‡’ h x âˆˆ t âˆ§ g (h x) = f x) â‡’
    nsum s f = nsum t g
</pre>

<DT><span class="strong">NSUM_EQ_GENERAL_INVERSES</span>
<DD>
<pre>
âŠ¢ âˆ€s t f g h k.
    (âˆ€y. y âˆˆ t â‡’ k y âˆˆ s âˆ§ h (k y) = y) âˆ§
    (âˆ€x. x âˆˆ s â‡’ h x âˆˆ t âˆ§ k (h x) = x âˆ§ g (h x) = f x) â‡’
    nsum s f = nsum t g
</pre>

<DT><span class="strong">NSUM_EQ_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f g m n.
    (âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ f i = g i) â‡’ nsum {m .. n} f = nsum {m .. n} g
</pre>

<DT><span class="strong">NSUM_EQ_SUPERSET</span>
<DD>
<pre>
âŠ¢ âˆ€f s t.
    FINITE t âˆ§ t âŠ† s âˆ§ (âˆ€x. x âˆˆ t â‡’ f x = g x) âˆ§ (âˆ€x. x âˆˆ s âˆ§ x âˆ‰ t â‡’ f x = 0) â‡’
    nsum s f = nsum t g
</pre>

<DT><span class="strong">NSUM_GROUP</span>
<DD>
<pre>
âŠ¢ âˆ€f g s t.
    FINITE s âˆ§ IMAGE f s âŠ† t â‡’
    nsum t (Î»y. nsum {x | x âˆˆ s âˆ§ f x = y} g) = nsum s g
</pre>

<DT><span class="strong">NSUM_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ f x = f y â‡’ x = y) â‡’
    nsum (IMAGE f s) g = nsum s (g âˆ˜ f)
</pre>

<DT><span class="strong">NSUM_IMAGE_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    FINITE s â‡’ nsum s g = nsum (IMAGE f s) (Î»y. nsum {x | x âˆˆ s âˆ§ f x = y} g)
</pre>

<DT><span class="strong">NSUM_IMAGE_NONZERO</span>
<DD>
<pre>
âŠ¢ âˆ€d i s.
    FINITE s âˆ§ (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ x â‰  y âˆ§ i x = i y â‡’ d (i x) = 0) â‡’
    nsum (IMAGE i s) d = nsum s (d âˆ˜ i)
</pre>

<DT><span class="strong">NSUM_INCL_EXCL</span>
<DD>
<pre>
âŠ¢ âˆ€s t f.
    FINITE s âˆ§ FINITE t â‡’
    nsum s f + nsum t f = nsum (s âˆª t) f + nsum (s âˆ© t) f
</pre>

<DT><span class="strong">NSUM_INJECTION</span>
<DD>
<pre>
âŠ¢ âˆ€f p s.
    FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ p x âˆˆ s) âˆ§
    (âˆ€x y. x âˆˆ s âˆ§ y âˆˆ s âˆ§ p x = p y â‡’ x = y) â‡’
    nsum s (f âˆ˜ p) = nsum s f
</pre>

<DT><span class="strong">NSUM_LE</span>
<DD>
<pre>
âŠ¢ âˆ€f g s. FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ f x â‰¤ g x) â‡’ nsum s f â‰¤ nsum s g
</pre>

<DT><span class="strong">NSUM_LE_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    (âˆ€x. x âˆˆ s â‡’ f x â‰¤ g x) âˆ§ FINITE {x | x âˆˆ s âˆ§ g x â‰  0} â‡’
    nsum s f â‰¤ nsum s g
</pre>

<DT><span class="strong">NSUM_LE_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f g m n.
    (âˆ€i. m â‰¤ i âˆ§ i â‰¤ n â‡’ f i â‰¤ g i) â‡’ nsum {m .. n} f â‰¤ nsum {m .. n} g
</pre>

<DT><span class="strong">NSUM_LMUL</span>
<DD>
<pre>
âŠ¢ âˆ€f c s. nsum s (Î»x. c * f x) = c * nsum s f
</pre>

<DT><span class="strong">NSUM_LT</span>
<DD>
<pre>
âŠ¢ âˆ€f g s.
    FINITE s âˆ§ (âˆ€x. x âˆˆ s â‡’ f x â‰¤ g x) âˆ§ (âˆƒx. x âˆˆ s âˆ§ f x < g x) â‡’
    nsum s f < nsum s g
</pre>

<DT><span class="strong">NSUM_LT_ALL</span>
<DD>
<pre>
âŠ¢ âˆ€f g s. FINITE s âˆ§ s â‰  âˆ… âˆ§ (âˆ€x. x âˆˆ s â‡’ f x < g x) â‡’ nsum s f < nsum s g
</pre>

<DT><span class="strong">NSUM_MULTICOUNT</span>
<DD>
<pre>
âŠ¢ âˆ€R s t k.
    FINITE s âˆ§ FINITE t âˆ§ (âˆ€j. j âˆˆ t â‡’ CARD {i | i âˆˆ s âˆ§ R i j} = k) â‡’
    nsum s (Î»i. CARD (equiv_class R t i)) = k * CARD t
</pre>

<DT><span class="strong">NSUM_MULTICOUNT_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€R s t k.
    FINITE s âˆ§ FINITE t âˆ§ (âˆ€j. j âˆˆ t â‡’ CARD {i | i âˆˆ s âˆ§ R i j} = k j) â‡’
    nsum s (Î»i. CARD (equiv_class R t i)) = nsum t (Î»i. k i)
</pre>

<DT><span class="strong">NSUM_NSUM_PRODUCT</span>
<DD>
<pre>
âŠ¢ âˆ€s t x.
    FINITE s âˆ§ (âˆ€i. i âˆˆ s â‡’ FINITE (t i)) â‡’
    nsum s (Î»i. nsum (t i) (x i)) =
    nsum {(i,j) | i âˆˆ s âˆ§ j âˆˆ t i} (Î»(i,j). x i j)
</pre>

<DT><span class="strong">NSUM_NSUM_RESTRICT</span>
<DD>
<pre>
âŠ¢ âˆ€R f s t.
    FINITE s âˆ§ FINITE t â‡’
    nsum s (Î»x. nsum (equiv_class R t x) (Î»y. f x y)) =
    nsum t (Î»y. nsum {x | x âˆˆ s âˆ§ R x y} (Î»x. f x y))
</pre>

<DT><span class="strong">NSUM_OFFSET</span>
<DD>
<pre>
âŠ¢ âˆ€p f m n. nsum {m + p .. n + p} f = nsum {m .. n} (Î»i. f (i + p))
</pre>

<DT><span class="strong">NSUM_OFFSET_0</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. m â‰¤ n â‡’ nsum {m .. n} f = nsum {0 .. n âˆ’ m} (Î»i. f (i + m))
</pre>

<DT><span class="strong">NSUM_PAIR</span>
<DD>
<pre>
âŠ¢ âˆ€f m n.
    nsum {2 * m .. 2 * n + 1} f =
    nsum {m .. n} (Î»i. f (2 * i) + f (2 * i + 1))
</pre>

<DT><span class="strong">NSUM_PERMUTE</span>
<DD>
<pre>
âŠ¢ âˆ€f p s. p permutes s â‡’ nsum s f = nsum s (f âˆ˜ p)
</pre>

<DT><span class="strong">NSUM_PERMUTE_COUNT</span>
<DD>
<pre>
âŠ¢ âˆ€f p n. p permutes count n â‡’ nsum (count n) f = nsum (count n) (f âˆ˜ p)
</pre>

<DT><span class="strong">NSUM_PERMUTE_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f p m n.
    p permutes count n DIFF count m â‡’
    nsum (count n DIFF count m) f = nsum (count n DIFF count m) (f âˆ˜ p)
</pre>

<DT><span class="strong">NSUM_POS_BOUND</span>
<DD>
<pre>
âŠ¢ âˆ€f b s. FINITE s âˆ§ nsum s f â‰¤ b â‡’ âˆ€x. x âˆˆ s â‡’ f x â‰¤ b
</pre>

<DT><span class="strong">NSUM_POS_LT</span>
<DD>
<pre>
âŠ¢ âˆ€f s. FINITE s âˆ§ (âˆƒx. x âˆˆ s âˆ§ 0 < f x) â‡’ 0 < nsum s f
</pre>

<DT><span class="strong">NSUM_POS_LT_ALL</span>
<DD>
<pre>
âŠ¢ âˆ€s f. FINITE s âˆ§ s â‰  âˆ… âˆ§ (âˆ€i. i âˆˆ s â‡’ 0 < f i) â‡’ 0 < nsum s f
</pre>

<DT><span class="strong">NSUM_RESTRICT</span>
<DD>
<pre>
âŠ¢ âˆ€f s. FINITE s â‡’ nsum s (Î»x. if x âˆˆ s then f x else 0) = nsum s f
</pre>

<DT><span class="strong">NSUM_RESTRICT_SET</span>
<DD>
<pre>
âŠ¢ âˆ€P s f. nsum {x | x âˆˆ s âˆ§ P x} f = nsum s (Î»x. if P x then f x else 0)
</pre>

<DT><span class="strong">NSUM_RMUL</span>
<DD>
<pre>
âŠ¢ âˆ€f c s. nsum s (Î»x. f x * c) = nsum s f * c
</pre>

<DT><span class="strong">NSUM_SING</span>
<DD>
<pre>
âŠ¢ âˆ€f x. nsum {x} f = f x
</pre>

<DT><span class="strong">NSUM_SING_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f n. nsum {n .. n} f = f n
</pre>

<DT><span class="strong">NSUM_SUBSET</span>
<DD>
<pre>
âŠ¢ âˆ€u v f.
    FINITE u âˆ§ FINITE v âˆ§ (âˆ€x. x âˆˆ u DIFF v â‡’ f x = 0) â‡’ nsum u f â‰¤ nsum v f
</pre>

<DT><span class="strong">NSUM_SUBSET_SIMPLE</span>
<DD>
<pre>
âŠ¢ âˆ€u v f. FINITE v âˆ§ u âŠ† v â‡’ nsum u f â‰¤ nsum v f
</pre>

<DT><span class="strong">NSUM_SUPERSET</span>
<DD>
<pre>
âŠ¢ âˆ€f u v. u âŠ† v âˆ§ (âˆ€x. x âˆˆ v âˆ§ x âˆ‰ u â‡’ f x = 0) â‡’ nsum v f = nsum u f
</pre>

<DT><span class="strong">NSUM_SUPPORT</span>
<DD>
<pre>
âŠ¢ âˆ€f s. nsum (support $+ f s) f = nsum s f
</pre>

<DT><span class="strong">NSUM_SWAP</span>
<DD>
<pre>
âŠ¢ âˆ€f s t.
    FINITE s âˆ§ FINITE t â‡’
    nsum s (Î»i. nsum t (f i)) = nsum t (Î»j. nsum s (Î»i. f i j))
</pre>

<DT><span class="strong">NSUM_SWAP_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€a b c d f.
    nsum {a .. b} (Î»i. nsum {c .. d} (f i)) =
    nsum {c .. d} (Î»j. nsum {a .. b} (Î»i. f i j))
</pre>

<DT><span class="strong">NSUM_TRIV_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€f m n. n < m â‡’ nsum {m .. n} f = 0
</pre>

<DT><span class="strong">NSUM_UNION</span>
<DD>
<pre>
âŠ¢ âˆ€f s t.
    FINITE s âˆ§ FINITE t âˆ§ DISJOINT s t â‡’ nsum (s âˆª t) f = nsum s f + nsum t f
</pre>

<DT><span class="strong">NSUM_UNION_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€s t u. FINITE u âˆ§ s âˆ© t = âˆ… âˆ§ s âˆª t = u â‡’ nsum s f + nsum t f = nsum u f
</pre>

<DT><span class="strong">NSUM_UNION_LZERO</span>
<DD>
<pre>
âŠ¢ âˆ€f u v. FINITE v âˆ§ (âˆ€x. x âˆˆ u âˆ§ x âˆ‰ v â‡’ f x = 0) â‡’ nsum (u âˆª v) f = nsum v f
</pre>

<DT><span class="strong">NSUM_UNION_NONZERO</span>
<DD>
<pre>
âŠ¢ âˆ€f s t.
    FINITE s âˆ§ FINITE t âˆ§ (âˆ€x. x âˆˆ s âˆ© t â‡’ f x = 0) â‡’
    nsum (s âˆª t) f = nsum s f + nsum t f
</pre>

<DT><span class="strong">NSUM_UNION_RZERO</span>
<DD>
<pre>
âŠ¢ âˆ€f u v. FINITE u âˆ§ (âˆ€x. x âˆˆ v âˆ§ x âˆ‰ u â‡’ f x = 0) â‡’ nsum (u âˆª v) f = nsum u f
</pre>

<DT><span class="strong">NUMSEG_ADD_SPLIT</span>
<DD>
<pre>
âŠ¢ âˆ€m n p. m â‰¤ n + 1 â‡’ {m .. n + p} = {m .. n} âˆª {n + 1 .. n + p}
</pre>

<DT><span class="strong">NUMSEG_CLAUSES</span>
<DD>
<pre>
âŠ¢ (âˆ€m. {m .. 0} = if m = 0 then {0} else âˆ…) âˆ§
  âˆ€m n. {m .. SUC n} = if m â‰¤ SUC n then SUC n INSERT {m .. n} else {m .. n}
</pre>

<DT><span class="strong">NUMSEG_COMBINE_L</span>
<DD>
<pre>
âŠ¢ âˆ€m p n. m â‰¤ p âˆ§ p â‰¤ n + 1 â‡’ {m .. p âˆ’ 1} âˆª {p .. n} = {m .. n}
</pre>

<DT><span class="strong">NUMSEG_COMBINE_R</span>
<DD>
<pre>
âŠ¢ âˆ€m p n. m â‰¤ p + 1 âˆ§ p â‰¤ n â‡’ {m .. p} âˆª {p + 1 .. n} = {m .. n}
</pre>

<DT><span class="strong">NUMSEG_EMPTY</span>
<DD>
<pre>
âŠ¢ âˆ€m n. {m .. n} = âˆ… â‡” n < m
</pre>

<DT><span class="strong">NUMSEG_LE</span>
<DD>
<pre>
âŠ¢ âˆ€n. {x | x â‰¤ n} = {0 .. n}
</pre>

<DT><span class="strong">NUMSEG_LREC</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m â‰¤ n â‡’ m INSERT {m + 1 .. n} = {m .. n}
</pre>

<DT><span class="strong">NUMSEG_LT</span>
<DD>
<pre>
âŠ¢ âˆ€n. {x | x < n} = if n = 0 then âˆ… else {0 .. n âˆ’ 1}
</pre>

<DT><span class="strong">NUMSEG_OFFSET_IMAGE</span>
<DD>
<pre>
âŠ¢ âˆ€m n p. {m + p .. n + p} = IMAGE (Î»i. i + p) {m .. n}
</pre>

<DT><span class="strong">NUMSEG_REC</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m â‰¤ SUC n â‡’ {m .. SUC n} = SUC n INSERT {m .. n}
</pre>

<DT><span class="strong">NUMSEG_RREC</span>
<DD>
<pre>
âŠ¢ âˆ€m n. m â‰¤ n â‡’ n INSERT {m .. n âˆ’ 1} = {m .. n}
</pre>

<DT><span class="strong">NUMSEG_SING</span>
<DD>
<pre>
âŠ¢ âˆ€n. {n .. n} = {n}
</pre>

<DT><span class="strong">POWERSET_CLAUSES</span>
<DD>
<pre>
âŠ¢ {s | s âŠ† âˆ…} = {âˆ…} âˆ§
  âˆ€a t.
    {s | s âŠ† a INSERT t} = {s | s âŠ† t} âˆª IMAGE (Î»s. a INSERT s) {s | s âŠ† t}
</pre>

<DT><span class="strong">SET_PROVE_CASES</span>
<DD>
<pre>
âŠ¢ âˆ€P. P âˆ… âˆ§ (âˆ€a s. a âˆ‰ s â‡’ P (a INSERT s)) â‡’ âˆ€s. P s
</pre>

<DT><span class="strong">SET_RECURSION_LEMMA</span>
<DD>
<pre>
âŠ¢ âˆ€f b.
    (âˆ€x y s. x â‰  y â‡’ f x (f y s) = f y (f x s)) â‡’
    âˆƒg. g âˆ… = b âˆ§
        âˆ€x s. FINITE s â‡’ g (x INSERT s) = if x âˆˆ s then g s else f x (g s)
</pre>

<DT><span class="strong">SIMPLE_IMAGE_GEN</span>
<DD>
<pre>
âŠ¢ âˆ€f P. {f x | P x} = IMAGE f {x | P x}
</pre>

<DT><span class="strong">SUBSET_NUMSEG</span>
<DD>
<pre>
âŠ¢ âˆ€m n p q. {m .. n} âŠ† {p .. q} â‡” n < m âˆ¨ p â‰¤ m âˆ§ n â‰¤ q
</pre>

<DT><span class="strong">SUBSET_RESTRICT</span>
<DD>
<pre>
âŠ¢ âˆ€s P. {x | x âˆˆ s âˆ§ P x} âŠ† s
</pre>

<DT><span class="strong">SUPPORT_CLAUSES</span>
<DD>
<pre>
âŠ¢ (âˆ€f. support op f âˆ… = âˆ…) âˆ§
  (âˆ€f x s.
     support op f (x INSERT s) =
     if f x = neutral op then support op f s else x INSERT support op f s) âˆ§
  (âˆ€f x s. support op f (s DELETE x) = support op f s DELETE x) âˆ§
  (âˆ€f s t. support op f (s âˆª t) = support op f s âˆª support op f t) âˆ§
  (âˆ€f s t. support op f (s âˆ© t) = support op f s âˆ© support op f t) âˆ§
  (âˆ€f s t. support op f (s DIFF t) = support op f s DIFF support op f t) âˆ§
  âˆ€f g s. support op g (IMAGE f s) = IMAGE f (support op (g âˆ˜ f) s)
</pre>

<DT><span class="strong">SUPPORT_DELTA</span>
<DD>
<pre>
âŠ¢ âˆ€op s f a.
    support op (Î»x. if x = a then f x else neutral op) s =
    if a âˆˆ s then support op f {a} else âˆ…
</pre>

<DT><span class="strong">SUPPORT_EMPTY</span>
<DD>
<pre>
âŠ¢ âˆ€op f s. (âˆ€x. x âˆˆ s â‡’ f x = neutral op) â‡” support op f s = âˆ…
</pre>

<DT><span class="strong">SUPPORT_SUBSET</span>
<DD>
<pre>
âŠ¢ âˆ€op f s. support op f s âŠ† s
</pre>

<DT><span class="strong">SUPPORT_SUPPORT</span>
<DD>
<pre>
âŠ¢ âˆ€op f s. support op f (support op f s) = support op f s
</pre>

<DT><span class="strong">TOPOLOGICAL_SORT</span>
<DD>
<pre>
âŠ¢ âˆ€ $<<.
    (âˆ€x y. x << y âˆ§ y << x â‡’ x = y) âˆ§ (âˆ€x y z. x << y âˆ§ y << z â‡’ x << z) â‡’
    âˆ€n s.
      s HAS_SIZE n â‡’
      âˆƒf. s = IMAGE f {1 .. n} âˆ§
          âˆ€j k. j âˆˆ {1 .. n} âˆ§ k âˆˆ {1 .. n} âˆ§ j < k â‡’ Â¬(f k << f j)
</pre>

<DT><span class="strong">TOPOLOGICAL_SORT'</span>
<DD>
<pre>
âŠ¢ âˆ€R s n.
    transitive R âˆ§ antisymmetric R âˆ§ s HAS_SIZE n â‡’
    âˆƒf. s = IMAGE f (count n) âˆ§ âˆ€j k. j < n âˆ§ k < n âˆ§ j < k â‡’ Â¬R (f k) (f j)
</pre>

<DT><span class="strong">TRANSFORM_2D_NUM</span>
<DD>
<pre>
âŠ¢ âˆ€P. (âˆ€m n. P m n â‡’ P n m) âˆ§ (âˆ€m n. P m (m + n)) â‡’ âˆ€m n. P m n
</pre>

<DT><span class="strong">TRANSITIVE_STEPWISE_LE</span>
<DD>
<pre>
âŠ¢ âˆ€R. (âˆ€x. R x x) âˆ§ (âˆ€x y z. R x y âˆ§ R y z â‡’ R x z) âˆ§ (âˆ€n. R n (SUC n)) â‡’
      âˆ€m n. m â‰¤ n â‡’ R m n
</pre>

<DT><span class="strong">TRANSITIVE_STEPWISE_LE_EQ</span>
<DD>
<pre>
âŠ¢ âˆ€R. (âˆ€x. R x x) âˆ§ (âˆ€x y z. R x y âˆ§ R y z â‡’ R x z) â‡’
      ((âˆ€m n. m â‰¤ n â‡’ R m n) â‡” âˆ€n. R n (SUC n))
</pre>

<DT><span class="strong">TRIANGLE_2D_NUM</span>
<DD>
<pre>
âŠ¢ âˆ€P. (âˆ€d n. P n (d + n)) â‡’ âˆ€m n. m â‰¤ n â‡’ P m n
</pre>

<DT><span class="strong">UNION_COUNT_FROM</span>
<DD>
<pre>
âŠ¢ âˆ€n. count n âˆª from n = ğ•Œ(:num)
</pre>

<DT><span class="strong">UNION_FROM_COUNT</span>
<DD>
<pre>
âŠ¢ âˆ€n. from n âˆª count n = ğ•Œ(:num)
</pre>

<DT><span class="strong">UPPER_BOUND_FINITE_SET</span>
<DD>
<pre>
âŠ¢ âˆ€f s. FINITE s â‡’ âˆƒa. âˆ€x. x âˆˆ s â‡’ f x â‰¤ a
</pre>

<DT><span class="strong">lifted</span>
<DD>
<pre>
âŠ¢ lifted op NONE v0 = NONE âˆ§ lifted op (SOME v5) NONE = NONE âˆ§
  lifted op (SOME x) (SOME y) = SOME (op x y)
</pre>

<DT><span class="strong">lifted_ind</span>
<DD>
<pre>
âŠ¢ âˆ€P. (âˆ€op v0. P op NONE v0) âˆ§ (âˆ€op v5. P op (SOME v5) NONE) âˆ§
      (âˆ€op x y. P op (SOME x) (SOME y)) â‡’
      âˆ€v v1 v2. P v v1 v2
</pre>

</DL>



<hr>
</body>
</html>
