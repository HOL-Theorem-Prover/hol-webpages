<!DOCTYPE html>
<html><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon">
<meta charset="utf-8">
<title>Structure ParseDatatype</title>
<style type="text/css">
<!--
  body {background: #fbf2e7}
-->
</style></head>
<body>
<h1>Structure ParseDatatype</h1>
<hr><table width="100%"><tr align = center>
<th><a href="../../../src/parse/ParseDatatype.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<pre>
<a name="line1"></a>signature ParseDatatype =
<a name="line2"></a>sig
<a name="line3"></a>
<a name="line4"></a>
<a name="line5"></a> datatype pretype = datatype ParseDatatype_dtype.pretype
<a name="line6"></a> datatype datatypeForm = datatype ParseDatatype_dtype.datatypeForm
<a name="line7"></a> type AST = ParseDatatype_dtype.AST
<a name="line8"></a> type field = ParseDatatype_dtype.field
<a name="line9"></a> type constructor = ParseDatatype_dtype.constructor
<a name="line10"></a> val pretypeToType : pretype -&gt; Type.hol_type
<a name="line11"></a>
<a name="line12"></a> val parse : type_grammar.grammar -&gt; Type.hol_type Portable.quotation -&gt;
<a name="line13"></a>             AST list
<a name="line14"></a>
<a name="line15"></a>(*---------------------------------------------------------------------------
<a name="line16"></a>  Grammar we're parsing is:
<a name="line17"></a>
<a name="line18"></a>      G            ::=  id "=" &lt;form&gt; (";" id "=" &lt;form&gt;)* ";"?
<a name="line19"></a>      form         ::=  &lt;phrase&gt; ( "|" &lt;phrase&gt; ) *  |  &lt;record_defn&gt;
<a name="line20"></a>      phrase       ::=  id  | id "of" &lt;ptype&gt; ( "=&gt;" &lt;ptype&gt; ) *
<a name="line21"></a>      record_defn  ::=  "&lt;|"  &lt;idtype_pairs&gt; ";"? "|&gt;"
<a name="line22"></a>      idtype_pairs ::=  id ":" &lt;type&gt; | id : &lt;type&gt; ";" &lt;idtype_pairs&gt;
<a name="line23"></a>      ptype        ::=  &lt;type&gt; | "(" &lt;type&gt; ")"
<a name="line24"></a>
<a name="line25"></a>  It had better be the case that =&gt; is not a type infix.  This is true of
<a name="line26"></a>  the standard HOL distribution.  In the event that =&gt; is an infix, this
<a name="line27"></a>  code will still work as long as the input puts the types in parentheses.
<a name="line28"></a> ---------------------------------------------------------------------------*)
<a name="line29"></a>
<a name="line30"></a>val hparse : type_grammar.grammar -&gt; Type.hol_type Portable.quotation -&gt;
<a name="line31"></a>             AST list
<a name="line32"></a>
<a name="line33"></a>(* The grammar for hparse is:
<a name="line34"></a>
<a name="line35"></a>   G        ::= id "=" &lt;form&gt; (";" id "=" &lt;form&gt;)* ";"?
<a name="line36"></a>   form     ::= "|"? &lt;phrase&gt; ( "|" &lt;phrase&gt; )* | &lt;record_defn&gt;
<a name="line37"></a>   phrase   ::= id &lt;typarg&gt;*
<a name="line38"></a>   typarg   ::= atomic-typ | "(" &lt;type&gt; ")"
<a name="line39"></a>
<a name="line40"></a>  where record_defn is as above, and an atomic-typ is either a type variable,
<a name="line41"></a>  or a type-constant of arity 0, or one of the types being defined.
<a name="line42"></a>*)
<a name="line43"></a>
<a name="line44"></a>val parse_listener : (AST list) Listener.t
<a name="line45"></a>
<a name="line46"></a>end
<a name="line47"></a>
</pre><hr><table width="100%"><tr align = center>
<th><a href="../../../src/parse/ParseDatatype.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<p><em><a href="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Trindemossen-2</a></em></p></body></html>
