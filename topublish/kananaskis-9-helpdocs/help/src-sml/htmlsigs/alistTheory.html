<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon">
<meta http-equiv="content-type" content="text/html ; charset=UTF-8">
<title>Structure alistTheory</title>
<style type="text/css">
<!--
  body {background: #fbf2e7}
-->
</style></head>
<body>
<h1>Structure alistTheory</h1>
<hr><table width="100%"><tr align = center>
<th><a href="../../../src/finite_map/alistScript.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<pre>
<a name="line1"></a>signature alistTheory =
<a name="line2"></a>sig
<a name="line3"></a>  type thm = Thm.thm
<a name="line4"></a>
<a name="line5"></a>  (*  Definitions  *)
<a name="line6"></a>    val <a href="#ALOOKUP_curried_def-val">ALOOKUP_curried_def</a> : thm
<a name="line7"></a>    val <a href="#ALOOKUP_tupled_primitive_def-val">ALOOKUP_tupled_primitive_def</a> : thm
<a name="line8"></a>    val <a href="#alist_to_fmap_def-val">alist_to_fmap_def</a> : thm
<a name="line9"></a>    val <a href="#fmap_to_alist_def-val">fmap_to_alist_def</a> : thm
<a name="line10"></a>
<a name="line11"></a>  (*  Theorems  *)
<a name="line12"></a>    val <a href="#ALL_DISTINCT_fmap_to_alist_keys-val">ALL_DISTINCT_fmap_to_alist_keys</a> : thm
<a name="line13"></a>    val <a href="#ALOOKUP_ALL_DISTINCT_MEM-val">ALOOKUP_ALL_DISTINCT_MEM</a> : thm
<a name="line14"></a>    val <a href="#ALOOKUP_APPEND-val">ALOOKUP_APPEND</a> : thm
<a name="line15"></a>    val <a href="#ALOOKUP_EQ_FLOOKUP-val">ALOOKUP_EQ_FLOOKUP</a> : thm
<a name="line16"></a>    val <a href="#ALOOKUP_FAILS-val">ALOOKUP_FAILS</a> : thm
<a name="line17"></a>    val <a href="#ALOOKUP_LEAST_EL-val">ALOOKUP_LEAST_EL</a> : thm
<a name="line18"></a>    val <a href="#ALOOKUP_MAP-val">ALOOKUP_MAP</a> : thm
<a name="line19"></a>    val <a href="#ALOOKUP_MEM-val">ALOOKUP_MEM</a> : thm
<a name="line20"></a>    val <a href="#ALOOKUP_NONE-val">ALOOKUP_NONE</a> : thm
<a name="line21"></a>    val <a href="#ALOOKUP_SOME_FAPPLY_alist_to_fmap-val">ALOOKUP_SOME_FAPPLY_alist_to_fmap</a> : thm
<a name="line22"></a>    val <a href="#ALOOKUP_TABULATE-val">ALOOKUP_TABULATE</a> : thm
<a name="line23"></a>    val <a href="#ALOOKUP_def-val">ALOOKUP_def</a> : thm
<a name="line24"></a>    val <a href="#ALOOKUP_ind-val">ALOOKUP_ind</a> : thm
<a name="line25"></a>    val <a href="#ALOOKUP_prefix-val">ALOOKUP_prefix</a> : thm
<a name="line26"></a>    val <a href="#FDOM_alist_to_fmap-val">FDOM_alist_to_fmap</a> : thm
<a name="line27"></a>    val <a href="#FLOOKUP_FUPDATE_LIST_ALOOKUP_NONE-val">FLOOKUP_FUPDATE_LIST_ALOOKUP_NONE</a> : thm
<a name="line28"></a>    val <a href="#FLOOKUP_FUPDATE_LIST_ALOOKUP_SOME-val">FLOOKUP_FUPDATE_LIST_ALOOKUP_SOME</a> : thm
<a name="line29"></a>    val <a href="#FUNION_alist_to_fmap-val">FUNION_alist_to_fmap</a> : thm
<a name="line30"></a>    val <a href="#FUPDATE_LIST_EQ_APPEND_REVERSE-val">FUPDATE_LIST_EQ_APPEND_REVERSE</a> : thm
<a name="line31"></a>    val <a href="#LENGTH_fmap_to_alist-val">LENGTH_fmap_to_alist</a> : thm
<a name="line32"></a>    val <a href="#MEM_fmap_to_alist-val">MEM_fmap_to_alist</a> : thm
<a name="line33"></a>    val <a href="#MEM_fmap_to_alist_FLOOKUP-val">MEM_fmap_to_alist_FLOOKUP</a> : thm
<a name="line34"></a>    val <a href="#MEM_pair_fmap_to_alist_FLOOKUP-val">MEM_pair_fmap_to_alist_FLOOKUP</a> : thm
<a name="line35"></a>    val <a href="#PERM_fmap_to_alist-val">PERM_fmap_to_alist</a> : thm
<a name="line36"></a>    val <a href="#alist_to_fmap_APPEND-val">alist_to_fmap_APPEND</a> : thm
<a name="line37"></a>    val <a href="#alist_to_fmap_FAPPLY_MEM-val">alist_to_fmap_FAPPLY_MEM</a> : thm
<a name="line38"></a>    val <a href="#alist_to_fmap_MAP-val">alist_to_fmap_MAP</a> : thm
<a name="line39"></a>    val <a href="#alist_to_fmap_PERM-val">alist_to_fmap_PERM</a> : thm
<a name="line40"></a>    val <a href="#alist_to_fmap_prefix-val">alist_to_fmap_prefix</a> : thm
<a name="line41"></a>    val <a href="#alist_to_fmap_thm-val">alist_to_fmap_thm</a> : thm
<a name="line42"></a>    val <a href="#alist_to_fmap_to_alist-val">alist_to_fmap_to_alist</a> : thm
<a name="line43"></a>    val <a href="#alist_to_fmap_to_alist_PERM-val">alist_to_fmap_to_alist_PERM</a> : thm
<a name="line44"></a>    val <a href="#fmap_to_alist_FEMPTY-val">fmap_to_alist_FEMPTY</a> : thm
<a name="line45"></a>    val <a href="#fmap_to_alist_inj-val">fmap_to_alist_inj</a> : thm
<a name="line46"></a>    val <a href="#fmap_to_alist_preserves_FDOM-val">fmap_to_alist_preserves_FDOM</a> : thm
<a name="line47"></a>    val <a href="#fmap_to_alist_to_fmap-val">fmap_to_alist_to_fmap</a> : thm
<a name="line48"></a>
<a name="line49"></a>  val alist_grammars : type_grammar.grammar * term_grammar.grammar
<a name="line50"></a>(*
   [finite_map] Parent theory of "alist"

   [sorting] Parent theory of "alist"

   [<a name="ALOOKUP_curried_def-val"><b>ALOOKUP_curried_def</b></a>]  Definition

      |- ∀x x1. ALOOKUP x x1 = ALOOKUP_tupled (x,x1)

   [<a name="ALOOKUP_tupled_primitive_def-val"><b>ALOOKUP_tupled_primitive_def</b></a>]  Definition

      |- ALOOKUP_tupled =
         WFREC (@R. WF R ∧ ∀y t q x. x ≠ q ⇒ R (t,q) ((x,y)::t,q))
           (λALOOKUP_tupled a.
              case a of
                ([],q) =&gt; I NONE
              | ((x,y)::t,q) =&gt;
                  I (if x = q then SOME y else ALOOKUP_tupled (t,q)))

   [<a name="alist_to_fmap_def-val"><b>alist_to_fmap_def</b></a>]  Definition

      |- ∀s. alist_to_fmap s = FOLDR (λ(k,v) f. f |+ (k,v)) FEMPTY s

   [<a name="fmap_to_alist_def-val"><b>fmap_to_alist_def</b></a>]  Definition

      |- ∀s. fmap_to_alist s = MAP (λk. (k,s ' k)) (SET_TO_LIST (FDOM s))

   [<a name="ALL_DISTINCT_fmap_to_alist_keys-val"><b>ALL_DISTINCT_fmap_to_alist_keys</b></a>]  Theorem

      |- ∀fm. ALL_DISTINCT (MAP FST (fmap_to_alist fm))

   [<a name="ALOOKUP_ALL_DISTINCT_MEM-val"><b>ALOOKUP_ALL_DISTINCT_MEM</b></a>]  Theorem

      |- ALL_DISTINCT (MAP FST al) ∧ MEM (k,v) al ⇒ (ALOOKUP al k = SOME v)

   [<a name="ALOOKUP_APPEND-val"><b>ALOOKUP_APPEND</b></a>]  Theorem

      |- ∀l1 l2 k.
           ALOOKUP (l1 ++ l2) k =
           case ALOOKUP l1 k of NONE =&gt; ALOOKUP l2 k | SOME v =&gt; SOME v

   [<a name="ALOOKUP_EQ_FLOOKUP-val"><b>ALOOKUP_EQ_FLOOKUP</b></a>]  Theorem

      |- (FLOOKUP (alist_to_fmap al) = ALOOKUP al) ∧
         (ALOOKUP (fmap_to_alist fm) = FLOOKUP fm)

   [<a name="ALOOKUP_FAILS-val"><b>ALOOKUP_FAILS</b></a>]  Theorem

      |- (ALOOKUP l x = NONE) ⇔ ∀k v. MEM (k,v) l ⇒ k ≠ x

   [<a name="ALOOKUP_LEAST_EL-val"><b>ALOOKUP_LEAST_EL</b></a>]  Theorem

      |- ∀ls k.
           ALOOKUP ls k =
           if MEM k (MAP FST ls) then
             SOME (EL (LEAST n. EL n (MAP FST ls) = k) (MAP SND ls))
           else NONE

   [<a name="ALOOKUP_MAP-val"><b>ALOOKUP_MAP</b></a>]  Theorem

      |- ∀f al.
           ALOOKUP (MAP (λ(x,y). (x,f y)) al) = OPTION_MAP f o ALOOKUP al

   [<a name="ALOOKUP_MEM-val"><b>ALOOKUP_MEM</b></a>]  Theorem

      |- ∀al k v. (ALOOKUP al k = SOME v) ⇒ MEM (k,v) al

   [<a name="ALOOKUP_NONE-val"><b>ALOOKUP_NONE</b></a>]  Theorem

      |- ∀l x. (ALOOKUP l x = NONE) ⇔ x ∉ set (MAP FST l)

   [<a name="ALOOKUP_SOME_FAPPLY_alist_to_fmap-val"><b>ALOOKUP_SOME_FAPPLY_alist_to_fmap</b></a>]  Theorem

      |- ∀al k v. (ALOOKUP al k = SOME v) ⇒ (alist_to_fmap al ' k = v)

   [<a name="ALOOKUP_TABULATE-val"><b>ALOOKUP_TABULATE</b></a>]  Theorem

      |- ALL_DISTINCT l ∧ MEM x l ⇒
         (ALOOKUP (MAP (λk. (k,f k)) l) x = SOME (f x))

   [<a name="ALOOKUP_def-val"><b>ALOOKUP_def</b></a>]  Theorem

      |- (∀q. ALOOKUP [] q = NONE) ∧
         ∀y x t q.
           ALOOKUP ((x,y)::t) q = if x = q then SOME y else ALOOKUP t q

   [<a name="ALOOKUP_ind-val"><b>ALOOKUP_ind</b></a>]  Theorem

      |- ∀P.
           (∀q. P [] q) ∧ (∀x y t q. (x ≠ q ⇒ P t q) ⇒ P ((x,y)::t) q) ⇒
           ∀v v1. P v v1

   [<a name="ALOOKUP_prefix-val"><b>ALOOKUP_prefix</b></a>]  Theorem

      |- ∀ls k ls2.
           ((ALOOKUP ls k = SOME v) ⇒ (ALOOKUP (ls ++ ls2) k = SOME v)) ∧
           ((ALOOKUP ls k = NONE) ⇒
            (ALOOKUP (ls ++ ls2) k = ALOOKUP ls2 k))

   [<a name="FDOM_alist_to_fmap-val"><b>FDOM_alist_to_fmap</b></a>]  Theorem

      |- ∀al. FDOM (alist_to_fmap al) = set (MAP FST al)

   [<a name="FLOOKUP_FUPDATE_LIST_ALOOKUP_NONE-val"><b>FLOOKUP_FUPDATE_LIST_ALOOKUP_NONE</b></a>]  Theorem

      |- (ALOOKUP ls k = NONE) ⇒
         (FLOOKUP (fm |++ REVERSE ls) k = FLOOKUP fm k)

   [<a name="FLOOKUP_FUPDATE_LIST_ALOOKUP_SOME-val"><b>FLOOKUP_FUPDATE_LIST_ALOOKUP_SOME</b></a>]  Theorem

      |- (ALOOKUP ls k = SOME v) ⇒ (FLOOKUP (fm |++ REVERSE ls) k = SOME v)

   [<a name="FUNION_alist_to_fmap-val"><b>FUNION_alist_to_fmap</b></a>]  Theorem

      |- ∀ls fm. alist_to_fmap ls ⊌ fm = fm |++ REVERSE ls

   [<a name="FUPDATE_LIST_EQ_APPEND_REVERSE-val"><b>FUPDATE_LIST_EQ_APPEND_REVERSE</b></a>]  Theorem

      |- ∀ls fm. fm |++ ls = alist_to_fmap (REVERSE ls ++ fmap_to_alist fm)

   [<a name="LENGTH_fmap_to_alist-val"><b>LENGTH_fmap_to_alist</b></a>]  Theorem

      |- ∀fm. LENGTH (fmap_to_alist fm) = CARD (FDOM fm)

   [<a name="MEM_fmap_to_alist-val"><b>MEM_fmap_to_alist</b></a>]  Theorem

      |- MEM (x,y) (fmap_to_alist fm) ⇔ x ∈ FDOM fm ∧ (fm ' x = y)

   [<a name="MEM_fmap_to_alist_FLOOKUP-val"><b>MEM_fmap_to_alist_FLOOKUP</b></a>]  Theorem

      |- ∀p fm.
           MEM p (fmap_to_alist fm) ⇔ (FLOOKUP fm (FST p) = SOME (SND p))

   [<a name="MEM_pair_fmap_to_alist_FLOOKUP-val"><b>MEM_pair_fmap_to_alist_FLOOKUP</b></a>]  Theorem

      |- ∀x y fm. MEM (x,y) (fmap_to_alist fm) ⇔ (FLOOKUP fm x = SOME y)

   [<a name="PERM_fmap_to_alist-val"><b>PERM_fmap_to_alist</b></a>]  Theorem

      |- PERM (fmap_to_alist fm1) (fmap_to_alist fm2) ⇔ (fm1 = fm2)

   [<a name="alist_to_fmap_APPEND-val"><b>alist_to_fmap_APPEND</b></a>]  Theorem

      |- ∀l1 l2.
           alist_to_fmap (l1 ++ l2) = alist_to_fmap l1 ⊌ alist_to_fmap l2

   [<a name="alist_to_fmap_FAPPLY_MEM-val"><b>alist_to_fmap_FAPPLY_MEM</b></a>]  Theorem

      |- ∀al z.
           z ∈ FDOM (alist_to_fmap al) ⇒ MEM (z,alist_to_fmap al ' z) al

   [<a name="alist_to_fmap_MAP-val"><b>alist_to_fmap_MAP</b></a>]  Theorem

      |- ∀f1 f2 al.
           INJ f1 (set (MAP FST al)) 𝕌(:β) ⇒
           (alist_to_fmap (MAP (λ(x,y). (f1 x,f2 y)) al) =
            MAP_KEYS f1 (f2 o_f alist_to_fmap al))

   [<a name="alist_to_fmap_PERM-val"><b>alist_to_fmap_PERM</b></a>]  Theorem

      |- ∀l1 l2.
           PERM l1 l2 ∧ ALL_DISTINCT (MAP FST l1) ⇒
           (alist_to_fmap l1 = alist_to_fmap l2)

   [<a name="alist_to_fmap_prefix-val"><b>alist_to_fmap_prefix</b></a>]  Theorem

      |- ∀ls l1 l2.
           (alist_to_fmap l1 = alist_to_fmap l2) ⇒
           (alist_to_fmap (ls ++ l1) = alist_to_fmap (ls ++ l2))

   [<a name="alist_to_fmap_thm-val"><b>alist_to_fmap_thm</b></a>]  Theorem

      |- (alist_to_fmap [] = FEMPTY) ∧
         (alist_to_fmap ((k,v)::t) = alist_to_fmap t |+ (k,v))

   [<a name="alist_to_fmap_to_alist-val"><b>alist_to_fmap_to_alist</b></a>]  Theorem

      |- ∀al.
           fmap_to_alist (alist_to_fmap al) =
           MAP (λk. (k,THE (ALOOKUP al k)))
             (SET_TO_LIST (set (MAP FST al)))

   [<a name="alist_to_fmap_to_alist_PERM-val"><b>alist_to_fmap_to_alist_PERM</b></a>]  Theorem

      |- ∀al.
           ALL_DISTINCT (MAP FST al) ⇒
           PERM (fmap_to_alist (alist_to_fmap al)) al

   [<a name="fmap_to_alist_FEMPTY-val"><b>fmap_to_alist_FEMPTY</b></a>]  Theorem

      |- fmap_to_alist FEMPTY = []

   [<a name="fmap_to_alist_inj-val"><b>fmap_to_alist_inj</b></a>]  Theorem

      |- ∀f1 f2. (fmap_to_alist f1 = fmap_to_alist f2) ⇒ (f1 = f2)

   [<a name="fmap_to_alist_preserves_FDOM-val"><b>fmap_to_alist_preserves_FDOM</b></a>]  Theorem

      |- ∀fm1 fm2.
           (FDOM fm1 = FDOM fm2) ⇒
           (MAP FST (fmap_to_alist fm1) = MAP FST (fmap_to_alist fm2))

   [<a name="fmap_to_alist_to_fmap-val"><b>fmap_to_alist_to_fmap</b></a>]  Theorem

      |- alist_to_fmap (fmap_to_alist fm) = fm


*)
end

</pre><hr><table width="100%"><tr align = center>
<th><a href="../../../src/finite_map/alistScript.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<p><em><a href="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Kananaskis-9</a></em></p></body></html>
