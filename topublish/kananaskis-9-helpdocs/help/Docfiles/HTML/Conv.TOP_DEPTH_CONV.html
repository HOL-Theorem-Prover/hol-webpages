<!DOCTYPE HTML PUBLIC "-//W32//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<meta http-equiv="content-type" content="text/html ; charset=US-ASCII">
<TITLE>Conv.TOP_DEPTH_CONV</TITLE>
<LINK REL = "STYLESHEET" HREF = "../doc.css" TYPE = "text/css"></HEAD>
<BODY>

<DIV class = "TYPE"><PRE>TOP_DEPTH_CONV : (conv -&gt; conv)</PRE></DIV>

<DL>
<DT><SPAN class = "FIELD-NAME">STRUCTURE</SPAN></DT>
<DD><DIV class = "FIELD-BODY"><A HREF = "../../src-sml/htmlsigs/Conv.html">Conv</A></DIV></DD>
<DT><SPAN class = "FIELD-NAME">SYNOPSIS</SPAN></DT>
<DD><DIV class = "FIELD-BODY"><SPAN class = "TEXT">Applies a conversion top-down to all subterms, retraversing changed ones.</SPAN></DIV></DD>
<DT><SPAN class = "FIELD-NAME">DESCRIPTION</SPAN></DT>
<DD><DIV class = "FIELD-BODY"><SPAN class = "TEXT"></SPAN><SPAN class = "BRKT">TOP_DEPTH_CONV&nbsp;c&nbsp;tm</SPAN><SPAN class = "TEXT"> repeatedly applies the conversion </SPAN><SPAN class = "BRKT">c</SPAN><SPAN class = "TEXT"> to all the subterms
of the term </SPAN><SPAN class = "BRKT">tm</SPAN><SPAN class = "TEXT">, including the term </SPAN><SPAN class = "BRKT">tm</SPAN><SPAN class = "TEXT"> itself. The supplied conversion </SPAN><SPAN class = "BRKT">c</SPAN><SPAN class = "TEXT">
is applied to the subterms of </SPAN><SPAN class = "BRKT">tm</SPAN><SPAN class = "TEXT"> in top-down order and is applied repeatedly
(zero or more times, as is done by </SPAN><SPAN class = "BRKT">REPEATC</SPAN><SPAN class = "TEXT">) at each subterm until it fails.
If a subterm </SPAN><SPAN class = "BRKT">t</SPAN><SPAN class = "TEXT"> is changed (up to alpha-equivalence) by virtue of the
application of </SPAN><SPAN class = "BRKT">c</SPAN><SPAN class = "TEXT"> to its own subterms, then the term into which </SPAN><SPAN class = "BRKT">t</SPAN><SPAN class = "TEXT"> is
transformed is retraversed by applying </SPAN><SPAN class = "BRKT">TOP_DEPTH_CONV&nbsp;c</SPAN><SPAN class = "TEXT"> to it.</SPAN></DIV></DD>
<DT><SPAN class = "FIELD-NAME">FAILURE</SPAN></DT>
<DD><DIV class = "FIELD-BODY"><SPAN class = "TEXT"></SPAN><SPAN class = "BRKT">TOP_DEPTH_CONV&nbsp;c&nbsp;tm</SPAN><SPAN class = "TEXT"> never fails but can diverge.</SPAN></DIV></DD>
<DT><SPAN class = "FIELD-NAME">COMMENTS</SPAN></DT>
<DD><DIV class = "FIELD-BODY"><SPAN class = "TEXT">The implementation of this function uses failure to avoid rebuilding
unchanged subterms. That is to say, during execution the exception
</SPAN><SPAN class = "BRKT">QConv.UNCHANGED</SPAN><SPAN class = "TEXT"> may be generated and later trapped. The behaviour of
the function is dependent on this use of failure. So, if the
conversion given as an argument happens to generate the same
exception, the operation of </SPAN><SPAN class = "BRKT">TOP_DEPTH_CONV</SPAN><SPAN class = "TEXT"> will be unpredictable.</SPAN></DIV></DD>
<dt><span class = "FIELD-NAME">SEEALSO</span></dt>
<dd><div class = "FIELD-BODY"><A HREF = "Conv.DEPTH_CONV.html">DEPTH_CONV</A>,
<A HREF = "Conv.ONCE_DEPTH_CONV.html">ONCE_DEPTH_CONV</A>,
<A HREF = "Conv.REDEPTH_CONV.html">REDEPTH_CONV</A></div></dd>
</DL>

<div class = "HOL"><A HREF="http://hol.sourceforge.net">HOL</A>&nbsp;&nbsp;Kananaskis-9</div></BODY></HTML>
