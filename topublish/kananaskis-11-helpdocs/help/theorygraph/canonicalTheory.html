<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: canonical</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "canonical"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "semi_ringTheory.html"><span class="strong">semi_ring</span></a>&nbsp;&nbsp;
    <a href = "quoteTheory.html"><span class="strong">quote</span></a>

<h1>Signature</h1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr>
    <th>
    Type
    <th>
    Arity<tr><td> <span class="strong">canonical_sum</span> <td> 1
    <tr><td> <span class="strong">spolynom</span> <td> 1
    <tr>
    <th>
    Constant
    <th>
    Type<tr><td>
            <span class="strong">Cons_monom</span>
            <td>
            :α -> index list -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">Cons_varlist</span>
        <td>
        :index list -> α canonical_sum -> α canonical_sum
    <tr><td> <span class="strong">Nil_monom</span> <td> :α canonical_sum
    <tr><td> <span class="strong">SPconst</span> <td> :α -> α spolynom
    <tr><td>
        <span class="strong">SPmult</span>
        <td>
        :α spolynom -> α spolynom -> α spolynom
    <tr><td>
        <span class="strong">SPplus</span>
        <td>
        :α spolynom -> α spolynom -> α spolynom
    <tr><td> <span class="strong">SPvar</span> <td> :index -> α spolynom
    <tr><td>
        <span class="strong">canonical_sum_CASE</span>
        <td>
        :α canonical_sum ->
         β ->
         (α -> index list -> α canonical_sum -> β) ->
         (index list -> α canonical_sum -> β) -> β
    <tr><td>
        <span class="strong">canonical_sum_merge</span>
        <td>
        :α semi_ring -> α canonical_sum -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_merge_tupled</span>
        <td>
        :α semi_ring # α canonical_sum # α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_prod</span>
        <td>
        :α semi_ring -> α canonical_sum -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_scalar</span>
        <td>
        :α semi_ring -> α -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_scalar2</span>
        <td>
        :α semi_ring -> index list -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_scalar3</span>
        <td>
        :α semi_ring -> α -> index list -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_simplify</span>
        <td>
        :α semi_ring -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">canonical_sum_size</span>
        <td>
        :(α -> num) -> α canonical_sum -> num
    <tr><td>
        <span class="strong">ics_aux</span>
        <td>
        :α semi_ring -> α varmap -> α -> α canonical_sum -> α
    <tr><td>
        <span class="strong">interp_cs</span>
        <td>
        :α semi_ring -> α varmap -> α canonical_sum -> α
    <tr><td>
        <span class="strong">interp_m</span>
        <td>
        :α semi_ring -> α varmap -> α -> index list -> α
    <tr><td>
        <span class="strong">interp_sp</span>
        <td>
        :α semi_ring -> α varmap -> α spolynom -> α
    <tr><td>
        <span class="strong">interp_vl</span>
        <td>
        :α semi_ring -> α varmap -> index list -> α
    <tr><td>
        <span class="strong">ivl_aux</span>
        <td>
        :α semi_ring -> α varmap -> index -> index list -> α
    <tr><td>
        <span class="strong">monom_insert</span>
        <td>
        :α semi_ring -> α -> index list -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">monom_insert_tupled</span>
        <td>
        :α semi_ring # α # index list # α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">spolynom_CASE</span>
        <td>
        :α spolynom ->
         (index -> β) ->
         (α -> β) ->
         (α spolynom -> α spolynom -> β) ->
         (α spolynom -> α spolynom -> β) -> β
    <tr><td>
        <span class="strong">spolynom_normalize</span>
        <td>
        :α semi_ring -> α spolynom -> α canonical_sum
    <tr><td>
        <span class="strong">spolynom_simplify</span>
        <td>
        :α semi_ring -> α spolynom -> α canonical_sum
    <tr><td>
        <span class="strong">spolynom_size</span>
        <td>
        :(α -> num) -> α spolynom -> num
    <tr><td>
        <span class="strong">varlist_insert</span>
        <td>
        :α semi_ring -> index list -> α canonical_sum -> α canonical_sum
    <tr><td>
        <span class="strong">varlist_insert_tupled</span>
        <td>
        :α semi_ring # index list # α canonical_sum -> α canonical_sum

</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">canonical_sum_TY_DEF</span>
<DD>
<pre>
|- ∃rep.
     TYPE_DEFINITION
       (λa0'.
          ∀'canonical_sum' .
            (∀a0'.
               (a0' = ind_type$CONSTR 0 (ARB,ARB) (λn. ind_type$BOTTOM)) ∨
               (∃a0 a1 a2.
                  (a0' =
                   (λa0 a1 a2.
                      ind_type$CONSTR (SUC 0) (a0,a1)
                        (ind_type$FCONS a2 (λn. ind_type$BOTTOM))) a0 a1 a2) ∧
                  'canonical_sum' a2) ∨
               (∃a0 a1.
                  (a0' =
                   (λa0 a1.
                      ind_type$CONSTR (SUC (SUC 0)) (ARB,a0)
                        (ind_type$FCONS a1 (λn. ind_type$BOTTOM))) a0 a1) ∧
                  'canonical_sum' a1) ⇒
               'canonical_sum' a0') ⇒
            'canonical_sum' a0') rep
</pre>

<DT><span class="strong">canonical_sum_case_def</span>
<DD>
<pre>
|- (∀v f f1. canonical_sum_CASE Nil_monom v f f1 = v) ∧
   (∀a0 a1 a2 v f f1.
      canonical_sum_CASE (Cons_monom a0 a1 a2) v f f1 = f a0 a1 a2) ∧
   ∀a0 a1 v f f1. canonical_sum_CASE (Cons_varlist a0 a1) v f f1 = f1 a0 a1
</pre>

<DT><span class="strong">canonical_sum_size_def</span>
<DD>
<pre>
|- (∀f. canonical_sum_size f Nil_monom = 0) ∧
   (∀f a0 a1 a2.
      canonical_sum_size f (Cons_monom a0 a1 a2) =
      1 + (f a0 + (list_size index_size a1 + canonical_sum_size f a2))) ∧
   ∀f a0 a1.
     canonical_sum_size f (Cons_varlist a0 a1) =
     1 + (list_size index_size a0 + canonical_sum_size f a1)
</pre>

<DT><span class="strong">canonical_sum_merge_tupled_primitive_def</span>
<DD>
<pre>
|- canonical_sum_merge_tupled =
   WFREC
     (@R.
        WF R ∧
        (∀l2 c2 t2 t1 l1 c1 sr.
           R (sr,Cons_monom c1 l1 t1,t2)
             (sr,Cons_monom c1 l1 t1,Cons_monom c2 l2 t2)) ∧
        (∀l1 c1 t2 l2 c2 t1 sr.
           R (sr,t1,Cons_monom c2 l2 t2)
             (sr,Cons_monom c1 l1 t1,Cons_monom c2 l2 t2)) ∧
        (∀l2 c2 l1 c1 t2 t1 sr.
           R (sr,t1,t2) (sr,Cons_monom c1 l1 t1,Cons_monom c2 l2 t2)) ∧
        (∀l2 t2 t1 l1 c1 sr.
           R (sr,Cons_monom c1 l1 t1,t2)
             (sr,Cons_monom c1 l1 t1,Cons_varlist l2 t2)) ∧
        (∀l1 c1 t2 l2 t1 sr.
           R (sr,t1,Cons_varlist l2 t2)
             (sr,Cons_monom c1 l1 t1,Cons_varlist l2 t2)) ∧
        (∀l2 l1 c1 t2 t1 sr.
           R (sr,t1,t2) (sr,Cons_monom c1 l1 t1,Cons_varlist l2 t2)) ∧
        (∀l2 c2 t2 t1 l1 sr.
           R (sr,Cons_varlist l1 t1,t2)
             (sr,Cons_varlist l1 t1,Cons_monom c2 l2 t2)) ∧
        (∀l1 t2 l2 c2 t1 sr.
           R (sr,t1,Cons_monom c2 l2 t2)
             (sr,Cons_varlist l1 t1,Cons_monom c2 l2 t2)) ∧
        (∀l2 c2 l1 t2 t1 sr.
           R (sr,t1,t2) (sr,Cons_varlist l1 t1,Cons_monom c2 l2 t2)) ∧
        (∀l2 l1 t2 t1 sr.
           R (sr,t1,t2) (sr,Cons_varlist l1 t1,Cons_varlist l2 t2)) ∧
        (∀l1 t2 l2 t1 sr.
           R (sr,t1,Cons_varlist l2 t2)
             (sr,Cons_varlist l1 t1,Cons_varlist l2 t2)) ∧
        ∀l2 t2 t1 l1 sr.
          R (sr,Cons_varlist l1 t1,t2)
            (sr,Cons_varlist l1 t1,Cons_varlist l2 t2))
     (λcanonical_sum_merge_tupled a.
        case a of
          (sr,s1,Nil_monom) => I s1
        | (sr,Nil_monom,Cons_monom c2 l2 t2) => I (Cons_monom c2 l2 t2)
        | (sr,Cons_monom c1 l1 t1,Cons_monom c2 l2 t2) =>
            I
              (compare (list_compare index_compare l1 l2)
                 (Cons_monom c1 l1
                    (canonical_sum_merge_tupled (sr,t1,Cons_monom c2 l2 t2)))
                 (Cons_monom (sr.SRP c1 c2) l1
                    (canonical_sum_merge_tupled (sr,t1,t2)))
                 (Cons_monom c2 l2
                    (canonical_sum_merge_tupled (sr,Cons_monom c1 l1 t1,t2))))
        | (sr,Cons_varlist l1'' t1'',Cons_monom c2 l2 t2) =>
            I
              (compare (list_compare index_compare l1'' l2)
                 (Cons_varlist l1''
                    (canonical_sum_merge_tupled
                       (sr,t1'',Cons_monom c2 l2 t2)))
                 (Cons_monom (sr.SRP sr.SR1 c2) l1''
                    (canonical_sum_merge_tupled (sr,t1'',t2)))
                 (Cons_monom c2 l2
                    (canonical_sum_merge_tupled
                       (sr,Cons_varlist l1'' t1'',t2))))
        | (sr,Nil_monom,Cons_varlist l2' t2') => I (Cons_varlist l2' t2')
        | (sr,Cons_monom c1' l1' t1',Cons_varlist l2' t2') =>
            I
              (compare (list_compare index_compare l1' l2')
                 (Cons_monom c1' l1'
                    (canonical_sum_merge_tupled
                       (sr,t1',Cons_varlist l2' t2')))
                 (Cons_monom (sr.SRP c1' sr.SR1) l1'
                    (canonical_sum_merge_tupled (sr,t1',t2')))
                 (Cons_varlist l2'
                    (canonical_sum_merge_tupled
                       (sr,Cons_monom c1' l1' t1',t2'))))
        | (sr,Cons_varlist l1''' t1''',Cons_varlist l2' t2') =>
            I
              (compare (list_compare index_compare l1''' l2')
                 (Cons_varlist l1'''
                    (canonical_sum_merge_tupled
                       (sr,t1''',Cons_varlist l2' t2')))
                 (Cons_monom (sr.SRP sr.SR1 sr.SR1) l1'''
                    (canonical_sum_merge_tupled (sr,t1''',t2')))
                 (Cons_varlist l2'
                    (canonical_sum_merge_tupled
                       (sr,Cons_varlist l1''' t1''',t2')))))
</pre>

<DT><span class="strong">canonical_sum_merge_curried_def</span>
<DD>
<pre>
|- ∀x x1 x2.
     canonical_sum_merge x x1 x2 = canonical_sum_merge_tupled (x,x1,x2)
</pre>

<DT><span class="strong">monom_insert_tupled_primitive_def</span>
<DD>
<pre>
|- monom_insert_tupled =
   WFREC
     (@R.
        WF R ∧
        (∀l2 c2 t2 l1 c1 sr. R (sr,c1,l1,t2) (sr,c1,l1,Cons_monom c2 l2 t2)) ∧
        ∀l2 t2 l1 c1 sr. R (sr,c1,l1,t2) (sr,c1,l1,Cons_varlist l2 t2))
     (λmonom_insert_tupled a.
        case a of
          (sr,c1,l1,Nil_monom) => I (Cons_monom c1 l1 Nil_monom)
        | (sr,c1,l1,Cons_monom c2 l2 t2) =>
            I
              (compare (list_compare index_compare l1 l2)
                 (Cons_monom c1 l1 (Cons_monom c2 l2 t2))
                 (Cons_monom (sr.SRP c1 c2) l1 t2)
                 (Cons_monom c2 l2 (monom_insert_tupled (sr,c1,l1,t2))))
        | (sr,c1,l1,Cons_varlist l2' t2') =>
            I
              (compare (list_compare index_compare l1 l2')
                 (Cons_monom c1 l1 (Cons_varlist l2' t2'))
                 (Cons_monom (sr.SRP c1 sr.SR1) l1 t2')
                 (Cons_varlist l2' (monom_insert_tupled (sr,c1,l1,t2')))))
</pre>

<DT><span class="strong">monom_insert_curried_def</span>
<DD>
<pre>
|- ∀x x1 x2 x3. monom_insert x x1 x2 x3 = monom_insert_tupled (x,x1,x2,x3)
</pre>

<DT><span class="strong">varlist_insert_tupled_primitive_def</span>
<DD>
<pre>
|- varlist_insert_tupled =
   WFREC
     (@R.
        WF R ∧ (∀l2 c2 t2 l1 sr. R (sr,l1,t2) (sr,l1,Cons_monom c2 l2 t2)) ∧
        ∀l2 t2 l1 sr. R (sr,l1,t2) (sr,l1,Cons_varlist l2 t2))
     (λvarlist_insert_tupled a.
        case a of
          (sr,l1,Nil_monom) => I (Cons_varlist l1 Nil_monom)
        | (sr,l1,Cons_monom c2 l2 t2) =>
            I
              (compare (list_compare index_compare l1 l2)
                 (Cons_varlist l1 (Cons_monom c2 l2 t2))
                 (Cons_monom (sr.SRP sr.SR1 c2) l1 t2)
                 (Cons_monom c2 l2 (varlist_insert_tupled (sr,l1,t2))))
        | (sr,l1,Cons_varlist l2' t2') =>
            I
              (compare (list_compare index_compare l1 l2')
                 (Cons_varlist l1 (Cons_varlist l2' t2'))
                 (Cons_monom (sr.SRP sr.SR1 sr.SR1) l1 t2')
                 (Cons_varlist l2' (varlist_insert_tupled (sr,l1,t2')))))
</pre>

<DT><span class="strong">varlist_insert_curried_def</span>
<DD>
<pre>
|- ∀x x1 x2. varlist_insert x x1 x2 = varlist_insert_tupled (x,x1,x2)
</pre>

<DT><span class="strong">canonical_sum_scalar_def</span>
<DD>
<pre>
|- (∀sr c0 c l t.
      canonical_sum_scalar sr c0 (Cons_monom c l t) =
      Cons_monom (sr.SRM c0 c) l (canonical_sum_scalar sr c0 t)) ∧
   (∀sr c0 l t.
      canonical_sum_scalar sr c0 (Cons_varlist l t) =
      Cons_monom c0 l (canonical_sum_scalar sr c0 t)) ∧
   ∀sr c0. canonical_sum_scalar sr c0 Nil_monom = Nil_monom
</pre>

<DT><span class="strong">canonical_sum_scalar2_def</span>
<DD>
<pre>
|- (∀sr l0 c l t.
      canonical_sum_scalar2 sr l0 (Cons_monom c l t) =
      monom_insert sr c (list_merge index_lt l0 l)
        (canonical_sum_scalar2 sr l0 t)) ∧
   (∀sr l0 l t.
      canonical_sum_scalar2 sr l0 (Cons_varlist l t) =
      varlist_insert sr (list_merge index_lt l0 l)
        (canonical_sum_scalar2 sr l0 t)) ∧
   ∀sr l0. canonical_sum_scalar2 sr l0 Nil_monom = Nil_monom
</pre>

<DT><span class="strong">canonical_sum_scalar3_def</span>
<DD>
<pre>
|- (∀sr c0 l0 c l t.
      canonical_sum_scalar3 sr c0 l0 (Cons_monom c l t) =
      monom_insert sr (sr.SRM c0 c) (list_merge index_lt l0 l)
        (canonical_sum_scalar3 sr c0 l0 t)) ∧
   (∀sr c0 l0 l t.
      canonical_sum_scalar3 sr c0 l0 (Cons_varlist l t) =
      monom_insert sr c0 (list_merge index_lt l0 l)
        (canonical_sum_scalar3 sr c0 l0 t)) ∧
   ∀sr c0 l0. canonical_sum_scalar3 sr c0 l0 Nil_monom = Nil_monom
</pre>

<DT><span class="strong">canonical_sum_prod_def</span>
<DD>
<pre>
|- (∀sr c1 l1 t1 s2.
      canonical_sum_prod sr (Cons_monom c1 l1 t1) s2 =
      canonical_sum_merge sr (canonical_sum_scalar3 sr c1 l1 s2)
        (canonical_sum_prod sr t1 s2)) ∧
   (∀sr l1 t1 s2.
      canonical_sum_prod sr (Cons_varlist l1 t1) s2 =
      canonical_sum_merge sr (canonical_sum_scalar2 sr l1 s2)
        (canonical_sum_prod sr t1 s2)) ∧
   ∀sr s2. canonical_sum_prod sr Nil_monom s2 = Nil_monom
</pre>

<DT><span class="strong">canonical_sum_simplify_def</span>
<DD>
<pre>
|- (∀sr c l t.
      canonical_sum_simplify sr (Cons_monom c l t) =
      if c = sr.SR0 then canonical_sum_simplify sr t
      else if c = sr.SR1 then Cons_varlist l (canonical_sum_simplify sr t)
      else Cons_monom c l (canonical_sum_simplify sr t)) ∧
   (∀sr l t.
      canonical_sum_simplify sr (Cons_varlist l t) =
      Cons_varlist l (canonical_sum_simplify sr t)) ∧
   ∀sr. canonical_sum_simplify sr Nil_monom = Nil_monom
</pre>

<DT><span class="strong">ivl_aux_def</span>
<DD>
<pre>
|- (∀sr vm x. ivl_aux sr vm x [] = varmap_find x vm) ∧
   ∀sr vm x x' t'.
     ivl_aux sr vm x (x'::t') =
     sr.SRM (varmap_find x vm) (ivl_aux sr vm x' t')
</pre>

<DT><span class="strong">interp_vl_def</span>
<DD>
<pre>
|- (∀sr vm. interp_vl sr vm [] = sr.SR1) ∧
   ∀sr vm x t. interp_vl sr vm (x::t) = ivl_aux sr vm x t
</pre>

<DT><span class="strong">interp_m_def</span>
<DD>
<pre>
|- (∀sr vm c. interp_m sr vm c [] = c) ∧
   ∀sr vm c x t. interp_m sr vm c (x::t) = sr.SRM c (ivl_aux sr vm x t)
</pre>

<DT><span class="strong">ics_aux_def</span>
<DD>
<pre>
|- (∀sr vm a. ics_aux sr vm a Nil_monom = a) ∧
   (∀sr vm a l t.
      ics_aux sr vm a (Cons_varlist l t) =
      sr.SRP a (ics_aux sr vm (interp_vl sr vm l) t)) ∧
   ∀sr vm a c l t.
     ics_aux sr vm a (Cons_monom c l t) =
     sr.SRP a (ics_aux sr vm (interp_m sr vm c l) t)
</pre>

<DT><span class="strong">interp_cs_def</span>
<DD>
<pre>
|- (∀sr vm. interp_cs sr vm Nil_monom = sr.SR0) ∧
   (∀sr vm l t.
      interp_cs sr vm (Cons_varlist l t) =
      ics_aux sr vm (interp_vl sr vm l) t) ∧
   ∀sr vm c l t.
     interp_cs sr vm (Cons_monom c l t) = ics_aux sr vm (interp_m sr vm c l) t
</pre>

<DT><span class="strong">spolynom_TY_DEF</span>
<DD>
<pre>
|- ∃rep.
     TYPE_DEFINITION
       (λa0'.
          ∀'spolynom' .
            (∀a0'.
               (∃a.
                  a0' =
                  (λa. ind_type$CONSTR 0 (a,ARB) (λn. ind_type$BOTTOM)) a) ∨
               (∃a.
                  a0' =
                  (λa. ind_type$CONSTR (SUC 0) (ARB,a) (λn. ind_type$BOTTOM))
                    a) ∨
               (∃a0 a1.
                  (a0' =
                   (λa0 a1.
                      ind_type$CONSTR (SUC (SUC 0)) (ARB,ARB)
                        (ind_type$FCONS a0
                           (ind_type$FCONS a1 (λn. ind_type$BOTTOM)))) a0
                     a1) ∧ 'spolynom' a0 ∧ 'spolynom' a1) ∨
               (∃a0 a1.
                  (a0' =
                   (λa0 a1.
                      ind_type$CONSTR (SUC (SUC (SUC 0))) (ARB,ARB)
                        (ind_type$FCONS a0
                           (ind_type$FCONS a1 (λn. ind_type$BOTTOM)))) a0
                     a1) ∧ 'spolynom' a0 ∧ 'spolynom' a1) ⇒
               'spolynom' a0') ⇒
            'spolynom' a0') rep
</pre>

<DT><span class="strong">spolynom_case_def</span>
<DD>
<pre>
|- (∀a f f1 f2 f3. spolynom_CASE (SPvar a) f f1 f2 f3 = f a) ∧
   (∀a f f1 f2 f3. spolynom_CASE (SPconst a) f f1 f2 f3 = f1 a) ∧
   (∀a0 a1 f f1 f2 f3. spolynom_CASE (SPplus a0 a1) f f1 f2 f3 = f2 a0 a1) ∧
   ∀a0 a1 f f1 f2 f3. spolynom_CASE (SPmult a0 a1) f f1 f2 f3 = f3 a0 a1
</pre>

<DT><span class="strong">spolynom_size_def</span>
<DD>
<pre>
|- (∀f a. spolynom_size f (SPvar a) = 1 + index_size a) ∧
   (∀f a. spolynom_size f (SPconst a) = 1 + f a) ∧
   (∀f a0 a1.
      spolynom_size f (SPplus a0 a1) =
      1 + (spolynom_size f a0 + spolynom_size f a1)) ∧
   ∀f a0 a1.
     spolynom_size f (SPmult a0 a1) =
     1 + (spolynom_size f a0 + spolynom_size f a1)
</pre>

<DT><span class="strong">spolynom_normalize_def</span>
<DD>
<pre>
|- (∀sr i. spolynom_normalize sr (SPvar i) = Cons_varlist [i] Nil_monom) ∧
   (∀sr c. spolynom_normalize sr (SPconst c) = Cons_monom c [] Nil_monom) ∧
   (∀sr l r.
      spolynom_normalize sr (SPplus l r) =
      canonical_sum_merge sr (spolynom_normalize sr l)
        (spolynom_normalize sr r)) ∧
   ∀sr l r.
     spolynom_normalize sr (SPmult l r) =
     canonical_sum_prod sr (spolynom_normalize sr l) (spolynom_normalize sr r)
</pre>

<DT><span class="strong">spolynom_simplify_def</span>
<DD>
<pre>
|- ∀sr x.
     spolynom_simplify sr x =
     canonical_sum_simplify sr (spolynom_normalize sr x)
</pre>

<DT><span class="strong">interp_sp_def</span>
<DD>
<pre>
|- (∀sr vm c. interp_sp sr vm (SPconst c) = c) ∧
   (∀sr vm i. interp_sp sr vm (SPvar i) = varmap_find i vm) ∧
   (∀sr vm p1 p2.
      interp_sp sr vm (SPplus p1 p2) =
      sr.SRP (interp_sp sr vm p1) (interp_sp sr vm p2)) ∧
   ∀sr vm p1 p2.
     interp_sp sr vm (SPmult p1 p2) =
     sr.SRM (interp_sp sr vm p1) (interp_sp sr vm p2)
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">datatype_canonical_sum</span>
<DD>
<pre>
|- DATATYPE (canonical_sum Nil_monom Cons_monom Cons_varlist)
</pre>

<DT><span class="strong">canonical_sum_11</span>
<DD>
<pre>
|- (∀a0 a1 a2 a0' a1' a2'.
      (Cons_monom a0 a1 a2 = Cons_monom a0' a1' a2') ⇔
      (a0 = a0') ∧ (a1 = a1') ∧ (a2 = a2')) ∧
   ∀a0 a1 a0' a1'.
     (Cons_varlist a0 a1 = Cons_varlist a0' a1') ⇔ (a0 = a0') ∧ (a1 = a1')
</pre>

<DT><span class="strong">canonical_sum_distinct</span>
<DD>
<pre>
|- (∀a2 a1 a0. Nil_monom ≠ Cons_monom a0 a1 a2) ∧
   (∀a1 a0. Nil_monom ≠ Cons_varlist a0 a1) ∧
   ∀a2 a1' a1 a0' a0. Cons_monom a0 a1 a2 ≠ Cons_varlist a0' a1'
</pre>

<DT><span class="strong">canonical_sum_case_cong</span>
<DD>
<pre>
|- ∀M M' v f f1.
     (M = M') ∧ ((M' = Nil_monom) ⇒ (v = v')) ∧
     (∀a0 a1 a2. (M' = Cons_monom a0 a1 a2) ⇒ (f a0 a1 a2 = f' a0 a1 a2)) ∧
     (∀a0 a1. (M' = Cons_varlist a0 a1) ⇒ (f1 a0 a1 = f1' a0 a1)) ⇒
     (canonical_sum_CASE M v f f1 = canonical_sum_CASE M' v' f' f1')
</pre>

<DT><span class="strong">canonical_sum_nchotomy</span>
<DD>
<pre>
|- ∀cc.
     (cc = Nil_monom) ∨ (∃a l c. cc = Cons_monom a l c) ∨
     ∃l c. cc = Cons_varlist l c
</pre>

<DT><span class="strong">canonical_sum_Axiom</span>
<DD>
<pre>
|- ∀f0 f1 f2.
     ∃fn.
       (fn Nil_monom = f0) ∧
       (∀a0 a1 a2. fn (Cons_monom a0 a1 a2) = f1 a0 a1 a2 (fn a2)) ∧
       ∀a0 a1. fn (Cons_varlist a0 a1) = f2 a0 a1 (fn a1)
</pre>

<DT><span class="strong">canonical_sum_induction</span>
<DD>
<pre>
|- ∀P.
     P Nil_monom ∧ (∀c. P c ⇒ ∀l a. P (Cons_monom a l c)) ∧
     (∀c. P c ⇒ ∀l. P (Cons_varlist l c)) ⇒
     ∀c. P c
</pre>

<DT><span class="strong">canonical_sum_merge_ind</span>
<DD>
<pre>
|- ∀P.
     (∀sr c1 l1 t1 c2 l2 t2.
        P sr t1 t2 ∧ P sr t1 (Cons_monom c2 l2 t2) ∧
        P sr (Cons_monom c1 l1 t1) t2 ⇒
        P sr (Cons_monom c1 l1 t1) (Cons_monom c2 l2 t2)) ∧
     (∀sr c1 l1 t1 l2 t2.
        P sr t1 t2 ∧ P sr t1 (Cons_varlist l2 t2) ∧
        P sr (Cons_monom c1 l1 t1) t2 ⇒
        P sr (Cons_monom c1 l1 t1) (Cons_varlist l2 t2)) ∧
     (∀sr l1 t1 c2 l2 t2.
        P sr t1 t2 ∧ P sr t1 (Cons_monom c2 l2 t2) ∧
        P sr (Cons_varlist l1 t1) t2 ⇒
        P sr (Cons_varlist l1 t1) (Cons_monom c2 l2 t2)) ∧
     (∀sr l1 t1 l2 t2.
        P sr t1 t2 ∧ P sr t1 (Cons_varlist l2 t2) ∧
        P sr (Cons_varlist l1 t1) t2 ⇒
        P sr (Cons_varlist l1 t1) (Cons_varlist l2 t2)) ∧
     (∀sr s1. P sr s1 Nil_monom) ∧
     (∀sr v4 v5 v6. P sr Nil_monom (Cons_monom v4 v5 v6)) ∧
     (∀sr v7 v8. P sr Nil_monom (Cons_varlist v7 v8)) ⇒
     ∀v v1 v2. P v v1 v2
</pre>

<DT><span class="strong">canonical_sum_merge_def</span>
<DD>
<pre>
|- (∀t2 t1 sr l2 l1 c2 c1.
      canonical_sum_merge sr (Cons_monom c1 l1 t1) (Cons_monom c2 l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_monom c1 l1 (canonical_sum_merge sr t1 (Cons_monom c2 l2 t2)))
        (Cons_monom (sr.SRP c1 c2) l1 (canonical_sum_merge sr t1 t2))
        (Cons_monom c2 l2
           (canonical_sum_merge sr (Cons_monom c1 l1 t1) t2))) ∧
   (∀t2 t1 sr l2 l1 c1.
      canonical_sum_merge sr (Cons_monom c1 l1 t1) (Cons_varlist l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_monom c1 l1 (canonical_sum_merge sr t1 (Cons_varlist l2 t2)))
        (Cons_monom (sr.SRP c1 sr.SR1) l1 (canonical_sum_merge sr t1 t2))
        (Cons_varlist l2 (canonical_sum_merge sr (Cons_monom c1 l1 t1) t2))) ∧
   (∀t2 t1 sr l2 l1 c2.
      canonical_sum_merge sr (Cons_varlist l1 t1) (Cons_monom c2 l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_varlist l1 (canonical_sum_merge sr t1 (Cons_monom c2 l2 t2)))
        (Cons_monom (sr.SRP sr.SR1 c2) l1 (canonical_sum_merge sr t1 t2))
        (Cons_monom c2 l2 (canonical_sum_merge sr (Cons_varlist l1 t1) t2))) ∧
   (∀t2 t1 sr l2 l1.
      canonical_sum_merge sr (Cons_varlist l1 t1) (Cons_varlist l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_varlist l1 (canonical_sum_merge sr t1 (Cons_varlist l2 t2)))
        (Cons_monom (sr.SRP sr.SR1 sr.SR1) l1 (canonical_sum_merge sr t1 t2))
        (Cons_varlist l2 (canonical_sum_merge sr (Cons_varlist l1 t1) t2))) ∧
   (∀sr s1. canonical_sum_merge sr s1 Nil_monom = s1) ∧
   (∀v6 v5 v4 sr.
      canonical_sum_merge sr Nil_monom (Cons_monom v4 v5 v6) =
      Cons_monom v4 v5 v6) ∧
   ∀v8 v7 sr.
     canonical_sum_merge sr Nil_monom (Cons_varlist v7 v8) =
     Cons_varlist v7 v8
</pre>

<DT><span class="strong">monom_insert_ind</span>
<DD>
<pre>
|- ∀P.
     (∀sr c1 l1 c2 l2 t2. P sr c1 l1 t2 ⇒ P sr c1 l1 (Cons_monom c2 l2 t2)) ∧
     (∀sr c1 l1 l2 t2. P sr c1 l1 t2 ⇒ P sr c1 l1 (Cons_varlist l2 t2)) ∧
     (∀sr c1 l1. P sr c1 l1 Nil_monom) ⇒
     ∀v v1 v2 v3. P v v1 v2 v3
</pre>

<DT><span class="strong">monom_insert_def</span>
<DD>
<pre>
|- (∀t2 sr l2 l1 c2 c1.
      monom_insert sr c1 l1 (Cons_monom c2 l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_monom c1 l1 (Cons_monom c2 l2 t2))
        (Cons_monom (sr.SRP c1 c2) l1 t2)
        (Cons_monom c2 l2 (monom_insert sr c1 l1 t2))) ∧
   (∀t2 sr l2 l1 c1.
      monom_insert sr c1 l1 (Cons_varlist l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_monom c1 l1 (Cons_varlist l2 t2))
        (Cons_monom (sr.SRP c1 sr.SR1) l1 t2)
        (Cons_varlist l2 (monom_insert sr c1 l1 t2))) ∧
   ∀sr l1 c1. monom_insert sr c1 l1 Nil_monom = Cons_monom c1 l1 Nil_monom
</pre>

<DT><span class="strong">varlist_insert_ind</span>
<DD>
<pre>
|- ∀P.
     (∀sr l1 c2 l2 t2. P sr l1 t2 ⇒ P sr l1 (Cons_monom c2 l2 t2)) ∧
     (∀sr l1 l2 t2. P sr l1 t2 ⇒ P sr l1 (Cons_varlist l2 t2)) ∧
     (∀sr l1. P sr l1 Nil_monom) ⇒
     ∀v v1 v2. P v v1 v2
</pre>

<DT><span class="strong">varlist_insert_def</span>
<DD>
<pre>
|- (∀t2 sr l2 l1 c2.
      varlist_insert sr l1 (Cons_monom c2 l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_varlist l1 (Cons_monom c2 l2 t2))
        (Cons_monom (sr.SRP sr.SR1 c2) l1 t2)
        (Cons_monom c2 l2 (varlist_insert sr l1 t2))) ∧
   (∀t2 sr l2 l1.
      varlist_insert sr l1 (Cons_varlist l2 t2) =
      compare (list_compare index_compare l1 l2)
        (Cons_varlist l1 (Cons_varlist l2 t2))
        (Cons_monom (sr.SRP sr.SR1 sr.SR1) l1 t2)
        (Cons_varlist l2 (varlist_insert sr l1 t2))) ∧
   ∀sr l1. varlist_insert sr l1 Nil_monom = Cons_varlist l1 Nil_monom
</pre>

<DT><span class="strong">ivl_aux_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm v i.
       ivl_aux sr vm i v = sr.SRM (varmap_find i vm) (interp_vl sr vm v)
</pre>

<DT><span class="strong">varlist_merge_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm x y.
       interp_vl sr vm (list_merge index_lt x y) =
       sr.SRM (interp_vl sr vm x) (interp_vl sr vm y)
</pre>

<DT><span class="strong">ics_aux_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm x s. ics_aux sr vm x s = sr.SRP x (interp_cs sr vm s)
</pre>

<DT><span class="strong">interp_m_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm x l. interp_m sr vm x l = sr.SRM x (interp_vl sr vm l)
</pre>

<DT><span class="strong">canonical_sum_merge_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm x y.
       interp_cs sr vm (canonical_sum_merge sr x y) =
       sr.SRP (interp_cs sr vm x) (interp_cs sr vm y)
</pre>

<DT><span class="strong">monom_insert_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm a l s.
       interp_cs sr vm (monom_insert sr a l s) =
       sr.SRP (sr.SRM a (interp_vl sr vm l)) (interp_cs sr vm s)
</pre>

<DT><span class="strong">varlist_insert_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm l s.
       interp_cs sr vm (varlist_insert sr l s) =
       sr.SRP (interp_vl sr vm l) (interp_cs sr vm s)
</pre>

<DT><span class="strong">canonical_sum_scalar_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm a s.
       interp_cs sr vm (canonical_sum_scalar sr a s) =
       sr.SRM a (interp_cs sr vm s)
</pre>

<DT><span class="strong">canonical_sum_scalar2_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm l s.
       interp_cs sr vm (canonical_sum_scalar2 sr l s) =
       sr.SRM (interp_vl sr vm l) (interp_cs sr vm s)
</pre>

<DT><span class="strong">canonical_sum_scalar3_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm c l s.
       interp_cs sr vm (canonical_sum_scalar3 sr c l s) =
       sr.SRM (sr.SRM c (interp_vl sr vm l)) (interp_cs sr vm s)
</pre>

<DT><span class="strong">canonical_sum_prod_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm x y.
       interp_cs sr vm (canonical_sum_prod sr x y) =
       sr.SRM (interp_cs sr vm x) (interp_cs sr vm y)
</pre>

<DT><span class="strong">canonical_sum_simplify_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm s. interp_cs sr vm (canonical_sum_simplify sr s) = interp_cs sr vm s
</pre>

<DT><span class="strong">datatype_spolynom</span>
<DD>
<pre>
|- DATATYPE (spolynom SPvar SPconst SPplus SPmult)
</pre>

<DT><span class="strong">spolynom_11</span>
<DD>
<pre>
|- (∀a a'. (SPvar a = SPvar a') ⇔ (a = a')) ∧
   (∀a a'. (SPconst a = SPconst a') ⇔ (a = a')) ∧
   (∀a0 a1 a0' a1'.
      (SPplus a0 a1 = SPplus a0' a1') ⇔ (a0 = a0') ∧ (a1 = a1')) ∧
   ∀a0 a1 a0' a1'. (SPmult a0 a1 = SPmult a0' a1') ⇔ (a0 = a0') ∧ (a1 = a1')
</pre>

<DT><span class="strong">spolynom_distinct</span>
<DD>
<pre>
|- (∀a' a. SPvar a ≠ SPconst a') ∧ (∀a1 a0 a. SPvar a ≠ SPplus a0 a1) ∧
   (∀a1 a0 a. SPvar a ≠ SPmult a0 a1) ∧ (∀a1 a0 a. SPconst a ≠ SPplus a0 a1) ∧
   (∀a1 a0 a. SPconst a ≠ SPmult a0 a1) ∧
   ∀a1' a1 a0' a0. SPplus a0 a1 ≠ SPmult a0' a1'
</pre>

<DT><span class="strong">spolynom_case_cong</span>
<DD>
<pre>
|- ∀M M' f f1 f2 f3.
     (M = M') ∧ (∀a. (M' = SPvar a) ⇒ (f a = f' a)) ∧
     (∀a. (M' = SPconst a) ⇒ (f1 a = f1' a)) ∧
     (∀a0 a1. (M' = SPplus a0 a1) ⇒ (f2 a0 a1 = f2' a0 a1)) ∧
     (∀a0 a1. (M' = SPmult a0 a1) ⇒ (f3 a0 a1 = f3' a0 a1)) ⇒
     (spolynom_CASE M f f1 f2 f3 = spolynom_CASE M' f' f1' f2' f3')
</pre>

<DT><span class="strong">spolynom_nchotomy</span>
<DD>
<pre>
|- ∀ss.
     (∃i. ss = SPvar i) ∨ (∃a. ss = SPconst a) ∨ (∃s s0. ss = SPplus s s0) ∨
     ∃s s0. ss = SPmult s s0
</pre>

<DT><span class="strong">spolynom_Axiom</span>
<DD>
<pre>
|- ∀f0 f1 f2 f3.
     ∃fn.
       (∀a. fn (SPvar a) = f0 a) ∧ (∀a. fn (SPconst a) = f1 a) ∧
       (∀a0 a1. fn (SPplus a0 a1) = f2 a0 a1 (fn a0) (fn a1)) ∧
       ∀a0 a1. fn (SPmult a0 a1) = f3 a0 a1 (fn a0) (fn a1)
</pre>

<DT><span class="strong">spolynom_induction</span>
<DD>
<pre>
|- ∀P.
     (∀i. P (SPvar i)) ∧ (∀a. P (SPconst a)) ∧
     (∀s s0. P s ∧ P s0 ⇒ P (SPplus s s0)) ∧
     (∀s s0. P s ∧ P s0 ⇒ P (SPmult s s0)) ⇒
     ∀s. P s
</pre>

<DT><span class="strong">spolynomial_normalize_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm p. interp_cs sr vm (spolynom_normalize sr p) = interp_sp sr vm p
</pre>

<DT><span class="strong">spolynomial_simplify_ok</span>
<DD>
<pre>
|- ∀sr.
     is_semi_ring sr ⇒
     ∀vm p. interp_cs sr vm (spolynom_simplify sr p) = interp_sp sr vm p
</pre>

</DL>



<hr>
</body>
</html>
