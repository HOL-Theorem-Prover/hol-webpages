<HTML><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon"><TITLE>Structure mlibUseful</TITLE></HEAD>
<BODY BGCOLOR="#fbf2e7">
<H1>Structure mlibUseful</H1>
<HR><TABLE WIDTH=100%><TR ALIGN = CENTER>
<TH><A HREF="../../../src/metis/mlibUseful.sml" type="text/plain">Source File</A>
<TH><A HREF="idIndex.html">Identifier index</A>
<TH><A HREF="TheoryIndex.html">Theory binding index</A>
</TABLE><HR>
<PRE>
<A NAME="line1"></A>(* ========================================================================= *)
<A NAME="line2"></A>(* ML UTILITY FUNCTIONS                                                      *)
<A NAME="line3"></A>(* Copyright (c) 2001-2004 Joe Hurd.                                         *)
<A NAME="line4"></A>(* ========================================================================= *)
<A NAME="line5"></A>
<A NAME="line6"></A>signature mlibUseful =
<A NAME="line7"></A>sig
<A NAME="line8"></A>
<A NAME="line9"></A>(* Exceptions, profiling and tracing *)
<A NAME="line10"></A>exception Error of string
<A NAME="line11"></A>exception Bug of string
<A NAME="line12"></A>val report      : exn -&gt; string
<A NAME="line13"></A>val assert      : bool -&gt; exn -&gt; unit
<A NAME="line14"></A>val try         : ('a -&gt; 'b) -&gt; 'a -&gt; 'b
<A NAME="line15"></A>val total       : ('a -&gt; 'b) -&gt; 'a -&gt; 'b option
<A NAME="line16"></A>val can         : ('a -&gt; 'b) -&gt; 'a -&gt; bool
<A NAME="line17"></A>val partial     : exn -&gt; ('a -&gt; 'b option) -&gt; 'a -&gt; 'b
<A NAME="line18"></A>val timed       : ('a -&gt; 'b) -&gt; 'a -&gt; real * 'b
<A NAME="line19"></A>val timed_many  : ('a -&gt; 'b) -&gt; 'a -&gt; real * 'b
<A NAME="line20"></A>val trace_level : int ref
<A NAME="line21"></A>val traces      : {module : string, alignment : int -&gt; int} list ref
<A NAME="line22"></A>val tracing     : {module : string, level : int} -&gt; bool
<A NAME="line23"></A>val trace       : string -&gt; unit
<A NAME="line24"></A>
<A NAME="line25"></A>(* Combinators *)
<A NAME="line26"></A>val C      : ('a -&gt; 'b -&gt; 'c) -&gt; 'b -&gt; 'a -&gt; 'c
<A NAME="line27"></A>val I      : 'a -&gt; 'a
<A NAME="line28"></A>val K      : 'a -&gt; 'b -&gt; 'a
<A NAME="line29"></A>val S      : ('a -&gt; 'b -&gt; 'c) -&gt; ('a -&gt; 'b) -&gt; 'a -&gt; 'c
<A NAME="line30"></A>val W      : ('a -&gt; 'a -&gt; 'b) -&gt; 'a -&gt; 'b
<A NAME="line31"></A>val oo     : ('a -&gt; 'b) * ('c -&gt; 'd -&gt; 'a) -&gt; 'c -&gt; 'd -&gt; 'b
<A NAME="line32"></A>val ##     : ('a -&gt; 'c) * ('b -&gt; 'd) -&gt; 'a * 'b -&gt; 'c * 'd
<A NAME="line33"></A>val funpow : int -&gt; ('a -&gt; 'a) -&gt; 'a -&gt; 'a
<A NAME="line34"></A>
<A NAME="line35"></A>(* Booleans *)
<A NAME="line36"></A>val bool_to_string : bool -&gt; string
<A NAME="line37"></A>val non            : ('a -&gt; bool) -&gt; 'a -&gt; bool
<A NAME="line38"></A>val bool_compare   : bool * bool -&gt; order
<A NAME="line39"></A>
<A NAME="line40"></A>(* Pairs *)
<A NAME="line41"></A>val D       : 'a -&gt; 'a * 'a
<A NAME="line42"></A>val Df      : ('a -&gt; 'b) -&gt; 'a * 'a -&gt; 'b * 'b
<A NAME="line43"></A>val fst     : 'a * 'b -&gt; 'a
<A NAME="line44"></A>val snd     : 'a * 'b -&gt; 'b
<A NAME="line45"></A>val pair    : 'a -&gt; 'b -&gt; 'a * 'b
<A NAME="line46"></A>val swap    : 'a * 'b -&gt; 'b * 'a
<A NAME="line47"></A>val curry   : ('a * 'b -&gt; 'c) -&gt; 'a -&gt; 'b -&gt; 'c
<A NAME="line48"></A>val uncurry : ('a -&gt; 'b -&gt; 'c) -&gt; 'a * 'b -&gt; 'c
<A NAME="line49"></A>val equal   : ''a -&gt; ''a -&gt; bool
<A NAME="line50"></A>
<A NAME="line51"></A>(* State transformers *)
<A NAME="line52"></A>val unit   : 'a -&gt; 's -&gt; 'a * 's
<A NAME="line53"></A>val bind   : ('s -&gt; 'a * 's) -&gt; ('a -&gt; 's -&gt; 'b * 's) -&gt; 's -&gt; 'b * 's
<A NAME="line54"></A>val mmap   : ('a -&gt; 'b) -&gt; ('s -&gt; 'a * 's) -&gt; 's -&gt; 'b * 's
<A NAME="line55"></A>val mjoin  : ('s -&gt; ('s -&gt; 'a * 's) * 's) -&gt; 's -&gt; 'a * 's
<A NAME="line56"></A>val mwhile : ('a -&gt; bool) -&gt; ('a -&gt; 's -&gt; 'a * 's) -&gt; 'a -&gt; 's -&gt; 'a * 's
<A NAME="line57"></A>
<A NAME="line58"></A>(* Lists: note we count elements from 0 *)
<A NAME="line59"></A>val cons         : 'a -&gt; 'a list -&gt; 'a list
<A NAME="line60"></A>val hd_tl        : 'a list -&gt; 'a * 'a list
<A NAME="line61"></A>val append       : 'a list -&gt; 'a list -&gt; 'a list
<A NAME="line62"></A>val sing         : 'a -&gt; 'a list
<A NAME="line63"></A>val first        : ('a -&gt; 'b option) -&gt; 'a list -&gt; 'b option
<A NAME="line64"></A>val index        : ('a -&gt; bool) -&gt; 'a list -&gt; int option
<A NAME="line65"></A>val maps         : ('a -&gt; 's -&gt; 'b * 's) -&gt; 'a list -&gt; 's -&gt; 'b list * 's
<A NAME="line66"></A>val partial_maps : ('a -&gt; 's -&gt; 'b option * 's) -&gt; 'a list -&gt; 's -&gt; 'b list * 's
<A NAME="line67"></A>val enumerate    : int -&gt; 'a list -&gt; (int * 'a) list
<A NAME="line68"></A>val zipwith      : ('a -&gt; 'b -&gt; 'c) -&gt; 'a list -&gt; 'b list -&gt; 'c list
<A NAME="line69"></A>val zip          : 'a list -&gt; 'b list -&gt; ('a * 'b) list
<A NAME="line70"></A>val unzip        : ('a * 'b) list -&gt; 'a list * 'b list
<A NAME="line71"></A>val cartwith     : ('a -&gt; 'b -&gt; 'c) -&gt; 'a list -&gt; 'b list -&gt; 'c list
<A NAME="line72"></A>val cart         : 'a list -&gt; 'b list -&gt; ('a * 'b) list
<A NAME="line73"></A>val divide       : 'a list -&gt; int -&gt; 'a list * 'a list      (* Subscript *)
<A NAME="line74"></A>val update_nth   : ('a -&gt; 'a) -&gt; int -&gt; 'a list -&gt; 'a list  (* Subscript *)
<A NAME="line75"></A>val shared_map   : ('a -&gt; 'a) -&gt; 'a list -&gt; 'a list  (* preserves sharing *)
<A NAME="line76"></A>
<A NAME="line77"></A>(* Lists-as-sets *)
<A NAME="line78"></A>val mem       : ''a -&gt; ''a list -&gt; bool
<A NAME="line79"></A>val insert    : ''a -&gt; ''a list -&gt; ''a list
<A NAME="line80"></A>val delete    : ''a -&gt; ''a list -&gt; ''a list
<A NAME="line81"></A>val union     : ''a list -&gt; ''a list -&gt; ''a list
<A NAME="line82"></A>val intersect : ''a list -&gt; ''a list -&gt; ''a list
<A NAME="line83"></A>val subtract  : ''a list -&gt; ''a list -&gt; ''a list
<A NAME="line84"></A>val setify    : ''a list -&gt; ''a list
<A NAME="line85"></A>val subset    : ''a list -&gt; ''a list -&gt; bool
<A NAME="line86"></A>val distinct  : ''a list -&gt; bool
<A NAME="line87"></A>
<A NAME="line88"></A>(* Comparisons *)
<A NAME="line89"></A>type 'a ordering = 'a * 'a -&gt; order
<A NAME="line90"></A>val order_to_string : order -&gt; string
<A NAME="line91"></A>val map_order       : ('a -&gt; 'b) -&gt; 'b ordering -&gt; 'a ordering
<A NAME="line92"></A>val rev_order       : 'a ordering -&gt; 'a ordering
<A NAME="line93"></A>val lex_order       : 'a ordering -&gt; 'b ordering -&gt; ('a * 'b) ordering
<A NAME="line94"></A>val lex_order2      : 'a ordering -&gt; ('a * 'a) ordering
<A NAME="line95"></A>val lex_order3      : 'a ordering -&gt; ('a * 'a * 'a) ordering
<A NAME="line96"></A>val lex_seq_order   : 'a ordering -&gt; 'a ordering -&gt; 'a ordering
<A NAME="line97"></A>val lex_list_order  : 'a ordering -&gt; 'a list ordering
<A NAME="line98"></A>
<A NAME="line99"></A>(* Sorting and searching *)
<A NAME="line100"></A>val min      : 'a ordering -&gt; 'a list -&gt; 'a * 'a list
<A NAME="line101"></A>val max      : 'a ordering -&gt; 'a list -&gt; 'a * 'a list
<A NAME="line102"></A>val merge    : 'a ordering -&gt; 'a list -&gt; 'a list -&gt; 'a list
<A NAME="line103"></A>val sort     : 'a ordering -&gt; 'a list -&gt; 'a list
<A NAME="line104"></A>val sort_map : ('a -&gt; 'b) -&gt; 'b ordering -&gt; 'a list -&gt; 'a list
<A NAME="line105"></A>val top_sort : 'a ordering -&gt; ('a -&gt; 'a list) -&gt; 'a list -&gt; 'a list
<A NAME="line106"></A>
<A NAME="line107"></A>(* Integers *)
<A NAME="line108"></A>val int_to_string : int -&gt; string
<A NAME="line109"></A>val string_to_int : string -&gt; int                 (* Overflow, Option *)
<A NAME="line110"></A>val int_to_bits   : int -&gt; bool list
<A NAME="line111"></A>val bits_to_int   : bool list -&gt; int              (* Overflow *)
<A NAME="line112"></A>val int_to_base64 : int -&gt; char
<A NAME="line113"></A>val base64_to_int : char -&gt; int
<A NAME="line114"></A>val interval      : int -&gt; int -&gt; int list
<A NAME="line115"></A>val even          : int -&gt; bool
<A NAME="line116"></A>val odd           : int -&gt; bool
<A NAME="line117"></A>val divides       : int -&gt; int -&gt; bool
<A NAME="line118"></A>val primes        : int -&gt; int list
<A NAME="line119"></A>val gcd           : int -&gt; int -&gt; int
<A NAME="line120"></A>
<A NAME="line121"></A>(* Strings *)
<A NAME="line122"></A>val rot         : int -&gt; char -&gt; char
<A NAME="line123"></A>val nchars      : char -&gt; int -&gt; string
<A NAME="line124"></A>val chomp       : string -&gt; string
<A NAME="line125"></A>val unpad       : string -&gt; string
<A NAME="line126"></A>val join        : string -&gt; string list -&gt; string
<A NAME="line127"></A>val split       : string -&gt; string -&gt; string list
<A NAME="line128"></A>val variant     : string -&gt; string list -&gt; string
<A NAME="line129"></A>val variant_num : string -&gt; string list -&gt; string
<A NAME="line130"></A>val dest_prefix : string -&gt; string -&gt; string
<A NAME="line131"></A>val is_prefix   : string -&gt; string -&gt; bool
<A NAME="line132"></A>val mk_prefix   : string -&gt; string -&gt; string
<A NAME="line133"></A>val align_table : {left : bool, pad : char} -&gt; string list list -&gt; string list
<A NAME="line134"></A>
<A NAME="line135"></A>(* Reals *)
<A NAME="line136"></A>val real_to_string    : real -&gt; string
<A NAME="line137"></A>val percent_to_string : real -&gt; string
<A NAME="line138"></A>val pos               : real -&gt; real
<A NAME="line139"></A>val log2              : real -&gt; real              (* Domain *)
<A NAME="line140"></A>
<A NAME="line141"></A>(* Pretty-printing *)
<A NAME="line142"></A>type 'a pp = ppstream -&gt; 'a -&gt; unit
<A NAME="line143"></A>val LINE_LENGTH : int ref
<A NAME="line144"></A>val pp_map      : ('a -&gt; 'b) -&gt; 'b pp -&gt; 'a pp
<A NAME="line145"></A>val pp_bracket  : string -&gt; string -&gt; 'a pp -&gt; 'a pp
<A NAME="line146"></A>val pp_sequence : string -&gt; 'a pp -&gt; 'a list pp
<A NAME="line147"></A>val pp_binop    : string -&gt; 'a pp -&gt; 'b pp -&gt; ('a * 'b) pp
<A NAME="line148"></A>val pp_char     : char pp
<A NAME="line149"></A>val pp_string   : string pp
<A NAME="line150"></A>val pp_unit     : unit pp
<A NAME="line151"></A>val pp_bool     : bool pp
<A NAME="line152"></A>val pp_int      : int pp
<A NAME="line153"></A>val pp_real     : real pp
<A NAME="line154"></A>val pp_order    : order pp
<A NAME="line155"></A>val pp_porder   : order option pp
<A NAME="line156"></A>val pp_list     : 'a pp -&gt; 'a list pp
<A NAME="line157"></A>val pp_pair     : 'a pp -&gt; 'b pp -&gt; ('a * 'b) pp
<A NAME="line158"></A>val pp_triple   : 'a pp -&gt; 'b pp -&gt; 'c pp -&gt; ('a * 'b * 'c) pp
<A NAME="line159"></A>val to_string   : 'a pp -&gt; 'a -&gt; string           (* Uses LINE_LENGTH *)
<A NAME="line160"></A>
<A NAME="line161"></A>(* Sum datatype *)
<A NAME="line162"></A>datatype ('a,'b) sum = INL of 'a | INR of 'b
<A NAME="line163"></A>val is_inl : ('a,'b) sum -&gt; bool
<A NAME="line164"></A>val is_inr : ('a,'b) sum -&gt; bool
<A NAME="line165"></A>val pp_sum : 'a pp -&gt; 'b pp -&gt; ('a,'b) sum pp
<A NAME="line166"></A>
<A NAME="line167"></A>(* Maplets *)
<A NAME="line168"></A>datatype ('a,'b) maplet = |-&gt; of 'a * 'b
<A NAME="line169"></A>val pp_maplet : 'a pp -&gt; 'b pp -&gt; ('a,'b) maplet pp
<A NAME="line170"></A>
<A NAME="line171"></A>(* Trees *)
<A NAME="line172"></A>datatype ('a,'b) tree = BRANCH of 'a * ('a,'b) tree list | LEAF of 'b
<A NAME="line173"></A>val tree_size  : ('a,'b) tree -&gt; {branches : int, leaves : int}
<A NAME="line174"></A>val tree_foldr : ('a -&gt; 'c list -&gt; 'c) -&gt; ('b -&gt; 'c) -&gt; ('a, 'b) tree -&gt; 'c
<A NAME="line175"></A>val tree_foldl : ('a-&gt;'c-&gt;'c) -&gt; ('b-&gt;'c-&gt;'d) -&gt; 'c -&gt; ('a,'b) tree -&gt; 'd list
<A NAME="line176"></A>val tree_partial_foldl :
<A NAME="line177"></A>  ('a-&gt;'c-&gt;'c option) -&gt; ('b-&gt;'c-&gt;'d option) -&gt; 'c -&gt; ('a,'b) tree -&gt; 'd list
<A NAME="line178"></A>
<A NAME="line179"></A>(* mlibUseful impure features *)
<A NAME="line180"></A>val ==        : 'a * 'a -&gt; bool  (* pointer equality *)
<A NAME="line181"></A>val memoize   : (unit -&gt; 'a) -&gt; unit -&gt; 'a
<A NAME="line182"></A>val new_int   : unit -&gt; int
<A NAME="line183"></A>val new_ints  : int -&gt; int list
<A NAME="line184"></A>val uniform   : unit -&gt; real
<A NAME="line185"></A>val coin_flip : unit -&gt; bool
<A NAME="line186"></A>val with_flag : 'r ref * ('r -&gt; 'r) -&gt; ('a -&gt; 'b) -&gt; 'a -&gt; 'b
<A NAME="line187"></A>val cached    : 'a ordering -&gt; ('a -&gt; 'b) -&gt; 'a -&gt; 'b
<A NAME="line188"></A>
<A NAME="line189"></A>(* The environment *)
<A NAME="line190"></A>val host           : string
<A NAME="line191"></A>val date           : unit -&gt; string
<A NAME="line192"></A>val today          : unit -&gt; string
<A NAME="line193"></A>val warn           : string -&gt; unit
<A NAME="line194"></A>val die            : string -&gt; unit
<A NAME="line195"></A>val read_textfile  : {filename : string} -&gt; string
<A NAME="line196"></A>val write_textfile : {filename : string, contents : string} -&gt; unit
<A NAME="line197"></A>
<A NAME="line198"></A>end
<A NAME="line199"></A>
</PRE><HR><TABLE WIDTH=100%><TR ALIGN = CENTER>
<TH><A HREF="../../../src/metis/mlibUseful.sml" type="text/plain">Source File</A>
<TH><A HREF="idIndex.html">Identifier index</A>
<TH><A HREF="TheoryIndex.html">Theory binding index</A>
</TABLE><HR>
<BR><EM><A HREF="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Kananaskis-5</EM></BODY></HTML>
