<HTML><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon"><TITLE>Structure finite_mapTheory</TITLE></HEAD>
<BODY BGCOLOR="#fbf2e7">
<H1>Structure finite_mapTheory</H1>
<HR><TABLE WIDTH=100%><TR ALIGN = CENTER>
<TH><A HREF="../../../src/finite_map/finite_mapScript.sml" type="text/plain">Source File</A>
<TH><A HREF="idIndex.html">Identifier index</A>
<TH><A HREF="TheoryIndex.html">Theory binding index</A>
</TABLE><HR>
<PRE>
<A NAME="line1"></A>signature finite_mapTheory =
<A NAME="line2"></A>sig
<A NAME="line3"></A>  type thm = Thm.thm
<A NAME="line4"></A>  
<A NAME="line5"></A>  (*  Definitions  *)
<A NAME="line6"></A>    val <A HREF="#DRESTRICT_DEF-val">DRESTRICT_DEF</A> : thm
<A NAME="line7"></A>    val <A HREF="#FAPPLY_DEF-val">FAPPLY_DEF</A> : thm
<A NAME="line8"></A>    val <A HREF="#FCARD_DEF-val">FCARD_DEF</A> : thm
<A NAME="line9"></A>    val <A HREF="#FDOM_DEF-val">FDOM_DEF</A> : thm
<A NAME="line10"></A>    val <A HREF="#FEMPTY_DEF-val">FEMPTY_DEF</A> : thm
<A NAME="line11"></A>    val <A HREF="#FEVERY_DEF-val">FEVERY_DEF</A> : thm
<A NAME="line12"></A>    val <A HREF="#FLOOKUP_DEF-val">FLOOKUP_DEF</A> : thm
<A NAME="line13"></A>    val <A HREF="#FMAP_MAP2_def-val">FMAP_MAP2_def</A> : thm
<A NAME="line14"></A>    val <A HREF="#FMERGE_DEF-val">FMERGE_DEF</A> : thm
<A NAME="line15"></A>    val <A HREF="#FRANGE_DEF-val">FRANGE_DEF</A> : thm
<A NAME="line16"></A>    val <A HREF="#FUNION_DEF-val">FUNION_DEF</A> : thm
<A NAME="line17"></A>    val <A HREF="#FUN_FMAP_DEF-val">FUN_FMAP_DEF</A> : thm
<A NAME="line18"></A>    val <A HREF="#FUPDATE_DEF-val">FUPDATE_DEF</A> : thm
<A NAME="line19"></A>    val <A HREF="#FUPDATE_LIST-val">FUPDATE_LIST</A> : thm
<A NAME="line20"></A>    val <A HREF="#RRESTRICT_DEF-val">RRESTRICT_DEF</A> : thm
<A NAME="line21"></A>    val <A HREF="#SUBMAP_DEF-val">SUBMAP_DEF</A> : thm
<A NAME="line22"></A>    val <A HREF="#f_o_DEF-val">f_o_DEF</A> : thm
<A NAME="line23"></A>    val <A HREF="#f_o_f_DEF-val">f_o_f_DEF</A> : thm
<A NAME="line24"></A>    val <A HREF="#fmap_ISO_DEF-val">fmap_ISO_DEF</A> : thm
<A NAME="line25"></A>    val <A HREF="#fmap_TY_DEF-val">fmap_TY_DEF</A> : thm
<A NAME="line26"></A>    val <A HREF="#fmap_domsub-val">fmap_domsub</A> : thm
<A NAME="line27"></A>    val <A HREF="#is_fmap-val">is_fmap</A> : thm
<A NAME="line28"></A>    val <A HREF="#o_f_DEF-val">o_f_DEF</A> : thm
<A NAME="line29"></A>  
<A NAME="line30"></A>  (*  Theorems  *)
<A NAME="line31"></A>    val <A HREF="#DOMSUB_FAPPLY-val">DOMSUB_FAPPLY</A> : thm
<A NAME="line32"></A>    val <A HREF="#DOMSUB_FAPPLY_NEQ-val">DOMSUB_FAPPLY_NEQ</A> : thm
<A NAME="line33"></A>    val <A HREF="#DOMSUB_FAPPLY_THM-val">DOMSUB_FAPPLY_THM</A> : thm
<A NAME="line34"></A>    val <A HREF="#DOMSUB_FEMPTY-val">DOMSUB_FEMPTY</A> : thm
<A NAME="line35"></A>    val <A HREF="#DOMSUB_FUNION-val">DOMSUB_FUNION</A> : thm
<A NAME="line36"></A>    val <A HREF="#DOMSUB_FUPDATE-val">DOMSUB_FUPDATE</A> : thm
<A NAME="line37"></A>    val <A HREF="#DOMSUB_FUPDATE_NEQ-val">DOMSUB_FUPDATE_NEQ</A> : thm
<A NAME="line38"></A>    val <A HREF="#DOMSUB_FUPDATE_THM-val">DOMSUB_FUPDATE_THM</A> : thm
<A NAME="line39"></A>    val <A HREF="#DOMSUB_IDEM-val">DOMSUB_IDEM</A> : thm
<A NAME="line40"></A>    val <A HREF="#DOMSUB_NOT_IN_DOM-val">DOMSUB_NOT_IN_DOM</A> : thm
<A NAME="line41"></A>    val <A HREF="#DRESTRICT_DRESTRICT-val">DRESTRICT_DRESTRICT</A> : thm
<A NAME="line42"></A>    val <A HREF="#DRESTRICT_EQ_FUNION-val">DRESTRICT_EQ_FUNION</A> : thm
<A NAME="line43"></A>    val <A HREF="#DRESTRICT_FEMPTY-val">DRESTRICT_FEMPTY</A> : thm
<A NAME="line44"></A>    val <A HREF="#DRESTRICT_FUNION-val">DRESTRICT_FUNION</A> : thm
<A NAME="line45"></A>    val <A HREF="#DRESTRICT_FUNION_DRESTRICT_COMPL-val">DRESTRICT_FUNION_DRESTRICT_COMPL</A> : thm
<A NAME="line46"></A>    val <A HREF="#DRESTRICT_FUPDATE-val">DRESTRICT_FUPDATE</A> : thm
<A NAME="line47"></A>    val <A HREF="#DRESTRICT_IDEMPOT-val">DRESTRICT_IDEMPOT</A> : thm
<A NAME="line48"></A>    val <A HREF="#DRESTRICT_IS_FEMPTY-val">DRESTRICT_IS_FEMPTY</A> : thm
<A NAME="line49"></A>    val <A HREF="#DRESTRICT_SUBMAP-val">DRESTRICT_SUBMAP</A> : thm
<A NAME="line50"></A>    val <A HREF="#DRESTRICT_UNIV-val">DRESTRICT_UNIV</A> : thm
<A NAME="line51"></A>    val <A HREF="#FAPPLY_FUPDATE-val">FAPPLY_FUPDATE</A> : thm
<A NAME="line52"></A>    val <A HREF="#FAPPLY_FUPDATE_THM-val">FAPPLY_FUPDATE_THM</A> : thm
<A NAME="line53"></A>    val <A HREF="#FAPPLY_f_o-val">FAPPLY_f_o</A> : thm
<A NAME="line54"></A>    val <A HREF="#FCARD_0_FEMPTY-val">FCARD_0_FEMPTY</A> : thm
<A NAME="line55"></A>    val <A HREF="#FCARD_FEMPTY-val">FCARD_FEMPTY</A> : thm
<A NAME="line56"></A>    val <A HREF="#FCARD_FUPDATE-val">FCARD_FUPDATE</A> : thm
<A NAME="line57"></A>    val <A HREF="#FCARD_SUC-val">FCARD_SUC</A> : thm
<A NAME="line58"></A>    val <A HREF="#FDOM_DOMSUB-val">FDOM_DOMSUB</A> : thm
<A NAME="line59"></A>    val <A HREF="#FDOM_DRESTRICT-val">FDOM_DRESTRICT</A> : thm
<A NAME="line60"></A>    val <A HREF="#FDOM_EQ_EMPTY-val">FDOM_EQ_EMPTY</A> : thm
<A NAME="line61"></A>    val <A HREF="#FDOM_EQ_FDOM_FUPDATE-val">FDOM_EQ_FDOM_FUPDATE</A> : thm
<A NAME="line62"></A>    val <A HREF="#FDOM_FEMPTY-val">FDOM_FEMPTY</A> : thm
<A NAME="line63"></A>    val <A HREF="#FDOM_FINITE-val">FDOM_FINITE</A> : thm
<A NAME="line64"></A>    val <A HREF="#FDOM_FUNION-val">FDOM_FUNION</A> : thm
<A NAME="line65"></A>    val <A HREF="#FDOM_FUPDATE-val">FDOM_FUPDATE</A> : thm
<A NAME="line66"></A>    val <A HREF="#FDOM_FUPDATE_LIST-val">FDOM_FUPDATE_LIST</A> : thm
<A NAME="line67"></A>    val <A HREF="#FDOM_F_FEMPTY1-val">FDOM_F_FEMPTY1</A> : thm
<A NAME="line68"></A>    val <A HREF="#FDOM_f_o-val">FDOM_f_o</A> : thm
<A NAME="line69"></A>    val <A HREF="#FDOM_o_f-val">FDOM_o_f</A> : thm
<A NAME="line70"></A>    val <A HREF="#FEMPTY_SUBMAP-val">FEMPTY_SUBMAP</A> : thm
<A NAME="line71"></A>    val <A HREF="#FEVERY_DRESTRICT_COMPL-val">FEVERY_DRESTRICT_COMPL</A> : thm
<A NAME="line72"></A>    val <A HREF="#FEVERY_FEMPTY-val">FEVERY_FEMPTY</A> : thm
<A NAME="line73"></A>    val <A HREF="#FEVERY_FUPDATE-val">FEVERY_FUPDATE</A> : thm
<A NAME="line74"></A>    val <A HREF="#FEVERY_STRENGTHEN_THM-val">FEVERY_STRENGTHEN_THM</A> : thm
<A NAME="line75"></A>    val <A HREF="#FEVERY_o_f-val">FEVERY_o_f</A> : thm
<A NAME="line76"></A>    val <A HREF="#FINITE_FRANGE-val">FINITE_FRANGE</A> : thm
<A NAME="line77"></A>    val <A HREF="#FINITE_PRED_11-val">FINITE_PRED_11</A> : thm
<A NAME="line78"></A>    val <A HREF="#FLOOKUP_EMPTY-val">FLOOKUP_EMPTY</A> : thm
<A NAME="line79"></A>    val <A HREF="#FLOOKUP_UPDATE-val">FLOOKUP_UPDATE</A> : thm
<A NAME="line80"></A>    val <A HREF="#FMAP_MAP2_FEMPTY-val">FMAP_MAP2_FEMPTY</A> : thm
<A NAME="line81"></A>    val <A HREF="#FMAP_MAP2_FUPDATE-val">FMAP_MAP2_FUPDATE</A> : thm
<A NAME="line82"></A>    val <A HREF="#FMAP_MAP2_THM-val">FMAP_MAP2_THM</A> : thm
<A NAME="line83"></A>    val <A HREF="#FMEQ_ENUMERATE_CASES-val">FMEQ_ENUMERATE_CASES</A> : thm
<A NAME="line84"></A>    val <A HREF="#FMEQ_SINGLE_SIMPLE_DISJ_ELIM-val">FMEQ_SINGLE_SIMPLE_DISJ_ELIM</A> : thm
<A NAME="line85"></A>    val <A HREF="#FMEQ_SINGLE_SIMPLE_ELIM-val">FMEQ_SINGLE_SIMPLE_ELIM</A> : thm
<A NAME="line86"></A>    val <A HREF="#FMERGE_ASSOC-val">FMERGE_ASSOC</A> : thm
<A NAME="line87"></A>    val <A HREF="#FMERGE_COMM-val">FMERGE_COMM</A> : thm
<A NAME="line88"></A>    val <A HREF="#FMERGE_DRESTRICT-val">FMERGE_DRESTRICT</A> : thm
<A NAME="line89"></A>    val <A HREF="#FMERGE_EQ_FEMPTY-val">FMERGE_EQ_FEMPTY</A> : thm
<A NAME="line90"></A>    val <A HREF="#FMERGE_FEMPTY-val">FMERGE_FEMPTY</A> : thm
<A NAME="line91"></A>    val <A HREF="#FMERGE_FUNION-val">FMERGE_FUNION</A> : thm
<A NAME="line92"></A>    val <A HREF="#FMERGE_NO_CHANGE-val">FMERGE_NO_CHANGE</A> : thm
<A NAME="line93"></A>    val <A HREF="#FM_PULL_APART-val">FM_PULL_APART</A> : thm
<A NAME="line94"></A>    val <A HREF="#FRANGE_FEMPTY-val">FRANGE_FEMPTY</A> : thm
<A NAME="line95"></A>    val <A HREF="#FRANGE_FMAP-val">FRANGE_FMAP</A> : thm
<A NAME="line96"></A>    val <A HREF="#FRANGE_FUPDATE-val">FRANGE_FUPDATE</A> : thm
<A NAME="line97"></A>    val <A HREF="#FRANGE_FUPDATE_DOMSUB-val">FRANGE_FUPDATE_DOMSUB</A> : thm
<A NAME="line98"></A>    val <A HREF="#FUNION_ASSOC-val">FUNION_ASSOC</A> : thm
<A NAME="line99"></A>    val <A HREF="#FUNION_COMM-val">FUNION_COMM</A> : thm
<A NAME="line100"></A>    val <A HREF="#FUNION_EQ-val">FUNION_EQ</A> : thm
<A NAME="line101"></A>    val <A HREF="#FUNION_EQ_FEMPTY-val">FUNION_EQ_FEMPTY</A> : thm
<A NAME="line102"></A>    val <A HREF="#FUNION_EQ_IMPL-val">FUNION_EQ_IMPL</A> : thm
<A NAME="line103"></A>    val <A HREF="#FUNION_FEMPTY_1-val">FUNION_FEMPTY_1</A> : thm
<A NAME="line104"></A>    val <A HREF="#FUNION_FEMPTY_2-val">FUNION_FEMPTY_2</A> : thm
<A NAME="line105"></A>    val <A HREF="#FUNION_FMERGE-val">FUNION_FMERGE</A> : thm
<A NAME="line106"></A>    val <A HREF="#FUNION_FUPDATE_1-val">FUNION_FUPDATE_1</A> : thm
<A NAME="line107"></A>    val <A HREF="#FUNION_FUPDATE_2-val">FUNION_FUPDATE_2</A> : thm
<A NAME="line108"></A>    val <A HREF="#FUN_FMAP_EMPTY-val">FUN_FMAP_EMPTY</A> : thm
<A NAME="line109"></A>    val <A HREF="#FUPD11_SAME_BASE-val">FUPD11_SAME_BASE</A> : thm
<A NAME="line110"></A>    val <A HREF="#FUPD11_SAME_KEY_AND_BASE-val">FUPD11_SAME_KEY_AND_BASE</A> : thm
<A NAME="line111"></A>    val <A HREF="#FUPD11_SAME_NEW_KEY-val">FUPD11_SAME_NEW_KEY</A> : thm
<A NAME="line112"></A>    val <A HREF="#FUPD11_SAME_UPDATE-val">FUPD11_SAME_UPDATE</A> : thm
<A NAME="line113"></A>    val <A HREF="#FUPDATE_COMMUTES-val">FUPDATE_COMMUTES</A> : thm
<A NAME="line114"></A>    val <A HREF="#FUPDATE_DRESTRICT-val">FUPDATE_DRESTRICT</A> : thm
<A NAME="line115"></A>    val <A HREF="#FUPDATE_ELIM-val">FUPDATE_ELIM</A> : thm
<A NAME="line116"></A>    val <A HREF="#FUPDATE_EQ-val">FUPDATE_EQ</A> : thm
<A NAME="line117"></A>    val <A HREF="#FUPDATE_LIST_APPLY_NOT_MEM-val">FUPDATE_LIST_APPLY_NOT_MEM</A> : thm
<A NAME="line118"></A>    val <A HREF="#FUPDATE_LIST_SAME_KEYS_UNWIND-val">FUPDATE_LIST_SAME_KEYS_UNWIND</A> : thm
<A NAME="line119"></A>    val <A HREF="#FUPDATE_LIST_SAME_UPDATE-val">FUPDATE_LIST_SAME_UPDATE</A> : thm
<A NAME="line120"></A>    val <A HREF="#FUPDATE_LIST_THM-val">FUPDATE_LIST_THM</A> : thm
<A NAME="line121"></A>    val <A HREF="#FUPDATE_PURGE-val">FUPDATE_PURGE</A> : thm
<A NAME="line122"></A>    val <A HREF="#FUPD_SAME_KEY_UNWIND-val">FUPD_SAME_KEY_UNWIND</A> : thm
<A NAME="line123"></A>    val <A HREF="#IN_FDOM_FOLDR_UNION-val">IN_FDOM_FOLDR_UNION</A> : thm
<A NAME="line124"></A>    val <A HREF="#NOT_EQ_FAPPLY-val">NOT_EQ_FAPPLY</A> : thm
<A NAME="line125"></A>    val <A HREF="#NOT_EQ_FEMPTY_FUPDATE-val">NOT_EQ_FEMPTY_FUPDATE</A> : thm
<A NAME="line126"></A>    val <A HREF="#NOT_FDOM_DRESTRICT-val">NOT_FDOM_DRESTRICT</A> : thm
<A NAME="line127"></A>    val <A HREF="#NOT_FDOM_FAPPLY_FEMPTY-val">NOT_FDOM_FAPPLY_FEMPTY</A> : thm
<A NAME="line128"></A>    val <A HREF="#RRESTRICT_FEMPTY-val">RRESTRICT_FEMPTY</A> : thm
<A NAME="line129"></A>    val <A HREF="#RRESTRICT_FUPDATE-val">RRESTRICT_FUPDATE</A> : thm
<A NAME="line130"></A>    val <A HREF="#SAME_KEY_UPDATES_DIFFER-val">SAME_KEY_UPDATES_DIFFER</A> : thm
<A NAME="line131"></A>    val <A HREF="#STRONG_DRESTRICT_FUPDATE-val">STRONG_DRESTRICT_FUPDATE</A> : thm
<A NAME="line132"></A>    val <A HREF="#STRONG_DRESTRICT_FUPDATE_THM-val">STRONG_DRESTRICT_FUPDATE_THM</A> : thm
<A NAME="line133"></A>    val <A HREF="#SUBMAP_ANTISYM-val">SUBMAP_ANTISYM</A> : thm
<A NAME="line134"></A>    val <A HREF="#SUBMAP_FEMPTY-val">SUBMAP_FEMPTY</A> : thm
<A NAME="line135"></A>    val <A HREF="#SUBMAP_FRANGE-val">SUBMAP_FRANGE</A> : thm
<A NAME="line136"></A>    val <A HREF="#SUBMAP_FUNION-val">SUBMAP_FUNION</A> : thm
<A NAME="line137"></A>    val <A HREF="#SUBMAP_FUNION_EQ-val">SUBMAP_FUNION_EQ</A> : thm
<A NAME="line138"></A>    val <A HREF="#SUBMAP_FUNION_ID-val">SUBMAP_FUNION_ID</A> : thm
<A NAME="line139"></A>    val <A HREF="#SUBMAP_FUPDATE-val">SUBMAP_FUPDATE</A> : thm
<A NAME="line140"></A>    val <A HREF="#SUBMAP_REFL-val">SUBMAP_REFL</A> : thm
<A NAME="line141"></A>    val <A HREF="#SUBMAP_TRANS-val">SUBMAP_TRANS</A> : thm
<A NAME="line142"></A>    val <A HREF="#f_o_f_FEMPTY_1-val">f_o_f_FEMPTY_1</A> : thm
<A NAME="line143"></A>    val <A HREF="#f_o_f_FEMPTY_2-val">f_o_f_FEMPTY_2</A> : thm
<A NAME="line144"></A>    val <A HREF="#fmap_CASES-val">fmap_CASES</A> : thm
<A NAME="line145"></A>    val <A HREF="#fmap_EQ-val">fmap_EQ</A> : thm
<A NAME="line146"></A>    val <A HREF="#fmap_EQ_THM-val">fmap_EQ_THM</A> : thm
<A NAME="line147"></A>    val <A HREF="#fmap_EXT-val">fmap_EXT</A> : thm
<A NAME="line148"></A>    val <A HREF="#fmap_INDUCT-val">fmap_INDUCT</A> : thm
<A NAME="line149"></A>    val <A HREF="#fmap_SIMPLE_INDUCT-val">fmap_SIMPLE_INDUCT</A> : thm
<A NAME="line150"></A>    val <A HREF="#is_fmap_cases-val">is_fmap_cases</A> : thm
<A NAME="line151"></A>    val <A HREF="#is_fmap_ind-val">is_fmap_ind</A> : thm
<A NAME="line152"></A>    val <A HREF="#is_fmap_rules-val">is_fmap_rules</A> : thm
<A NAME="line153"></A>    val <A HREF="#o_f_DOMSUB-val">o_f_DOMSUB</A> : thm
<A NAME="line154"></A>    val <A HREF="#o_f_FAPPLY-val">o_f_FAPPLY</A> : thm
<A NAME="line155"></A>    val <A HREF="#o_f_FDOM-val">o_f_FDOM</A> : thm
<A NAME="line156"></A>    val <A HREF="#o_f_FEMPTY-val">o_f_FEMPTY</A> : thm
<A NAME="line157"></A>    val <A HREF="#o_f_FUPDATE-val">o_f_FUPDATE</A> : thm
<A NAME="line158"></A>    val <A HREF="#o_f_o_f-val">o_f_o_f</A> : thm
<A NAME="line159"></A>  
<A NAME="line160"></A>  val finite_map_grammars : type_grammar.grammar * term_grammar.grammar
<A NAME="line161"></A>  
<A NAME="line162"></A>  val finite_map_rwts : simpLib.ssfrag
<A NAME="line163"></A>(*
   [list] Parent theory of "finite_map"
   
   [<A NAME="DRESTRICT_DEF-val"><B>DRESTRICT_DEF</B></A>]  Definition
      
      |- !f r.
           (FDOM (DRESTRICT f r) = FDOM f INTER r) /\
           !x.
             DRESTRICT f r ' x =
             if x IN FDOM f INTER r then f ' x else FEMPTY ' x
   
   [<A NAME="FAPPLY_DEF-val"><B>FAPPLY_DEF</B></A>]  Definition
      
      |- !f x. f ' x = OUTL (fmap_REP f x)
   
   [<A NAME="FCARD_DEF-val"><B>FCARD_DEF</B></A>]  Definition
      
      |- !fm. FCARD fm = CARD (FDOM fm)
   
   [<A NAME="FDOM_DEF-val"><B>FDOM_DEF</B></A>]  Definition
      
      |- !f x. FDOM f x &lt;=&gt; ISL (fmap_REP f x)
   
   [<A NAME="FEMPTY_DEF-val"><B>FEMPTY_DEF</B></A>]  Definition
      
      |- FEMPTY = fmap_ABS (\a. INR ())
   
   [<A NAME="FEVERY_DEF-val"><B>FEVERY_DEF</B></A>]  Definition
      
      |- !P f. FEVERY P f &lt;=&gt; !x. x IN FDOM f ==&gt; P (x,f ' x)
   
   [<A NAME="FLOOKUP_DEF-val"><B>FLOOKUP_DEF</B></A>]  Definition
      
      |- !f x. FLOOKUP f x = if x IN FDOM f then SOME (f ' x) else NONE
   
   [<A NAME="FMAP_MAP2_def-val"><B>FMAP_MAP2_def</B></A>]  Definition
      
      |- !f m. FMAP_MAP2 f m = FUN_FMAP (\x. f (x,m ' x)) (FDOM m)
   
   [<A NAME="FMERGE_DEF-val"><B>FMERGE_DEF</B></A>]  Definition
      
      |- !m f g.
           (FDOM (FMERGE m f g) = FDOM f UNION FDOM g) /\
           !x.
             FMERGE m f g ' x =
             if x NOTIN FDOM f then
               g ' x
             else
               if x NOTIN FDOM g then f ' x else m (f ' x) (g ' x)
   
   [<A NAME="FRANGE_DEF-val"><B>FRANGE_DEF</B></A>]  Definition
      
      |- !f. FRANGE f = {y | ?x. x IN FDOM f /\ (f ' x = y)}
   
   [<A NAME="FUNION_DEF-val"><B>FUNION_DEF</B></A>]  Definition
      
      |- !f g.
           (FDOM (FUNION f g) = FDOM f UNION FDOM g) /\
           !x. FUNION f g ' x = if x IN FDOM f then f ' x else g ' x
   
   [<A NAME="FUN_FMAP_DEF-val"><B>FUN_FMAP_DEF</B></A>]  Definition
      
      |- !f P.
           FINITE P ==&gt;
           (FDOM (FUN_FMAP f P) = P) /\
           !x. x IN P ==&gt; (FUN_FMAP f P ' x = f x)
   
   [<A NAME="FUPDATE_DEF-val"><B>FUPDATE_DEF</B></A>]  Definition
      
      |- !f x y.
           f |+ (x,y) =
           fmap_ABS (\a. if a = x then INL y else fmap_REP f a)
   
   [<A NAME="FUPDATE_LIST-val"><B>FUPDATE_LIST</B></A>]  Definition
      
      |- $|++ = FOLDL $|+
   
   [<A NAME="RRESTRICT_DEF-val"><B>RRESTRICT_DEF</B></A>]  Definition
      
      |- !f r.
           (FDOM (RRESTRICT f r) = {x | x IN FDOM f /\ f ' x IN r}) /\
           !x.
             RRESTRICT f r ' x =
             if x IN FDOM f /\ f ' x IN r then f ' x else FEMPTY ' x
   
   [<A NAME="SUBMAP_DEF-val"><B>SUBMAP_DEF</B></A>]  Definition
      
      |- !f g.
           f SUBMAP g &lt;=&gt;
           !x. x IN FDOM f ==&gt; x IN FDOM g /\ (f ' x = g ' x)
   
   [<A NAME="f_o_DEF-val"><B>f_o_DEF</B></A>]  Definition
      
      |- !f g. f f_o g = f f_o_f FUN_FMAP g {x | g x IN FDOM f}
   
   [<A NAME="f_o_f_DEF-val"><B>f_o_f_DEF</B></A>]  Definition
      
      |- !f g.
           (FDOM (f f_o_f g) = FDOM g INTER {x | g ' x IN FDOM f}) /\
           !x. x IN FDOM (f f_o_f g) ==&gt; ((f f_o_f g) ' x = f ' (g ' x))
   
   [<A NAME="fmap_ISO_DEF-val"><B>fmap_ISO_DEF</B></A>]  Definition
      
      |- (!a. fmap_ABS (fmap_REP a) = a) /\
         !r. is_fmap r &lt;=&gt; (fmap_REP (fmap_ABS r) = r)
   
   [<A NAME="fmap_TY_DEF-val"><B>fmap_TY_DEF</B></A>]  Definition
      
      |- ?rep. TYPE_DEFINITION is_fmap rep
   
   [<A NAME="fmap_domsub-val"><B>fmap_domsub</B></A>]  Definition
      
      |- !fm k. fm \\ k = DRESTRICT fm (COMPL {k})
   
   [<A NAME="is_fmap-val"><B>is_fmap</B></A>]  Definition
      
      |- is_fmap =
         (\a0.
            !is_fmap'.
              (!a0.
                 (a0 = (\a. INR ())) \/
                 (?f a b.
                    (a0 = (\x. if x = a then INL b else f x)) /\
                    is_fmap' f) ==&gt;
                 is_fmap' a0) ==&gt;
              is_fmap' a0)
   
   [<A NAME="o_f_DEF-val"><B>o_f_DEF</B></A>]  Definition
      
      |- !f g.
           (FDOM (f o_f g) = FDOM g) /\
           !x. x IN FDOM (f o_f g) ==&gt; ((f o_f g) ' x = f (g ' x))
   
   [<A NAME="DOMSUB_FAPPLY-val"><B>DOMSUB_FAPPLY</B></A>]  Theorem
      
      |- !fm k. (fm \\ k) ' k = FEMPTY ' k
   
   [<A NAME="DOMSUB_FAPPLY_NEQ-val"><B>DOMSUB_FAPPLY_NEQ</B></A>]  Theorem
      
      |- !fm k1 k2. k1 &lt;&gt; k2 ==&gt; ((fm \\ k1) ' k2 = fm ' k2)
   
   [<A NAME="DOMSUB_FAPPLY_THM-val"><B>DOMSUB_FAPPLY_THM</B></A>]  Theorem
      
      |- !fm k1 k2.
           (fm \\ k1) ' k2 = if k1 = k2 then FEMPTY ' k2 else fm ' k2
   
   [<A NAME="DOMSUB_FEMPTY-val"><B>DOMSUB_FEMPTY</B></A>]  Theorem
      
      |- !k. FEMPTY \\ k = FEMPTY
   
   [<A NAME="DOMSUB_FUNION-val"><B>DOMSUB_FUNION</B></A>]  Theorem
      
      |- FUNION f g \\ k = FUNION (f \\ k) (g \\ k)
   
   [<A NAME="DOMSUB_FUPDATE-val"><B>DOMSUB_FUPDATE</B></A>]  Theorem
      
      |- !fm k v. fm |+ (k,v) \\ k = fm \\ k
   
   [<A NAME="DOMSUB_FUPDATE_NEQ-val"><B>DOMSUB_FUPDATE_NEQ</B></A>]  Theorem
      
      |- !fm k1 k2 v.
           k1 &lt;&gt; k2 ==&gt; (fm |+ (k1,v) \\ k2 = fm \\ k2 |+ (k1,v))
   
   [<A NAME="DOMSUB_FUPDATE_THM-val"><B>DOMSUB_FUPDATE_THM</B></A>]  Theorem
      
      |- !fm k1 k2 v.
           fm |+ (k1,v) \\ k2 =
           if k1 = k2 then fm \\ k2 else fm \\ k2 |+ (k1,v)
   
   [<A NAME="DOMSUB_IDEM-val"><B>DOMSUB_IDEM</B></A>]  Theorem
      
      |- fm \\ k \\ k = fm \\ k
   
   [<A NAME="DOMSUB_NOT_IN_DOM-val"><B>DOMSUB_NOT_IN_DOM</B></A>]  Theorem
      
      |- k NOTIN FDOM fm ==&gt; (fm \\ k = fm)
   
   [<A NAME="DRESTRICT_DRESTRICT-val"><B>DRESTRICT_DRESTRICT</B></A>]  Theorem
      
      |- !f P Q. DRESTRICT (DRESTRICT f P) Q = DRESTRICT f (P INTER Q)
   
   [<A NAME="DRESTRICT_EQ_FUNION-val"><B>DRESTRICT_EQ_FUNION</B></A>]  Theorem
      
      |- !h h1 h2.
           DISJOINT (FDOM h1) (FDOM h2) /\ (FUNION h1 h2 = h) ==&gt;
           (h2 = DRESTRICT h (COMPL (FDOM h1)))
   
   [<A NAME="DRESTRICT_FEMPTY-val"><B>DRESTRICT_FEMPTY</B></A>]  Theorem
      
      |- !r. DRESTRICT FEMPTY r = FEMPTY
   
   [<A NAME="DRESTRICT_FUNION-val"><B>DRESTRICT_FUNION</B></A>]  Theorem
      
      |- !h s1 s2.
           FUNION (DRESTRICT h s1) (DRESTRICT h s2) =
           DRESTRICT h (s1 UNION s2)
   
   [<A NAME="DRESTRICT_FUNION_DRESTRICT_COMPL-val"><B>DRESTRICT_FUNION_DRESTRICT_COMPL</B></A>]  Theorem
      
      |- FUNION (DRESTRICT f s) (DRESTRICT f (COMPL s)) = f
   
   [<A NAME="DRESTRICT_FUPDATE-val"><B>DRESTRICT_FUPDATE</B></A>]  Theorem
      
      |- !f r x y.
           DRESTRICT (f |+ (x,y)) r =
           if x IN r then DRESTRICT f r |+ (x,y) else DRESTRICT f r
   
   [<A NAME="DRESTRICT_IDEMPOT-val"><B>DRESTRICT_IDEMPOT</B></A>]  Theorem
      
      |- !s vs. DRESTRICT (DRESTRICT s vs) vs = DRESTRICT s vs
   
   [<A NAME="DRESTRICT_IS_FEMPTY-val"><B>DRESTRICT_IS_FEMPTY</B></A>]  Theorem
      
      |- !f. DRESTRICT f {} = FEMPTY
   
   [<A NAME="DRESTRICT_SUBMAP-val"><B>DRESTRICT_SUBMAP</B></A>]  Theorem
      
      |- !f r. DRESTRICT f r SUBMAP f
   
   [<A NAME="DRESTRICT_UNIV-val"><B>DRESTRICT_UNIV</B></A>]  Theorem
      
      |- !f. DRESTRICT f UNIV = f
   
   [<A NAME="FAPPLY_FUPDATE-val"><B>FAPPLY_FUPDATE</B></A>]  Theorem
      
      |- !f x y. (f |+ (x,y)) ' x = y
   
   [<A NAME="FAPPLY_FUPDATE_THM-val"><B>FAPPLY_FUPDATE_THM</B></A>]  Theorem
      
      |- !f a b x. (f |+ (a,b)) ' x = if x = a then b else f ' x
   
   [<A NAME="FAPPLY_f_o-val"><B>FAPPLY_f_o</B></A>]  Theorem
      
      |- !f g.
           FINITE {x | g x IN FDOM f} ==&gt;
           !x. x IN FDOM (f f_o g) ==&gt; ((f f_o g) ' x = f ' (g x))
   
   [<A NAME="FCARD_0_FEMPTY-val"><B>FCARD_0_FEMPTY</B></A>]  Theorem
      
      |- !f. (FCARD f = 0) &lt;=&gt; (f = FEMPTY)
   
   [<A NAME="FCARD_FEMPTY-val"><B>FCARD_FEMPTY</B></A>]  Theorem
      
      |- FCARD FEMPTY = 0
   
   [<A NAME="FCARD_FUPDATE-val"><B>FCARD_FUPDATE</B></A>]  Theorem
      
      |- !fm a b.
           FCARD (fm |+ (a,b)) =
           if a IN FDOM fm then FCARD fm else 1 + FCARD fm
   
   [<A NAME="FCARD_SUC-val"><B>FCARD_SUC</B></A>]  Theorem
      
      |- !f n.
           (FCARD f = SUC n) &lt;=&gt;
           ?f' x y. x NOTIN FDOM f' /\ (FCARD f' = n) /\ (f = f' |+ (x,y))
   
   [<A NAME="FDOM_DOMSUB-val"><B>FDOM_DOMSUB</B></A>]  Theorem
      
      |- !fm k. FDOM (fm \\ k) = FDOM fm DELETE k
   
   [<A NAME="FDOM_DRESTRICT-val"><B>FDOM_DRESTRICT</B></A>]  Theorem
      
      |- !f r x. FDOM (DRESTRICT f r) = FDOM f INTER r
   
   [<A NAME="FDOM_EQ_EMPTY-val"><B>FDOM_EQ_EMPTY</B></A>]  Theorem
      
      |- !f. (FDOM f = {}) &lt;=&gt; (f = FEMPTY)
   
   [<A NAME="FDOM_EQ_FDOM_FUPDATE-val"><B>FDOM_EQ_FDOM_FUPDATE</B></A>]  Theorem
      
      |- !f x. x IN FDOM f ==&gt; !y. FDOM (f |+ (x,y)) = FDOM f
   
   [<A NAME="FDOM_FEMPTY-val"><B>FDOM_FEMPTY</B></A>]  Theorem
      
      |- FDOM FEMPTY = {}
   
   [<A NAME="FDOM_FINITE-val"><B>FDOM_FINITE</B></A>]  Theorem
      
      |- !fm. FINITE (FDOM fm)
   
   [<A NAME="FDOM_FUNION-val"><B>FDOM_FUNION</B></A>]  Theorem
      
      |- !f g x. FDOM (FUNION f g) = FDOM f UNION FDOM g
   
   [<A NAME="FDOM_FUPDATE-val"><B>FDOM_FUPDATE</B></A>]  Theorem
      
      |- !f a b. FDOM (f |+ (a,b)) = a INSERT FDOM f
   
   [<A NAME="FDOM_FUPDATE_LIST-val"><B>FDOM_FUPDATE_LIST</B></A>]  Theorem
      
      |- !kvl fm. FDOM (fm |++ kvl) = FDOM fm UNION LMEM (MAP FST kvl)
   
   [<A NAME="FDOM_F_FEMPTY1-val"><B>FDOM_F_FEMPTY1</B></A>]  Theorem
      
      |- !f. (!a. a NOTIN FDOM f) &lt;=&gt; (f = FEMPTY)
   
   [<A NAME="FDOM_f_o-val"><B>FDOM_f_o</B></A>]  Theorem
      
      |- !f g.
           FINITE {x | g x IN FDOM f} ==&gt;
           (FDOM (f f_o g) = {x | g x IN FDOM f})
   
   [<A NAME="FDOM_o_f-val"><B>FDOM_o_f</B></A>]  Theorem
      
      |- !f g. FDOM (f o_f g) = FDOM g
   
   [<A NAME="FEMPTY_SUBMAP-val"><B>FEMPTY_SUBMAP</B></A>]  Theorem
      
      |- !h. h SUBMAP FEMPTY &lt;=&gt; (h = FEMPTY)
   
   [<A NAME="FEVERY_DRESTRICT_COMPL-val"><B>FEVERY_DRESTRICT_COMPL</B></A>]  Theorem
      
      |- FEVERY P (DRESTRICT (f |+ (k,v)) (COMPL s)) &lt;=&gt;
         (k NOTIN s ==&gt; P (k,v)) /\
         FEVERY P (DRESTRICT f (COMPL (k INSERT s)))
   
   [<A NAME="FEVERY_FEMPTY-val"><B>FEVERY_FEMPTY</B></A>]  Theorem
      
      |- !P. FEVERY P FEMPTY
   
   [<A NAME="FEVERY_FUPDATE-val"><B>FEVERY_FUPDATE</B></A>]  Theorem
      
      |- !P f x y.
           FEVERY P (f |+ (x,y)) &lt;=&gt;
           P (x,y) /\ FEVERY P (DRESTRICT f (COMPL {x}))
   
   [<A NAME="FEVERY_STRENGTHEN_THM-val"><B>FEVERY_STRENGTHEN_THM</B></A>]  Theorem
      
      |- FEVERY P FEMPTY /\
         (FEVERY P f /\ P (x,y) ==&gt; FEVERY P (f |+ (x,y)))
   
   [<A NAME="FEVERY_o_f-val"><B>FEVERY_o_f</B></A>]  Theorem
      
      |- !m P f. FEVERY P (f o_f m) &lt;=&gt; FEVERY (\x. P (FST x,f (SND x))) m
   
   [<A NAME="FINITE_FRANGE-val"><B>FINITE_FRANGE</B></A>]  Theorem
      
      |- !fm. FINITE (FRANGE fm)
   
   [<A NAME="FINITE_PRED_11-val"><B>FINITE_PRED_11</B></A>]  Theorem
      
      |- !g.
           (!x y. (g x = g y) &lt;=&gt; (x = y)) ==&gt;
           !f. FINITE {x | g x IN FDOM f}
   
   [<A NAME="FLOOKUP_EMPTY-val"><B>FLOOKUP_EMPTY</B></A>]  Theorem
      
      |- FLOOKUP FEMPTY k = NONE
   
   [<A NAME="FLOOKUP_UPDATE-val"><B>FLOOKUP_UPDATE</B></A>]  Theorem
      
      |- FLOOKUP (fm |+ (k1,v)) k2 =
         if k1 = k2 then SOME v else FLOOKUP fm k2
   
   [<A NAME="FMAP_MAP2_FEMPTY-val"><B>FMAP_MAP2_FEMPTY</B></A>]  Theorem
      
      |- FMAP_MAP2 f FEMPTY = FEMPTY
   
   [<A NAME="FMAP_MAP2_FUPDATE-val"><B>FMAP_MAP2_FUPDATE</B></A>]  Theorem
      
      |- FMAP_MAP2 f (m |+ (x,v)) = FMAP_MAP2 f m |+ (x,f (x,v))
   
   [<A NAME="FMAP_MAP2_THM-val"><B>FMAP_MAP2_THM</B></A>]  Theorem
      
      |- (FDOM (FMAP_MAP2 f m) = FDOM m) /\
         !x. x IN FDOM m ==&gt; (FMAP_MAP2 f m ' x = f (x,m ' x))
   
   [<A NAME="FMEQ_ENUMERATE_CASES-val"><B>FMEQ_ENUMERATE_CASES</B></A>]  Theorem
      
      |- !f1 kvl p. (f1 |+ p = FEMPTY |++ kvl) ==&gt; MEM p kvl
   
   [<A NAME="FMEQ_SINGLE_SIMPLE_DISJ_ELIM-val"><B>FMEQ_SINGLE_SIMPLE_DISJ_ELIM</B></A>]  Theorem
      
      |- !fm k v ck cv.
           (fm |+ (k,v) = FEMPTY |+ (ck,cv)) &lt;=&gt;
           (k = ck) /\ (v = cv) /\
           ((fm = FEMPTY) \/ ?v'. fm = FEMPTY |+ (k,v'))
   
   [<A NAME="FMEQ_SINGLE_SIMPLE_ELIM-val"><B>FMEQ_SINGLE_SIMPLE_ELIM</B></A>]  Theorem
      
      |- !P k v ck cv nv.
           (?fm. (fm |+ (k,v) = FEMPTY |+ (ck,cv)) /\ P (fm |+ (k,nv))) &lt;=&gt;
           (k = ck) /\ (v = cv) /\ P (FEMPTY |+ (ck,nv))
   
   [<A NAME="FMERGE_ASSOC-val"><B>FMERGE_ASSOC</B></A>]  Theorem
      
      |- ASSOC (FMERGE m) &lt;=&gt; ASSOC m
   
   [<A NAME="FMERGE_COMM-val"><B>FMERGE_COMM</B></A>]  Theorem
      
      |- COMM (FMERGE m) &lt;=&gt; COMM m
   
   [<A NAME="FMERGE_DRESTRICT-val"><B>FMERGE_DRESTRICT</B></A>]  Theorem
      
      |- DRESTRICT (FMERGE f st1 st2) vs =
         FMERGE f (DRESTRICT st1 vs) (DRESTRICT st2 vs)
   
   [<A NAME="FMERGE_EQ_FEMPTY-val"><B>FMERGE_EQ_FEMPTY</B></A>]  Theorem
      
      |- (FMERGE m f g = FEMPTY) &lt;=&gt; (f = FEMPTY) /\ (g = FEMPTY)
   
   [<A NAME="FMERGE_FEMPTY-val"><B>FMERGE_FEMPTY</B></A>]  Theorem
      
      |- (FMERGE m f FEMPTY = f) /\ (FMERGE m FEMPTY f = f)
   
   [<A NAME="FMERGE_FUNION-val"><B>FMERGE_FUNION</B></A>]  Theorem
      
      |- FUNION = FMERGE (\x y. x)
   
   [<A NAME="FMERGE_NO_CHANGE-val"><B>FMERGE_NO_CHANGE</B></A>]  Theorem
      
      |- ((FMERGE m f1 f2 = f1) &lt;=&gt;
          !x.
            x IN FDOM f2 ==&gt;
            x IN FDOM f1 /\ (m (f1 ' x) (f2 ' x) = f1 ' x)) /\
         ((FMERGE m f1 f2 = f2) &lt;=&gt;
          !x.
            x IN FDOM f1 ==&gt;
            x IN FDOM f2 /\ (m (f1 ' x) (f2 ' x) = f2 ' x))
   
   [<A NAME="FM_PULL_APART-val"><B>FM_PULL_APART</B></A>]  Theorem
      
      |- !fm k.
           k IN FDOM fm ==&gt; ?fm0 v. (fm = fm0 |+ (k,v)) /\ k NOTIN FDOM fm0
   
   [<A NAME="FRANGE_FEMPTY-val"><B>FRANGE_FEMPTY</B></A>]  Theorem
      
      |- FRANGE FEMPTY = {}
   
   [<A NAME="FRANGE_FMAP-val"><B>FRANGE_FMAP</B></A>]  Theorem
      
      |- FINITE P ==&gt; (FRANGE (FUN_FMAP f P) = IMAGE f P)
   
   [<A NAME="FRANGE_FUPDATE-val"><B>FRANGE_FUPDATE</B></A>]  Theorem
      
      |- !f x y.
           FRANGE (f |+ (x,y)) = y INSERT FRANGE (DRESTRICT f (COMPL {x}))
   
   [<A NAME="FRANGE_FUPDATE_DOMSUB-val"><B>FRANGE_FUPDATE_DOMSUB</B></A>]  Theorem
      
      |- !fm k v. FRANGE (fm |+ (k,v)) = v INSERT FRANGE (fm \\ k)
   
   [<A NAME="FUNION_ASSOC-val"><B>FUNION_ASSOC</B></A>]  Theorem
      
      |- !f g h. FUNION f (FUNION g h) = FUNION (FUNION f g) h
   
   [<A NAME="FUNION_COMM-val"><B>FUNION_COMM</B></A>]  Theorem
      
      |- !f g. DISJOINT (FDOM f) (FDOM g) ==&gt; (FUNION f g = FUNION g f)
   
   [<A NAME="FUNION_EQ-val"><B>FUNION_EQ</B></A>]  Theorem
      
      |- !f1 f2 f3.
           DISJOINT (FDOM f1) (FDOM f2) /\ DISJOINT (FDOM f1) (FDOM f3) ==&gt;
           ((FUNION f1 f2 = FUNION f1 f3) &lt;=&gt; (f2 = f3))
   
   [<A NAME="FUNION_EQ_FEMPTY-val"><B>FUNION_EQ_FEMPTY</B></A>]  Theorem
      
      |- !h1 h2. (FUNION h1 h2 = FEMPTY) &lt;=&gt; (h1 = FEMPTY) /\ (h2 = FEMPTY)
   
   [<A NAME="FUNION_EQ_IMPL-val"><B>FUNION_EQ_IMPL</B></A>]  Theorem
      
      |- !f1 f2 f3.
           DISJOINT (FDOM f1) (FDOM f2) /\ DISJOINT (FDOM f1) (FDOM f3) /\
           (f2 = f3) ==&gt;
           (FUNION f1 f2 = FUNION f1 f3)
   
   [<A NAME="FUNION_FEMPTY_1-val"><B>FUNION_FEMPTY_1</B></A>]  Theorem
      
      |- !g. FUNION FEMPTY g = g
   
   [<A NAME="FUNION_FEMPTY_2-val"><B>FUNION_FEMPTY_2</B></A>]  Theorem
      
      |- !f. FUNION f FEMPTY = f
   
   [<A NAME="FUNION_FMERGE-val"><B>FUNION_FMERGE</B></A>]  Theorem
      
      |- !f1 f2 m.
           DISJOINT (FDOM f1) (FDOM f2) ==&gt; (FMERGE m f1 f2 = FUNION f1 f2)
   
   [<A NAME="FUNION_FUPDATE_1-val"><B>FUNION_FUPDATE_1</B></A>]  Theorem
      
      |- !f g x y. FUNION (f |+ (x,y)) g = FUNION f g |+ (x,y)
   
   [<A NAME="FUNION_FUPDATE_2-val"><B>FUNION_FUPDATE_2</B></A>]  Theorem
      
      |- !f g x y.
           FUNION f (g |+ (x,y)) =
           if x IN FDOM f then FUNION f g else FUNION f g |+ (x,y)
   
   [<A NAME="FUN_FMAP_EMPTY-val"><B>FUN_FMAP_EMPTY</B></A>]  Theorem
      
      |- FUN_FMAP f {} = FEMPTY
   
   [<A NAME="FUPD11_SAME_BASE-val"><B>FUPD11_SAME_BASE</B></A>]  Theorem
      
      |- !f k1 v1 k2 v2.
           (f |+ (k1,v1) = f |+ (k2,v2)) &lt;=&gt;
           (k1 = k2) /\ (v1 = v2) \/
           k1 &lt;&gt; k2 /\ k1 IN FDOM f /\ k2 IN FDOM f /\
           (f |+ (k1,v1) = f) /\ (f |+ (k2,v2) = f)
   
   [<A NAME="FUPD11_SAME_KEY_AND_BASE-val"><B>FUPD11_SAME_KEY_AND_BASE</B></A>]  Theorem
      
      |- !f k v1 v2. (f |+ (k,v1) = f |+ (k,v2)) &lt;=&gt; (v1 = v2)
   
   [<A NAME="FUPD11_SAME_NEW_KEY-val"><B>FUPD11_SAME_NEW_KEY</B></A>]  Theorem
      
      |- !f1 f2 k v1 v2.
           k NOTIN FDOM f1 /\ k NOTIN FDOM f2 ==&gt;
           ((f1 |+ (k,v1) = f2 |+ (k,v2)) &lt;=&gt; (f1 = f2) /\ (v1 = v2))
   
   [<A NAME="FUPD11_SAME_UPDATE-val"><B>FUPD11_SAME_UPDATE</B></A>]  Theorem
      
      |- !f1 f2 k v.
           (f1 |+ (k,v) = f2 |+ (k,v)) &lt;=&gt;
           (DRESTRICT f1 (COMPL {k}) = DRESTRICT f2 (COMPL {k}))
   
   [<A NAME="FUPDATE_COMMUTES-val"><B>FUPDATE_COMMUTES</B></A>]  Theorem
      
      |- !f a b c d. a &lt;&gt; c ==&gt; (f |+ (a,b) |+ (c,d) = f |+ (c,d) |+ (a,b))
   
   [<A NAME="FUPDATE_DRESTRICT-val"><B>FUPDATE_DRESTRICT</B></A>]  Theorem
      
      |- !f x y. f |+ (x,y) = DRESTRICT f (COMPL {x}) |+ (x,y)
   
   [<A NAME="FUPDATE_ELIM-val"><B>FUPDATE_ELIM</B></A>]  Theorem
      
      |- !k v f. k IN FDOM f /\ (f ' k = v) ==&gt; (f |+ (k,v) = f)
   
   [<A NAME="FUPDATE_EQ-val"><B>FUPDATE_EQ</B></A>]  Theorem
      
      |- !f a b c. f |+ (a,b) |+ (a,c) = f |+ (a,c)
   
   [<A NAME="FUPDATE_LIST_APPLY_NOT_MEM-val"><B>FUPDATE_LIST_APPLY_NOT_MEM</B></A>]  Theorem
      
      |- !kvl f k. ~MEM k (MAP FST kvl) ==&gt; ((f |++ kvl) ' k = f ' k)
   
   [<A NAME="FUPDATE_LIST_SAME_KEYS_UNWIND-val"><B>FUPDATE_LIST_SAME_KEYS_UNWIND</B></A>]  Theorem
      
      |- !f1 f2 kvl1 kvl2.
           (f1 |++ kvl1 = f2 |++ kvl2) /\ (MAP FST kvl1 = MAP FST kvl2) /\
           ALL_DISTINCT (MAP FST kvl1) ==&gt;
           (kvl1 = kvl2) /\
           !kvl. (MAP FST kvl = MAP FST kvl1) ==&gt; (f1 |++ kvl = f2 |++ kvl)
   
   [<A NAME="FUPDATE_LIST_SAME_UPDATE-val"><B>FUPDATE_LIST_SAME_UPDATE</B></A>]  Theorem
      
      |- !kvl f1 f2.
           (f1 |++ kvl = f2 |++ kvl) &lt;=&gt;
           (DRESTRICT f1 (COMPL (LMEM (MAP FST kvl))) =
            DRESTRICT f2 (COMPL (LMEM (MAP FST kvl))))
   
   [<A NAME="FUPDATE_LIST_THM-val"><B>FUPDATE_LIST_THM</B></A>]  Theorem
      
      |- !f. (f |++ [] = f) /\ !h t. f |++ (h::t) = f |+ h |++ t
   
   [<A NAME="FUPDATE_PURGE-val"><B>FUPDATE_PURGE</B></A>]  Theorem
      
      |- !f x y. f |+ (x,y) = f \\ x |+ (x,y)
   
   [<A NAME="FUPD_SAME_KEY_UNWIND-val"><B>FUPD_SAME_KEY_UNWIND</B></A>]  Theorem
      
      |- !f1 f2 k v1 v2.
           (f1 |+ (k,v1) = f2 |+ (k,v2)) ==&gt;
           (v1 = v2) /\ !v. f1 |+ (k,v) = f2 |+ (k,v)
   
   [<A NAME="IN_FDOM_FOLDR_UNION-val"><B>IN_FDOM_FOLDR_UNION</B></A>]  Theorem
      
      |- !x hL.
           x IN FDOM (FOLDR FUNION FEMPTY hL) &lt;=&gt;
           ?h. MEM h hL /\ x IN FDOM h
   
   [<A NAME="NOT_EQ_FAPPLY-val"><B>NOT_EQ_FAPPLY</B></A>]  Theorem
      
      |- !f a x y. a &lt;&gt; x ==&gt; ((f |+ (x,y)) ' a = f ' a)
   
   [<A NAME="NOT_EQ_FEMPTY_FUPDATE-val"><B>NOT_EQ_FEMPTY_FUPDATE</B></A>]  Theorem
      
      |- !f a b. FEMPTY &lt;&gt; f |+ (a,b)
   
   [<A NAME="NOT_FDOM_DRESTRICT-val"><B>NOT_FDOM_DRESTRICT</B></A>]  Theorem
      
      |- !f x. x NOTIN FDOM f ==&gt; (DRESTRICT f (COMPL {x}) = f)
   
   [<A NAME="NOT_FDOM_FAPPLY_FEMPTY-val"><B>NOT_FDOM_FAPPLY_FEMPTY</B></A>]  Theorem
      
      |- !f x. x NOTIN FDOM f ==&gt; (f ' x = FEMPTY ' x)
   
   [<A NAME="RRESTRICT_FEMPTY-val"><B>RRESTRICT_FEMPTY</B></A>]  Theorem
      
      |- !r. RRESTRICT FEMPTY r = FEMPTY
   
   [<A NAME="RRESTRICT_FUPDATE-val"><B>RRESTRICT_FUPDATE</B></A>]  Theorem
      
      |- !f r x y.
           RRESTRICT (f |+ (x,y)) r =
           if y IN r then
             RRESTRICT f r |+ (x,y)
           else
             RRESTRICT (DRESTRICT f (COMPL {x})) r
   
   [<A NAME="SAME_KEY_UPDATES_DIFFER-val"><B>SAME_KEY_UPDATES_DIFFER</B></A>]  Theorem
      
      |- !f1 f2 k v1 v2. v1 &lt;&gt; v2 ==&gt; f1 |+ (k,v1) &lt;&gt; f2 |+ (k,v2)
   
   [<A NAME="STRONG_DRESTRICT_FUPDATE-val"><B>STRONG_DRESTRICT_FUPDATE</B></A>]  Theorem
      
      |- !f r x y.
           x IN r ==&gt;
           (DRESTRICT (f |+ (x,y)) r = DRESTRICT f (r DELETE x) |+ (x,y))
   
   [<A NAME="STRONG_DRESTRICT_FUPDATE_THM-val"><B>STRONG_DRESTRICT_FUPDATE_THM</B></A>]  Theorem
      
      |- !f r x y.
           DRESTRICT (f |+ (x,y)) r =
           if x IN r then
             DRESTRICT f (COMPL {x} INTER r) |+ (x,y)
           else
             DRESTRICT f (COMPL {x} INTER r)
   
   [<A NAME="SUBMAP_ANTISYM-val"><B>SUBMAP_ANTISYM</B></A>]  Theorem
      
      |- !f g. f SUBMAP g /\ g SUBMAP f &lt;=&gt; (f = g)
   
   [<A NAME="SUBMAP_FEMPTY-val"><B>SUBMAP_FEMPTY</B></A>]  Theorem
      
      |- !f. FEMPTY SUBMAP f
   
   [<A NAME="SUBMAP_FRANGE-val"><B>SUBMAP_FRANGE</B></A>]  Theorem
      
      |- !f g. f SUBMAP g ==&gt; FRANGE f SUBSET FRANGE g
   
   [<A NAME="SUBMAP_FUNION-val"><B>SUBMAP_FUNION</B></A>]  Theorem
      
      |- !f1 f2 f3.
           f1 SUBMAP f2 \/ DISJOINT (FDOM f1) (FDOM f2) /\ f1 SUBMAP f3 ==&gt;
           f1 SUBMAP FUNION f2 f3
   
   [<A NAME="SUBMAP_FUNION_EQ-val"><B>SUBMAP_FUNION_EQ</B></A>]  Theorem
      
      |- (!f1 f2 f3.
            DISJOINT (FDOM f1) (FDOM f2) ==&gt;
            (f1 SUBMAP FUNION f2 f3 &lt;=&gt; f1 SUBMAP f3)) /\
         !f1 f2 f3.
           DISJOINT (FDOM f1) (FDOM f3 DIFF FDOM f2) ==&gt;
           (f1 SUBMAP FUNION f2 f3 &lt;=&gt; f1 SUBMAP f2)
   
   [<A NAME="SUBMAP_FUNION_ID-val"><B>SUBMAP_FUNION_ID</B></A>]  Theorem
      
      |- (!f1 f2. f1 SUBMAP FUNION f1 f2) /\
         !f1 f2. DISJOINT (FDOM f1) (FDOM f2) ==&gt; f2 SUBMAP FUNION f1 f2
   
   [<A NAME="SUBMAP_FUPDATE-val"><B>SUBMAP_FUPDATE</B></A>]  Theorem
      
      |- !f g x y.
           f |+ (x,y) SUBMAP g &lt;=&gt;
           x IN FDOM g /\ (g ' x = y) /\ f \\ x SUBMAP g \\ x
   
   [<A NAME="SUBMAP_REFL-val"><B>SUBMAP_REFL</B></A>]  Theorem
      
      |- !f. f SUBMAP f
   
   [<A NAME="SUBMAP_TRANS-val"><B>SUBMAP_TRANS</B></A>]  Theorem
      
      |- !f g h. f SUBMAP g /\ g SUBMAP h ==&gt; f SUBMAP h
   
   [<A NAME="f_o_f_FEMPTY_1-val"><B>f_o_f_FEMPTY_1</B></A>]  Theorem
      
      |- !f. FEMPTY f_o_f f = FEMPTY
   
   [<A NAME="f_o_f_FEMPTY_2-val"><B>f_o_f_FEMPTY_2</B></A>]  Theorem
      
      |- !f. f f_o_f FEMPTY = FEMPTY
   
   [<A NAME="fmap_CASES-val"><B>fmap_CASES</B></A>]  Theorem
      
      |- !f. (f = FEMPTY) \/ ?g x y. f = g |+ (x,y)
   
   [<A NAME="fmap_EQ-val"><B>fmap_EQ</B></A>]  Theorem
      
      |- !f g. (FDOM f = FDOM g) /\ ($' f = $' g) &lt;=&gt; (f = g)
   
   [<A NAME="fmap_EQ_THM-val"><B>fmap_EQ_THM</B></A>]  Theorem
      
      |- !f g.
           (FDOM f = FDOM g) /\ (!x. x IN FDOM f ==&gt; (f ' x = g ' x)) &lt;=&gt;
           (f = g)
   
   [<A NAME="fmap_EXT-val"><B>fmap_EXT</B></A>]  Theorem
      
      |- !f g.
           (f = g) &lt;=&gt;
           (FDOM f = FDOM g) /\ !x. x IN FDOM f ==&gt; (f ' x = g ' x)
   
   [<A NAME="fmap_INDUCT-val"><B>fmap_INDUCT</B></A>]  Theorem
      
      |- !P.
           P FEMPTY /\
           (!f. P f ==&gt; !x y. x NOTIN FDOM f ==&gt; P (f |+ (x,y))) ==&gt;
           !f. P f
   
   [<A NAME="fmap_SIMPLE_INDUCT-val"><B>fmap_SIMPLE_INDUCT</B></A>]  Theorem
      
      |- !P. P FEMPTY /\ (!f. P f ==&gt; !x y. P (f |+ (x,y))) ==&gt; !f. P f
   
   [<A NAME="is_fmap_cases-val"><B>is_fmap_cases</B></A>]  Theorem
      
      |- !a0.
           is_fmap a0 &lt;=&gt;
           (a0 = (\a. INR ())) \/
           ?f a b. (a0 = (\x. if x = a then INL b else f x)) /\ is_fmap f
   
   [<A NAME="is_fmap_ind-val"><B>is_fmap_ind</B></A>]  Theorem
      
      |- !is_fmap'.
           is_fmap' (\a. INR ()) /\
           (!f a b.
              is_fmap' f ==&gt;
              is_fmap' (\x. if x = a then INL b else f x)) ==&gt;
           !a0. is_fmap a0 ==&gt; is_fmap' a0
   
   [<A NAME="is_fmap_rules-val"><B>is_fmap_rules</B></A>]  Theorem
      
      |- is_fmap (\a. INR ()) /\
         !f a b. is_fmap f ==&gt; is_fmap (\x. if x = a then INL b else f x)
   
   [<A NAME="o_f_DOMSUB-val"><B>o_f_DOMSUB</B></A>]  Theorem
      
      |- (g o_f fm) \\ k = g o_f fm \\ k
   
   [<A NAME="o_f_FAPPLY-val"><B>o_f_FAPPLY</B></A>]  Theorem
      
      |- !f g x. x IN FDOM g ==&gt; ((f o_f g) ' x = f (g ' x))
   
   [<A NAME="o_f_FDOM-val"><B>o_f_FDOM</B></A>]  Theorem
      
      |- !f g. FDOM g = FDOM (f o_f g)
   
   [<A NAME="o_f_FEMPTY-val"><B>o_f_FEMPTY</B></A>]  Theorem
      
      |- f o_f FEMPTY = FEMPTY
   
   [<A NAME="o_f_FUPDATE-val"><B>o_f_FUPDATE</B></A>]  Theorem
      
      |- f o_f fm |+ (k,v) = (f o_f fm \\ k) |+ (k,f v)
   
   [<A NAME="o_f_o_f-val"><B>o_f_o_f</B></A>]  Theorem
      
      |- f o_f (g o_f h) = f o g o_f h
   
   
*)
end

</PRE><HR><TABLE WIDTH=100%><TR ALIGN = CENTER>
<TH><A HREF="../../../src/finite_map/finite_mapScript.sml" type="text/plain">Source File</A>
<TH><A HREF="idIndex.html">Identifier index</A>
<TH><A HREF="TheoryIndex.html">Theory binding index</A>
</TABLE><HR>
<BR><EM><A HREF="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Kananaskis-5</EM></BODY></HTML>
