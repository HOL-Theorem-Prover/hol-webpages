<HTML><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon"><TITLE>Structure prob_canonTheory</TITLE></HEAD>
<BODY BGCOLOR="#fbf2e7">
<H1>Structure prob_canonTheory</H1>
<HR><TABLE WIDTH=100%><TR ALIGN = CENTER>
<TH><A HREF="../../../src/prob/prob_canonScript.sml" type="text/plain">Source File</A>
<TH><A HREF="idIndex.html">Identifier index</A>
<TH><A HREF="TheoryIndex.html">Theory binding index</A>
</TABLE><HR>
<PRE>
<A NAME="line1"></A>signature prob_canonTheory =
<A NAME="line2"></A>sig
<A NAME="line3"></A>  type thm = Thm.thm
<A NAME="line4"></A>  
<A NAME="line5"></A>  (*  Definitions  *)
<A NAME="line6"></A>    val <A HREF="#alg_canon1_def-val">alg_canon1_def</A> : thm
<A NAME="line7"></A>    val <A HREF="#alg_canon2_def-val">alg_canon2_def</A> : thm
<A NAME="line8"></A>    val <A HREF="#alg_canon_def-val">alg_canon_def</A> : thm
<A NAME="line9"></A>    val <A HREF="#alg_canon_find_def-val">alg_canon_find_def</A> : thm
<A NAME="line10"></A>    val <A HREF="#alg_canon_merge_def-val">alg_canon_merge_def</A> : thm
<A NAME="line11"></A>    val <A HREF="#alg_canon_prefs_def-val">alg_canon_prefs_def</A> : thm
<A NAME="line12"></A>    val <A HREF="#alg_longest_def-val">alg_longest_def</A> : thm
<A NAME="line13"></A>    val <A HREF="#alg_order_curried_def-val">alg_order_curried_def</A> : thm
<A NAME="line14"></A>    val <A HREF="#alg_order_tupled_primitive_def-val">alg_order_tupled_primitive_def</A> : thm
<A NAME="line15"></A>    val <A HREF="#alg_prefixfree_primitive_def-val">alg_prefixfree_primitive_def</A> : thm
<A NAME="line16"></A>    val <A HREF="#alg_sorted_primitive_def-val">alg_sorted_primitive_def</A> : thm
<A NAME="line17"></A>    val <A HREF="#alg_twin_def-val">alg_twin_def</A> : thm
<A NAME="line18"></A>    val <A HREF="#alg_twinfree_primitive_def-val">alg_twinfree_primitive_def</A> : thm
<A NAME="line19"></A>    val <A HREF="#algebra_canon_def-val">algebra_canon_def</A> : thm
<A NAME="line20"></A>  
<A NAME="line21"></A>  (*  Theorems  *)
<A NAME="line22"></A>    val <A HREF="#ALGEBRA_CANON_BASIC-val">ALGEBRA_CANON_BASIC</A> : thm
<A NAME="line23"></A>    val <A HREF="#ALGEBRA_CANON_CASES-val">ALGEBRA_CANON_CASES</A> : thm
<A NAME="line24"></A>    val <A HREF="#ALGEBRA_CANON_CASES_THM-val">ALGEBRA_CANON_CASES_THM</A> : thm
<A NAME="line25"></A>    val <A HREF="#ALGEBRA_CANON_DEF_ALT-val">ALGEBRA_CANON_DEF_ALT</A> : thm
<A NAME="line26"></A>    val <A HREF="#ALGEBRA_CANON_INDUCTION-val">ALGEBRA_CANON_INDUCTION</A> : thm
<A NAME="line27"></A>    val <A HREF="#ALGEBRA_CANON_NIL_MEM-val">ALGEBRA_CANON_NIL_MEM</A> : thm
<A NAME="line28"></A>    val <A HREF="#ALGEBRA_CANON_STEP-val">ALGEBRA_CANON_STEP</A> : thm
<A NAME="line29"></A>    val <A HREF="#ALGEBRA_CANON_STEP1-val">ALGEBRA_CANON_STEP1</A> : thm
<A NAME="line30"></A>    val <A HREF="#ALGEBRA_CANON_STEP2-val">ALGEBRA_CANON_STEP2</A> : thm
<A NAME="line31"></A>    val <A HREF="#ALGEBRA_CANON_TL-val">ALGEBRA_CANON_TL</A> : thm
<A NAME="line32"></A>    val <A HREF="#ALGEBRA_CANON_TLS-val">ALGEBRA_CANON_TLS</A> : thm
<A NAME="line33"></A>    val <A HREF="#ALG_CANON1_CONSTANT-val">ALG_CANON1_CONSTANT</A> : thm
<A NAME="line34"></A>    val <A HREF="#ALG_CANON1_PREFIXFREE-val">ALG_CANON1_PREFIXFREE</A> : thm
<A NAME="line35"></A>    val <A HREF="#ALG_CANON1_SORTED-val">ALG_CANON1_SORTED</A> : thm
<A NAME="line36"></A>    val <A HREF="#ALG_CANON2_CONSTANT-val">ALG_CANON2_CONSTANT</A> : thm
<A NAME="line37"></A>    val <A HREF="#ALG_CANON2_PREFIXFREE_PRESERVE-val">ALG_CANON2_PREFIXFREE_PRESERVE</A> : thm
<A NAME="line38"></A>    val <A HREF="#ALG_CANON2_SHORTENS-val">ALG_CANON2_SHORTENS</A> : thm
<A NAME="line39"></A>    val <A HREF="#ALG_CANON2_SORTED_PREFIXFREE_TWINFREE-val">ALG_CANON2_SORTED_PREFIXFREE_TWINFREE</A> : thm
<A NAME="line40"></A>    val <A HREF="#ALG_CANON_BASIC-val">ALG_CANON_BASIC</A> : thm
<A NAME="line41"></A>    val <A HREF="#ALG_CANON_CONSTANT-val">ALG_CANON_CONSTANT</A> : thm
<A NAME="line42"></A>    val <A HREF="#ALG_CANON_FIND_CONSTANT-val">ALG_CANON_FIND_CONSTANT</A> : thm
<A NAME="line43"></A>    val <A HREF="#ALG_CANON_FIND_DELETES-val">ALG_CANON_FIND_DELETES</A> : thm
<A NAME="line44"></A>    val <A HREF="#ALG_CANON_FIND_HD-val">ALG_CANON_FIND_HD</A> : thm
<A NAME="line45"></A>    val <A HREF="#ALG_CANON_FIND_PREFIXFREE-val">ALG_CANON_FIND_PREFIXFREE</A> : thm
<A NAME="line46"></A>    val <A HREF="#ALG_CANON_FIND_SORTED-val">ALG_CANON_FIND_SORTED</A> : thm
<A NAME="line47"></A>    val <A HREF="#ALG_CANON_IDEMPOT-val">ALG_CANON_IDEMPOT</A> : thm
<A NAME="line48"></A>    val <A HREF="#ALG_CANON_MERGE_CONSTANT-val">ALG_CANON_MERGE_CONSTANT</A> : thm
<A NAME="line49"></A>    val <A HREF="#ALG_CANON_MERGE_PREFIXFREE_PRESERVE-val">ALG_CANON_MERGE_PREFIXFREE_PRESERVE</A> : thm
<A NAME="line50"></A>    val <A HREF="#ALG_CANON_MERGE_SHORTENS-val">ALG_CANON_MERGE_SHORTENS</A> : thm
<A NAME="line51"></A>    val <A HREF="#ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE-val">ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE</A> : thm
<A NAME="line52"></A>    val <A HREF="#ALG_CANON_PREFS_CONSTANT-val">ALG_CANON_PREFS_CONSTANT</A> : thm
<A NAME="line53"></A>    val <A HREF="#ALG_CANON_PREFS_DELETES-val">ALG_CANON_PREFS_DELETES</A> : thm
<A NAME="line54"></A>    val <A HREF="#ALG_CANON_PREFS_HD-val">ALG_CANON_PREFS_HD</A> : thm
<A NAME="line55"></A>    val <A HREF="#ALG_CANON_PREFS_PREFIXFREE-val">ALG_CANON_PREFS_PREFIXFREE</A> : thm
<A NAME="line56"></A>    val <A HREF="#ALG_CANON_PREFS_SORTED-val">ALG_CANON_PREFS_SORTED</A> : thm
<A NAME="line57"></A>    val <A HREF="#ALG_CANON_SORTED_PREFIXFREE_TWINFREE-val">ALG_CANON_SORTED_PREFIXFREE_TWINFREE</A> : thm
<A NAME="line58"></A>    val <A HREF="#ALG_LONGEST_APPEND-val">ALG_LONGEST_APPEND</A> : thm
<A NAME="line59"></A>    val <A HREF="#ALG_LONGEST_HD-val">ALG_LONGEST_HD</A> : thm
<A NAME="line60"></A>    val <A HREF="#ALG_LONGEST_TL-val">ALG_LONGEST_TL</A> : thm
<A NAME="line61"></A>    val <A HREF="#ALG_LONGEST_TLS-val">ALG_LONGEST_TLS</A> : thm
<A NAME="line62"></A>    val <A HREF="#ALG_ORDER_ANTISYM-val">ALG_ORDER_ANTISYM</A> : thm
<A NAME="line63"></A>    val <A HREF="#ALG_ORDER_NIL-val">ALG_ORDER_NIL</A> : thm
<A NAME="line64"></A>    val <A HREF="#ALG_ORDER_PREFIX-val">ALG_ORDER_PREFIX</A> : thm
<A NAME="line65"></A>    val <A HREF="#ALG_ORDER_PREFIX_ANTI-val">ALG_ORDER_PREFIX_ANTI</A> : thm
<A NAME="line66"></A>    val <A HREF="#ALG_ORDER_PREFIX_MONO-val">ALG_ORDER_PREFIX_MONO</A> : thm
<A NAME="line67"></A>    val <A HREF="#ALG_ORDER_PREFIX_TRANS-val">ALG_ORDER_PREFIX_TRANS</A> : thm
<A NAME="line68"></A>    val <A HREF="#ALG_ORDER_REFL-val">ALG_ORDER_REFL</A> : thm
<A NAME="line69"></A>    val <A HREF="#ALG_ORDER_SNOC-val">ALG_ORDER_SNOC</A> : thm
<A NAME="line70"></A>    val <A HREF="#ALG_ORDER_TOTAL-val">ALG_ORDER_TOTAL</A> : thm
<A NAME="line71"></A>    val <A HREF="#ALG_ORDER_TRANS-val">ALG_ORDER_TRANS</A> : thm
<A NAME="line72"></A>    val <A HREF="#ALG_PREFIXFREE_APPEND-val">ALG_PREFIXFREE_APPEND</A> : thm
<A NAME="line73"></A>    val <A HREF="#ALG_PREFIXFREE_ELT-val">ALG_PREFIXFREE_ELT</A> : thm
<A NAME="line74"></A>    val <A HREF="#ALG_PREFIXFREE_FILTER-val">ALG_PREFIXFREE_FILTER</A> : thm
<A NAME="line75"></A>    val <A HREF="#ALG_PREFIXFREE_MONO-val">ALG_PREFIXFREE_MONO</A> : thm
<A NAME="line76"></A>    val <A HREF="#ALG_PREFIXFREE_STEP-val">ALG_PREFIXFREE_STEP</A> : thm
<A NAME="line77"></A>    val <A HREF="#ALG_PREFIXFREE_TL-val">ALG_PREFIXFREE_TL</A> : thm
<A NAME="line78"></A>    val <A HREF="#ALG_PREFIXFREE_TLS-val">ALG_PREFIXFREE_TLS</A> : thm
<A NAME="line79"></A>    val <A HREF="#ALG_SORTED_APPEND-val">ALG_SORTED_APPEND</A> : thm
<A NAME="line80"></A>    val <A HREF="#ALG_SORTED_DEF_ALT-val">ALG_SORTED_DEF_ALT</A> : thm
<A NAME="line81"></A>    val <A HREF="#ALG_SORTED_FILTER-val">ALG_SORTED_FILTER</A> : thm
<A NAME="line82"></A>    val <A HREF="#ALG_SORTED_MIN-val">ALG_SORTED_MIN</A> : thm
<A NAME="line83"></A>    val <A HREF="#ALG_SORTED_MONO-val">ALG_SORTED_MONO</A> : thm
<A NAME="line84"></A>    val <A HREF="#ALG_SORTED_PREFIXFREE_EQUALITY-val">ALG_SORTED_PREFIXFREE_EQUALITY</A> : thm
<A NAME="line85"></A>    val <A HREF="#ALG_SORTED_PREFIXFREE_MEM_NIL-val">ALG_SORTED_PREFIXFREE_MEM_NIL</A> : thm
<A NAME="line86"></A>    val <A HREF="#ALG_SORTED_STEP-val">ALG_SORTED_STEP</A> : thm
<A NAME="line87"></A>    val <A HREF="#ALG_SORTED_TL-val">ALG_SORTED_TL</A> : thm
<A NAME="line88"></A>    val <A HREF="#ALG_SORTED_TLS-val">ALG_SORTED_TLS</A> : thm
<A NAME="line89"></A>    val <A HREF="#ALG_TWINFREE_STEP-val">ALG_TWINFREE_STEP</A> : thm
<A NAME="line90"></A>    val <A HREF="#ALG_TWINFREE_STEP1-val">ALG_TWINFREE_STEP1</A> : thm
<A NAME="line91"></A>    val <A HREF="#ALG_TWINFREE_STEP2-val">ALG_TWINFREE_STEP2</A> : thm
<A NAME="line92"></A>    val <A HREF="#ALG_TWINFREE_TL-val">ALG_TWINFREE_TL</A> : thm
<A NAME="line93"></A>    val <A HREF="#ALG_TWINFREE_TLS-val">ALG_TWINFREE_TLS</A> : thm
<A NAME="line94"></A>    val <A HREF="#ALG_TWINS_PREFIX-val">ALG_TWINS_PREFIX</A> : thm
<A NAME="line95"></A>    val <A HREF="#ALG_TWIN_CONS-val">ALG_TWIN_CONS</A> : thm
<A NAME="line96"></A>    val <A HREF="#ALG_TWIN_NIL-val">ALG_TWIN_NIL</A> : thm
<A NAME="line97"></A>    val <A HREF="#ALG_TWIN_REDUCE-val">ALG_TWIN_REDUCE</A> : thm
<A NAME="line98"></A>    val <A HREF="#ALG_TWIN_SING-val">ALG_TWIN_SING</A> : thm
<A NAME="line99"></A>    val <A HREF="#MEM_NIL_STEP-val">MEM_NIL_STEP</A> : thm
<A NAME="line100"></A>    val <A HREF="#alg_order_def-val">alg_order_def</A> : thm
<A NAME="line101"></A>    val <A HREF="#alg_order_ind-val">alg_order_ind</A> : thm
<A NAME="line102"></A>    val <A HREF="#alg_prefixfree_def-val">alg_prefixfree_def</A> : thm
<A NAME="line103"></A>    val <A HREF="#alg_prefixfree_ind-val">alg_prefixfree_ind</A> : thm
<A NAME="line104"></A>    val <A HREF="#alg_sorted_def-val">alg_sorted_def</A> : thm
<A NAME="line105"></A>    val <A HREF="#alg_sorted_ind-val">alg_sorted_ind</A> : thm
<A NAME="line106"></A>    val <A HREF="#alg_twinfree_def-val">alg_twinfree_def</A> : thm
<A NAME="line107"></A>    val <A HREF="#alg_twinfree_ind-val">alg_twinfree_ind</A> : thm
<A NAME="line108"></A>  
<A NAME="line109"></A>  val prob_canon_grammars : type_grammar.grammar * term_grammar.grammar
<A NAME="line110"></A>  
<A NAME="line111"></A>  
<A NAME="line112"></A>(*
   [prob_extra] Parent theory of "prob_canon"
   
   [<A NAME="alg_canon1_def-val"><B>alg_canon1_def</B></A>]  Definition
      
      |- alg_canon1 = FOLDR alg_canon_find []
   
   [<A NAME="alg_canon2_def-val"><B>alg_canon2_def</B></A>]  Definition
      
      |- alg_canon2 = FOLDR alg_canon_merge []
   
   [<A NAME="alg_canon_def-val"><B>alg_canon_def</B></A>]  Definition
      
      |- !l. alg_canon l = alg_canon2 (alg_canon1 l)
   
   [<A NAME="alg_canon_find_def-val"><B>alg_canon_find_def</B></A>]  Definition
      
      |- (!l. alg_canon_find l [] = [l]) /\
         !l h t.
           alg_canon_find l (h::t) =
           if alg_order h l then
             if h &lt;&lt;= l then h::t else h::alg_canon_find l t
           else
             alg_canon_prefs l (h::t)
   
   [<A NAME="alg_canon_merge_def-val"><B>alg_canon_merge_def</B></A>]  Definition
      
      |- (!l. alg_canon_merge l [] = [l]) /\
         !l h t.
           alg_canon_merge l (h::t) =
           if alg_twin l h then alg_canon_merge (FRONT h) t else l::h::t
   
   [<A NAME="alg_canon_prefs_def-val"><B>alg_canon_prefs_def</B></A>]  Definition
      
      |- (!l. alg_canon_prefs l [] = [l]) /\
         !l h t.
           alg_canon_prefs l (h::t) =
           if l &lt;&lt;= h then alg_canon_prefs l t else l::h::t
   
   [<A NAME="alg_longest_def-val"><B>alg_longest_def</B></A>]  Definition
      
      |- alg_longest =
         FOLDR (\h t. if t &lt;= LENGTH h then LENGTH h else t) 0
   
   [<A NAME="alg_order_curried_def-val"><B>alg_order_curried_def</B></A>]  Definition
      
      |- !x x1. alg_order x x1 &lt;=&gt; alg_order_tupled (x,x1)
   
   [<A NAME="alg_order_tupled_primitive_def-val"><B>alg_order_tupled_primitive_def</B></A>]  Definition
      
      |- alg_order_tupled =
         WFREC (@R. WF R /\ !h' h t' t. R (t,t') (h::t,h'::t'))
           (\alg_order_tupled a.
              case a of
                 ([],[]) -&gt; I T
              || ([],v9::v10) -&gt; I T
              || (h::t,[]) -&gt; I F
              || (h::t,h'::t') -&gt;
                   I
                     ((h &lt;=&gt; T) /\ (h' &lt;=&gt; F) \/
                      (h &lt;=&gt; h') /\ alg_order_tupled (t,t')))
   
   [<A NAME="alg_prefixfree_primitive_def-val"><B>alg_prefixfree_primitive_def</B></A>]  Definition
      
      |- alg_prefixfree =
         WFREC (@R. WF R /\ !x z y. R (y::z) (x::y::z))
           (\alg_prefixfree a.
              case a of
                 [] -&gt; I T
              || [x] -&gt; I T
              || x::y::z -&gt; I (~(x &lt;&lt;= y) /\ alg_prefixfree (y::z)))
   
   [<A NAME="alg_sorted_primitive_def-val"><B>alg_sorted_primitive_def</B></A>]  Definition
      
      |- alg_sorted =
         WFREC (@R. WF R /\ !x z y. R (y::z) (x::y::z))
           (\alg_sorted a.
              case a of
                 [] -&gt; I T
              || [x] -&gt; I T
              || x::y::z -&gt; I (alg_order x y /\ alg_sorted (y::z)))
   
   [<A NAME="alg_twin_def-val"><B>alg_twin_def</B></A>]  Definition
      
      |- !x y. alg_twin x y &lt;=&gt; ?l. (x = SNOC T l) /\ (y = SNOC F l)
   
   [<A NAME="alg_twinfree_primitive_def-val"><B>alg_twinfree_primitive_def</B></A>]  Definition
      
      |- alg_twinfree =
         WFREC (@R. WF R /\ !x z y. R (y::z) (x::y::z))
           (\alg_twinfree a.
              case a of
                 [] -&gt; I T
              || [x] -&gt; I T
              || x::y::z -&gt; I (~alg_twin x y /\ alg_twinfree (y::z)))
   
   [<A NAME="algebra_canon_def-val"><B>algebra_canon_def</B></A>]  Definition
      
      |- !l. algebra_canon l &lt;=&gt; (alg_canon l = l)
   
   [<A NAME="ALGEBRA_CANON_BASIC-val"><B>ALGEBRA_CANON_BASIC</B></A>]  Theorem
      
      |- algebra_canon [] /\ algebra_canon [[]] /\ !x. algebra_canon [x]
   
   [<A NAME="ALGEBRA_CANON_CASES-val"><B>ALGEBRA_CANON_CASES</B></A>]  Theorem
      
      |- !P.
           P [] /\ P [[]] /\
           (!l1 l2.
              algebra_canon l1 /\ algebra_canon l2 /\
              algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ==&gt;
              P (MAP (CONS T) l1 ++ MAP (CONS F) l2)) ==&gt;
           !l. algebra_canon l ==&gt; P l
   
   [<A NAME="ALGEBRA_CANON_CASES_THM-val"><B>ALGEBRA_CANON_CASES_THM</B></A>]  Theorem
      
      |- !l.
           algebra_canon l ==&gt;
           (l = []) \/ (l = [[]]) \/
           ?l1 l2.
             algebra_canon l1 /\ algebra_canon l2 /\
             (l = MAP (CONS T) l1 ++ MAP (CONS F) l2)
   
   [<A NAME="ALGEBRA_CANON_DEF_ALT-val"><B>ALGEBRA_CANON_DEF_ALT</B></A>]  Theorem
      
      |- !l.
           algebra_canon l &lt;=&gt;
           alg_sorted l /\ alg_prefixfree l /\ alg_twinfree l
   
   [<A NAME="ALGEBRA_CANON_INDUCTION-val"><B>ALGEBRA_CANON_INDUCTION</B></A>]  Theorem
      
      |- !P.
           P [] /\ P [[]] /\
           (!l1 l2.
              algebra_canon l1 /\ algebra_canon l2 /\ P l1 /\ P l2 /\
              algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ==&gt;
              P (MAP (CONS T) l1 ++ MAP (CONS F) l2)) ==&gt;
           !l. algebra_canon l ==&gt; P l
   
   [<A NAME="ALGEBRA_CANON_NIL_MEM-val"><B>ALGEBRA_CANON_NIL_MEM</B></A>]  Theorem
      
      |- !l. algebra_canon l /\ MEM [] l &lt;=&gt; (l = [[]])
   
   [<A NAME="ALGEBRA_CANON_STEP-val"><B>ALGEBRA_CANON_STEP</B></A>]  Theorem
      
      |- !l1 l2.
           l1 &lt;&gt; [[]] \/ l2 &lt;&gt; [[]] ==&gt;
           (algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) &lt;=&gt;
            algebra_canon l1 /\ algebra_canon l2)
   
   [<A NAME="ALGEBRA_CANON_STEP1-val"><B>ALGEBRA_CANON_STEP1</B></A>]  Theorem
      
      |- !l1 l2.
           algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ==&gt;
           algebra_canon l1 /\ algebra_canon l2
   
   [<A NAME="ALGEBRA_CANON_STEP2-val"><B>ALGEBRA_CANON_STEP2</B></A>]  Theorem
      
      |- !l1 l2.
           (l1 &lt;&gt; [[]] \/ l2 &lt;&gt; [[]]) /\ algebra_canon l1 /\
           algebra_canon l2 ==&gt;
           algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2)
   
   [<A NAME="ALGEBRA_CANON_TL-val"><B>ALGEBRA_CANON_TL</B></A>]  Theorem
      
      |- !h t. algebra_canon (h::t) ==&gt; algebra_canon t
   
   [<A NAME="ALGEBRA_CANON_TLS-val"><B>ALGEBRA_CANON_TLS</B></A>]  Theorem
      
      |- !l b. algebra_canon (MAP (CONS b) l) &lt;=&gt; algebra_canon l
   
   [<A NAME="ALG_CANON1_CONSTANT-val"><B>ALG_CANON1_CONSTANT</B></A>]  Theorem
      
      |- !l. alg_sorted l /\ alg_prefixfree l ==&gt; (alg_canon1 l = l)
   
   [<A NAME="ALG_CANON1_PREFIXFREE-val"><B>ALG_CANON1_PREFIXFREE</B></A>]  Theorem
      
      |- !l. alg_prefixfree (alg_canon1 l)
   
   [<A NAME="ALG_CANON1_SORTED-val"><B>ALG_CANON1_SORTED</B></A>]  Theorem
      
      |- !l. alg_sorted (alg_canon1 l)
   
   [<A NAME="ALG_CANON2_CONSTANT-val"><B>ALG_CANON2_CONSTANT</B></A>]  Theorem
      
      |- !l. alg_twinfree l ==&gt; (alg_canon2 l = l)
   
   [<A NAME="ALG_CANON2_PREFIXFREE_PRESERVE-val"><B>ALG_CANON2_PREFIXFREE_PRESERVE</B></A>]  Theorem
      
      |- !l h.
           (!x. MEM x l ==&gt; ~(x &lt;&lt;= h) /\ ~(h &lt;&lt;= x)) ==&gt;
           !x. MEM x (alg_canon2 l) ==&gt; ~(x &lt;&lt;= h) /\ ~(h &lt;&lt;= x)
   
   [<A NAME="ALG_CANON2_SHORTENS-val"><B>ALG_CANON2_SHORTENS</B></A>]  Theorem
      
      |- !l x. MEM x (alg_canon2 l) ==&gt; ?y. MEM y l /\ x &lt;&lt;= y
   
   [<A NAME="ALG_CANON2_SORTED_PREFIXFREE_TWINFREE-val"><B>ALG_CANON2_SORTED_PREFIXFREE_TWINFREE</B></A>]  Theorem
      
      |- !l.
           alg_sorted l /\ alg_prefixfree l ==&gt;
           alg_sorted (alg_canon2 l) /\ alg_prefixfree (alg_canon2 l) /\
           alg_twinfree (alg_canon2 l)
   
   [<A NAME="ALG_CANON_BASIC-val"><B>ALG_CANON_BASIC</B></A>]  Theorem
      
      |- (alg_canon [] = []) /\ (alg_canon [[]] = [[]]) /\
         !x. alg_canon [x] = [x]
   
   [<A NAME="ALG_CANON_CONSTANT-val"><B>ALG_CANON_CONSTANT</B></A>]  Theorem
      
      |- !l.
           alg_sorted l /\ alg_prefixfree l /\ alg_twinfree l ==&gt;
           (alg_canon l = l)
   
   [<A NAME="ALG_CANON_FIND_CONSTANT-val"><B>ALG_CANON_FIND_CONSTANT</B></A>]  Theorem
      
      |- !l b.
           alg_sorted (l::b) /\ alg_prefixfree (l::b) ==&gt;
           (alg_canon_find l b = l::b)
   
   [<A NAME="ALG_CANON_FIND_DELETES-val"><B>ALG_CANON_FIND_DELETES</B></A>]  Theorem
      
      |- !l b x. MEM x (alg_canon_find l b) ==&gt; MEM x (l::b)
   
   [<A NAME="ALG_CANON_FIND_HD-val"><B>ALG_CANON_FIND_HD</B></A>]  Theorem
      
      |- !l h t.
           (HD (alg_canon_find l (h::t)) = l) \/
           (HD (alg_canon_find l (h::t)) = h)
   
   [<A NAME="ALG_CANON_FIND_PREFIXFREE-val"><B>ALG_CANON_FIND_PREFIXFREE</B></A>]  Theorem
      
      |- !l b.
           alg_sorted b /\ alg_prefixfree b ==&gt;
           alg_prefixfree (alg_canon_find l b)
   
   [<A NAME="ALG_CANON_FIND_SORTED-val"><B>ALG_CANON_FIND_SORTED</B></A>]  Theorem
      
      |- !l b. alg_sorted b ==&gt; alg_sorted (alg_canon_find l b)
   
   [<A NAME="ALG_CANON_IDEMPOT-val"><B>ALG_CANON_IDEMPOT</B></A>]  Theorem
      
      |- !l. alg_canon (alg_canon l) = alg_canon l
   
   [<A NAME="ALG_CANON_MERGE_CONSTANT-val"><B>ALG_CANON_MERGE_CONSTANT</B></A>]  Theorem
      
      |- !l b. alg_twinfree (l::b) ==&gt; (alg_canon_merge l b = l::b)
   
   [<A NAME="ALG_CANON_MERGE_PREFIXFREE_PRESERVE-val"><B>ALG_CANON_MERGE_PREFIXFREE_PRESERVE</B></A>]  Theorem
      
      |- !l b h.
           (!x. MEM x (l::b) ==&gt; ~(x &lt;&lt;= h) /\ ~(h &lt;&lt;= x)) ==&gt;
           !x. MEM x (alg_canon_merge l b) ==&gt; ~(x &lt;&lt;= h) /\ ~(h &lt;&lt;= x)
   
   [<A NAME="ALG_CANON_MERGE_SHORTENS-val"><B>ALG_CANON_MERGE_SHORTENS</B></A>]  Theorem
      
      |- !l b x.
           MEM x (alg_canon_merge l b) ==&gt; ?y. MEM y (l::b) /\ x &lt;&lt;= y
   
   [<A NAME="ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE-val"><B>ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE</B></A>]  Theorem
      
      |- !l b.
           alg_sorted (l::b) /\ alg_prefixfree (l::b) /\ alg_twinfree b ==&gt;
           alg_sorted (alg_canon_merge l b) /\
           alg_prefixfree (alg_canon_merge l b) /\
           alg_twinfree (alg_canon_merge l b)
   
   [<A NAME="ALG_CANON_PREFS_CONSTANT-val"><B>ALG_CANON_PREFS_CONSTANT</B></A>]  Theorem
      
      |- !l b. alg_prefixfree (l::b) ==&gt; (alg_canon_prefs l b = l::b)
   
   [<A NAME="ALG_CANON_PREFS_DELETES-val"><B>ALG_CANON_PREFS_DELETES</B></A>]  Theorem
      
      |- !l b x. MEM x (alg_canon_prefs l b) ==&gt; MEM x (l::b)
   
   [<A NAME="ALG_CANON_PREFS_HD-val"><B>ALG_CANON_PREFS_HD</B></A>]  Theorem
      
      |- !l b. HD (alg_canon_prefs l b) = l
   
   [<A NAME="ALG_CANON_PREFS_PREFIXFREE-val"><B>ALG_CANON_PREFS_PREFIXFREE</B></A>]  Theorem
      
      |- !l b.
           alg_sorted b /\ alg_prefixfree b ==&gt;
           alg_prefixfree (alg_canon_prefs l b)
   
   [<A NAME="ALG_CANON_PREFS_SORTED-val"><B>ALG_CANON_PREFS_SORTED</B></A>]  Theorem
      
      |- !l b. alg_sorted (l::b) ==&gt; alg_sorted (alg_canon_prefs l b)
   
   [<A NAME="ALG_CANON_SORTED_PREFIXFREE_TWINFREE-val"><B>ALG_CANON_SORTED_PREFIXFREE_TWINFREE</B></A>]  Theorem
      
      |- !l.
           alg_sorted (alg_canon l) /\ alg_prefixfree (alg_canon l) /\
           alg_twinfree (alg_canon l)
   
   [<A NAME="ALG_LONGEST_APPEND-val"><B>ALG_LONGEST_APPEND</B></A>]  Theorem
      
      |- !l1 l2.
           alg_longest l1 &lt;= alg_longest (l1 ++ l2) /\
           alg_longest l2 &lt;= alg_longest (l1 ++ l2)
   
   [<A NAME="ALG_LONGEST_HD-val"><B>ALG_LONGEST_HD</B></A>]  Theorem
      
      |- !h t. LENGTH h &lt;= alg_longest (h::t)
   
   [<A NAME="ALG_LONGEST_TL-val"><B>ALG_LONGEST_TL</B></A>]  Theorem
      
      |- !h t. alg_longest t &lt;= alg_longest (h::t)
   
   [<A NAME="ALG_LONGEST_TLS-val"><B>ALG_LONGEST_TLS</B></A>]  Theorem
      
      |- !h t b.
           alg_longest (MAP (CONS b) (h::t)) = SUC (alg_longest (h::t))
   
   [<A NAME="ALG_ORDER_ANTISYM-val"><B>ALG_ORDER_ANTISYM</B></A>]  Theorem
      
      |- !x y. alg_order x y /\ alg_order y x ==&gt; (x = y)
   
   [<A NAME="ALG_ORDER_NIL-val"><B>ALG_ORDER_NIL</B></A>]  Theorem
      
      |- !x. alg_order [] x /\ (alg_order x [] &lt;=&gt; (x = []))
   
   [<A NAME="ALG_ORDER_PREFIX-val"><B>ALG_ORDER_PREFIX</B></A>]  Theorem
      
      |- !x y. x &lt;&lt;= y ==&gt; alg_order x y
   
   [<A NAME="ALG_ORDER_PREFIX_ANTI-val"><B>ALG_ORDER_PREFIX_ANTI</B></A>]  Theorem
      
      |- !x y. alg_order x y /\ y &lt;&lt;= x ==&gt; (x = y)
   
   [<A NAME="ALG_ORDER_PREFIX_MONO-val"><B>ALG_ORDER_PREFIX_MONO</B></A>]  Theorem
      
      |- !x y z. alg_order x y /\ alg_order y z /\ x &lt;&lt;= z ==&gt; x &lt;&lt;= y
   
   [<A NAME="ALG_ORDER_PREFIX_TRANS-val"><B>ALG_ORDER_PREFIX_TRANS</B></A>]  Theorem
      
      |- !x y z. alg_order x y /\ z &lt;&lt;= y ==&gt; alg_order x z \/ z &lt;&lt;= x
   
   [<A NAME="ALG_ORDER_REFL-val"><B>ALG_ORDER_REFL</B></A>]  Theorem
      
      |- !x. alg_order x x
   
   [<A NAME="ALG_ORDER_SNOC-val"><B>ALG_ORDER_SNOC</B></A>]  Theorem
      
      |- !x l. ~alg_order (SNOC x l) l
   
   [<A NAME="ALG_ORDER_TOTAL-val"><B>ALG_ORDER_TOTAL</B></A>]  Theorem
      
      |- !x y. alg_order x y \/ alg_order y x
   
   [<A NAME="ALG_ORDER_TRANS-val"><B>ALG_ORDER_TRANS</B></A>]  Theorem
      
      |- !x y z. alg_order x y /\ alg_order y z ==&gt; alg_order x z
   
   [<A NAME="ALG_PREFIXFREE_APPEND-val"><B>ALG_PREFIXFREE_APPEND</B></A>]  Theorem
      
      |- !h h' t t'.
           alg_prefixfree (h::t ++ h'::t') &lt;=&gt;
           alg_prefixfree (h::t) /\ alg_prefixfree (h'::t') /\
           ~(LAST (h::t) &lt;&lt;= h')
   
   [<A NAME="ALG_PREFIXFREE_ELT-val"><B>ALG_PREFIXFREE_ELT</B></A>]  Theorem
      
      |- !h t.
           alg_sorted (h::t) /\ alg_prefixfree (h::t) ==&gt;
           !x. MEM x t ==&gt; ~(h &lt;&lt;= x) /\ ~(x &lt;&lt;= h)
   
   [<A NAME="ALG_PREFIXFREE_FILTER-val"><B>ALG_PREFIXFREE_FILTER</B></A>]  Theorem
      
      |- !P b.
           alg_sorted b /\ alg_prefixfree b ==&gt; alg_prefixfree (FILTER P b)
   
   [<A NAME="ALG_PREFIXFREE_MONO-val"><B>ALG_PREFIXFREE_MONO</B></A>]  Theorem
      
      |- !x y z.
           alg_sorted (x::y::z) /\ alg_prefixfree (x::y::z) ==&gt;
           alg_prefixfree (x::z)
   
   [<A NAME="ALG_PREFIXFREE_STEP-val"><B>ALG_PREFIXFREE_STEP</B></A>]  Theorem
      
      |- !l1 l2.
           alg_prefixfree (MAP (CONS T) l1 ++ MAP (CONS F) l2) &lt;=&gt;
           alg_prefixfree l1 /\ alg_prefixfree l2
   
   [<A NAME="ALG_PREFIXFREE_TL-val"><B>ALG_PREFIXFREE_TL</B></A>]  Theorem
      
      |- !h t. alg_prefixfree (h::t) ==&gt; alg_prefixfree t
   
   [<A NAME="ALG_PREFIXFREE_TLS-val"><B>ALG_PREFIXFREE_TLS</B></A>]  Theorem
      
      |- !l b. alg_prefixfree (MAP (CONS b) l) &lt;=&gt; alg_prefixfree l
   
   [<A NAME="ALG_SORTED_APPEND-val"><B>ALG_SORTED_APPEND</B></A>]  Theorem
      
      |- !h h' t t'.
           alg_sorted (h::t ++ h'::t') &lt;=&gt;
           alg_sorted (h::t) /\ alg_sorted (h'::t') /\
           alg_order (LAST (h::t)) h'
   
   [<A NAME="ALG_SORTED_DEF_ALT-val"><B>ALG_SORTED_DEF_ALT</B></A>]  Theorem
      
      |- !h t.
           alg_sorted (h::t) &lt;=&gt;
           (!x. MEM x t ==&gt; alg_order h x) /\ alg_sorted t
   
   [<A NAME="ALG_SORTED_FILTER-val"><B>ALG_SORTED_FILTER</B></A>]  Theorem
      
      |- !P b. alg_sorted b ==&gt; alg_sorted (FILTER P b)
   
   [<A NAME="ALG_SORTED_MIN-val"><B>ALG_SORTED_MIN</B></A>]  Theorem
      
      |- !h t. alg_sorted (h::t) ==&gt; !x. MEM x t ==&gt; alg_order h x
   
   [<A NAME="ALG_SORTED_MONO-val"><B>ALG_SORTED_MONO</B></A>]  Theorem
      
      |- !x y z. alg_sorted (x::y::z) ==&gt; alg_sorted (x::z)
   
   [<A NAME="ALG_SORTED_PREFIXFREE_EQUALITY-val"><B>ALG_SORTED_PREFIXFREE_EQUALITY</B></A>]  Theorem
      
      |- !l l'.
           (!x. MEM x l &lt;=&gt; MEM x l') /\ alg_sorted l /\ alg_sorted l' /\
           alg_prefixfree l /\ alg_prefixfree l' ==&gt;
           (l = l')
   
   [<A NAME="ALG_SORTED_PREFIXFREE_MEM_NIL-val"><B>ALG_SORTED_PREFIXFREE_MEM_NIL</B></A>]  Theorem
      
      |- !l. alg_sorted l /\ alg_prefixfree l /\ MEM [] l &lt;=&gt; (l = [[]])
   
   [<A NAME="ALG_SORTED_STEP-val"><B>ALG_SORTED_STEP</B></A>]  Theorem
      
      |- !l1 l2.
           alg_sorted (MAP (CONS T) l1 ++ MAP (CONS F) l2) &lt;=&gt;
           alg_sorted l1 /\ alg_sorted l2
   
   [<A NAME="ALG_SORTED_TL-val"><B>ALG_SORTED_TL</B></A>]  Theorem
      
      |- !h t. alg_sorted (h::t) ==&gt; alg_sorted t
   
   [<A NAME="ALG_SORTED_TLS-val"><B>ALG_SORTED_TLS</B></A>]  Theorem
      
      |- !l b. alg_sorted (MAP (CONS b) l) &lt;=&gt; alg_sorted l
   
   [<A NAME="ALG_TWINFREE_STEP-val"><B>ALG_TWINFREE_STEP</B></A>]  Theorem
      
      |- !l1 l2.
           ~MEM [] l1 \/ ~MEM [] l2 ==&gt;
           (alg_twinfree (MAP (CONS T) l1 ++ MAP (CONS F) l2) &lt;=&gt;
            alg_twinfree l1 /\ alg_twinfree l2)
   
   [<A NAME="ALG_TWINFREE_STEP1-val"><B>ALG_TWINFREE_STEP1</B></A>]  Theorem
      
      |- !l1 l2.
           alg_twinfree (MAP (CONS T) l1 ++ MAP (CONS F) l2) ==&gt;
           alg_twinfree l1 /\ alg_twinfree l2
   
   [<A NAME="ALG_TWINFREE_STEP2-val"><B>ALG_TWINFREE_STEP2</B></A>]  Theorem
      
      |- !l1 l2.
           (~MEM [] l1 \/ ~MEM [] l2) /\ alg_twinfree l1 /\
           alg_twinfree l2 ==&gt;
           alg_twinfree (MAP (CONS T) l1 ++ MAP (CONS F) l2)
   
   [<A NAME="ALG_TWINFREE_TL-val"><B>ALG_TWINFREE_TL</B></A>]  Theorem
      
      |- !h t. alg_twinfree (h::t) ==&gt; alg_twinfree t
   
   [<A NAME="ALG_TWINFREE_TLS-val"><B>ALG_TWINFREE_TLS</B></A>]  Theorem
      
      |- !l b. alg_twinfree (MAP (CONS b) l) &lt;=&gt; alg_twinfree l
   
   [<A NAME="ALG_TWINS_PREFIX-val"><B>ALG_TWINS_PREFIX</B></A>]  Theorem
      
      |- !x l. l &lt;&lt;= x ==&gt; (x = l) \/ SNOC T l &lt;&lt;= x \/ SNOC F l &lt;&lt;= x
   
   [<A NAME="ALG_TWIN_CONS-val"><B>ALG_TWIN_CONS</B></A>]  Theorem
      
      |- !x y z h t.
           (alg_twin (x::y::z) (h::t) &lt;=&gt;
            (x &lt;=&gt; h) /\ alg_twin (y::z) t) /\
           (alg_twin (h::t) (x::y::z) &lt;=&gt; (x &lt;=&gt; h) /\ alg_twin t (y::z))
   
   [<A NAME="ALG_TWIN_NIL-val"><B>ALG_TWIN_NIL</B></A>]  Theorem
      
      |- !l. ~alg_twin l [] /\ ~alg_twin [] l
   
   [<A NAME="ALG_TWIN_REDUCE-val"><B>ALG_TWIN_REDUCE</B></A>]  Theorem
      
      |- !h t t'. alg_twin (h::t) (h::t') &lt;=&gt; alg_twin t t'
   
   [<A NAME="ALG_TWIN_SING-val"><B>ALG_TWIN_SING</B></A>]  Theorem
      
      |- !x l.
           (alg_twin [x] l &lt;=&gt; (x &lt;=&gt; T) /\ (l = [F])) /\
           (alg_twin l [x] &lt;=&gt; (l = [T]) /\ (x &lt;=&gt; F))
   
   [<A NAME="MEM_NIL_STEP-val"><B>MEM_NIL_STEP</B></A>]  Theorem
      
      |- !l1 l2. ~MEM [] (MAP (CONS T) l1 ++ MAP (CONS F) l2)
   
   [<A NAME="alg_order_def-val"><B>alg_order_def</B></A>]  Theorem
      
      |- (alg_order [] [] &lt;=&gt; T) /\
         (!v8 v7. alg_order [] (v7::v8) &lt;=&gt; T) /\
         (!v4 v3. alg_order (v3::v4) [] &lt;=&gt; F) /\
         !t' t h' h.
           alg_order (h::t) (h'::t') &lt;=&gt;
           (h &lt;=&gt; T) /\ (h' &lt;=&gt; F) \/ (h &lt;=&gt; h') /\ alg_order t t'
   
   [<A NAME="alg_order_ind-val"><B>alg_order_ind</B></A>]  Theorem
      
      |- !P.
           P [] [] /\ (!v7 v8. P [] (v7::v8)) /\ (!v3 v4. P (v3::v4) []) /\
           (!h t h' t'. P t t' ==&gt; P (h::t) (h'::t')) ==&gt;
           !v v1. P v v1
   
   [<A NAME="alg_prefixfree_def-val"><B>alg_prefixfree_def</B></A>]  Theorem
      
      |- (!z y x.
            alg_prefixfree (x::y::z) &lt;=&gt;
            ~(x &lt;&lt;= y) /\ alg_prefixfree (y::z)) /\
         (alg_prefixfree [] &lt;=&gt; T) /\ !v. alg_prefixfree [v] &lt;=&gt; T
   
   [<A NAME="alg_prefixfree_ind-val"><B>alg_prefixfree_ind</B></A>]  Theorem
      
      |- !P.
           (!x y z. P (y::z) ==&gt; P (x::y::z)) /\ P [] /\ (!v. P [v]) ==&gt;
           !v. P v
   
   [<A NAME="alg_sorted_def-val"><B>alg_sorted_def</B></A>]  Theorem
      
      |- (!z y x.
            alg_sorted (x::y::z) &lt;=&gt; alg_order x y /\ alg_sorted (y::z)) /\
         (alg_sorted [] &lt;=&gt; T) /\ !v. alg_sorted [v] &lt;=&gt; T
   
   [<A NAME="alg_sorted_ind-val"><B>alg_sorted_ind</B></A>]  Theorem
      
      |- !P.
           (!x y z. P (y::z) ==&gt; P (x::y::z)) /\ P [] /\ (!v. P [v]) ==&gt;
           !v. P v
   
   [<A NAME="alg_twinfree_def-val"><B>alg_twinfree_def</B></A>]  Theorem
      
      |- (!z y x.
            alg_twinfree (x::y::z) &lt;=&gt;
            ~alg_twin x y /\ alg_twinfree (y::z)) /\
         (alg_twinfree [] &lt;=&gt; T) /\ !v. alg_twinfree [v] &lt;=&gt; T
   
   [<A NAME="alg_twinfree_ind-val"><B>alg_twinfree_ind</B></A>]  Theorem
      
      |- !P.
           (!x y z. P (y::z) ==&gt; P (x::y::z)) /\ P [] /\ (!v. P [v]) ==&gt;
           !v. P v
   
   
*)
end

</PRE><HR><TABLE WIDTH=100%><TR ALIGN = CENTER>
<TH><A HREF="../../../src/prob/prob_canonScript.sml" type="text/plain">Source File</A>
<TH><A HREF="idIndex.html">Identifier index</A>
<TH><A HREF="TheoryIndex.html">Theory binding index</A>
</TABLE><HR>
<BR><EM><A HREF="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Kananaskis-5</EM></BODY></HTML>
