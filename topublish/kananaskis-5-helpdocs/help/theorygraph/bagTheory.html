<HTML>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><TITLE>Theory: bag</TITLE><meta http-equiv="content-type" content="text/html;charset=UTF-8">
</HEAD>
<BODY bgcolor=linen text=midnightblue>
<H1><font color="black">Theory "bag"</font></H1>
<STRONG><font size=+3 color="black">Parents</font></STRONG>&nbsp;&nbsp;&nbsp;&nbsp;
    <A HREF = "dividesTheory.html"><STRONG><font color="black">divides</font></STRONG></A>&nbsp;&nbsp;
    <A HREF = "listTheory.html"><STRONG><font color="black">list</font></STRONG></A>

<H1><font color="black">Signature</font></H1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr>
    <th>
    <font color="crimson">Constant</font>
    <th>
    <font color="crimson">Type</font><tr><td>
                                         <STRONG><font color="black">BAG_ALL_DISTINCT</font></STRONG>
                                         <td>
                                         :('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">BAG_CARD</font></STRONG>
        <td>
        :('a -> num) -> num
    <tr><td>
        <STRONG><font color="black">BAG_CARD_RELn</font></STRONG>
        <td>
        :('a -> num) -> num -> bool
    <tr><td>
        <STRONG><font color="black">BAG_CHOICE</font></STRONG>
        <td>
        :('a -> num) -> 'a
    <tr><td>
        <STRONG><font color="black">BAG_DELETE</font></STRONG>
        <td>
        :('a -> num) -> 'a -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">BAG_DIFF</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_DISJOINT</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">BAG_EVERY</font></STRONG>
        <td>
        :('a -> bool) -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">BAG_FILTER</font></STRONG>
        <td>
        :('a -> bool) -> ('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_GEN_PROD</font></STRONG>
        <td>
        :(num -> num) -> num -> num
    <tr><td>
        <STRONG><font color="black">BAG_GEN_SUM</font></STRONG>
        <td>
        :(num -> num) -> num -> num
    <tr><td>
        <STRONG><font color="black">BAG_IMAGE</font></STRONG>
        <td>
        :('b -> 'a) -> ('b -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_IN</font></STRONG>
        <td>
        :'a -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">BAG_INN</font></STRONG>
        <td>
        :'a -> num -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">BAG_INSERT</font></STRONG>
        <td>
        :'a -> ('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_INTER</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_MERGE</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_OF_SET</font></STRONG>
        <td>
        :('a -> bool) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_REST</font></STRONG>
        <td>
        :('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_UNION</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">EL_BAG</font></STRONG>
        <td>
        :'a -> 'a -> num
    <tr><td>
        <STRONG><font color="black">EMPTY_BAG</font></STRONG>
        <td>
        :'a -> num
    <tr><td>
        <STRONG><font color="black">FINITE_BAG</font></STRONG>
        <td>
        :('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">ITBAG</font></STRONG>
        <td>
        :('a -> 'b -> 'b) -> ('a -> num) -> 'b -> 'b
    <tr><td>
        <STRONG><font color="black">ITBAG_tupled</font></STRONG>
        <td>
        :('a -> 'b -> 'b) -> ('a -> num) # 'b -> 'b
    <tr><td>
        <STRONG><font color="black">PSUB_BAG</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">SET_OF_BAG</font></STRONG>
        <td>
        :('a -> num) -> 'a -> bool
    <tr><td>
        <STRONG><font color="black">SING_BAG</font></STRONG>
        <td>
        :('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">SUB_BAG</font></STRONG>
        <td>
        :('a -> num) -> ('a -> num) -> bool
    <tr><td>
        <STRONG><font color="black">mlt1</font></STRONG>
        <td>
        :('a -> 'a -> bool) -> ('a -> num) -> ('a -> num) -> bool
    
</table>
</center>

<H1><font color="black">Definitions</font></H1>
<DL>
<DT><STRONG><font color="black">EMPTY_BAG</font></STRONG>
<DD>
<PRE>
|- {||} = K 0
</PRE>

<DT><STRONG><font color="black">BAG_INN</font></STRONG>
<DD>
<PRE>
|- !e n b. BAG_INN e n b <=> b e >= n
</PRE>

<DT><STRONG><font color="black">SUB_BAG</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 <= b2 <=> !x n. BAG_INN x n b1 ==> BAG_INN x n b2
</PRE>

<DT><STRONG><font color="black">PSUB_BAG</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 < b2 <=> b1 <= b2 /\ b1 <> b2
</PRE>

<DT><STRONG><font color="black">BAG_IN</font></STRONG>
<DD>
<PRE>
|- !e b. e <: b <=> BAG_INN e 1 b
</PRE>

<DT><STRONG><font color="black">BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b c. b + c = (\x. b x + c x)
</PRE>

<DT><STRONG><font color="black">BAG_DIFF</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 - b2 = (\x. b1 x - b2 x)
</PRE>

<DT><STRONG><font color="black">BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !e b. BAG_INSERT e b = (\x. if x = e then b e + 1 else b x)
</PRE>

<DT><STRONG><font color="black">BAG_INTER</font></STRONG>
<DD>
<PRE>
|- !b1 b2. BAG_INTER b1 b2 = (\x. if b1 x < b2 x then b1 x else b2 x)
</PRE>

<DT><STRONG><font color="black">BAG_MERGE</font></STRONG>
<DD>
<PRE>
|- !b1 b2. BAG_MERGE b1 b2 = (\x. if b1 x < b2 x then b2 x else b1 x)
</PRE>

<DT><STRONG><font color="black">BAG_DELETE</font></STRONG>
<DD>
<PRE>
|- !b0 e b. BAG_DELETE b0 e b <=> (b0 = BAG_INSERT e b)
</PRE>

<DT><STRONG><font color="black">SING_BAG</font></STRONG>
<DD>
<PRE>
|- !b. SING_BAG b <=> ?x. b = {|x|}
</PRE>

<DT><STRONG><font color="black">EL_BAG</font></STRONG>
<DD>
<PRE>
|- !e. EL_BAG e = {|e|}
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG</font></STRONG>
<DD>
<PRE>
|- !b. SET_OF_BAG b = (\x. x <: b)
</PRE>

<DT><STRONG><font color="black">BAG_OF_SET</font></STRONG>
<DD>
<PRE>
|- !P. BAG_OF_SET P = (\x. if x IN P then 1 else 0)
</PRE>

<DT><STRONG><font color="black">BAG_DISJOINT</font></STRONG>
<DD>
<PRE>
|- !b1 b2. BAG_DISJOINT b1 b2 <=> DISJOINT (SET_OF_BAG b1) (SET_OF_BAG b2)
</PRE>

<DT><STRONG><font color="black">FINITE_BAG</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b <=>
     !P. P {||} /\ (!b. P b ==> !e. P (BAG_INSERT e b)) ==> P b
</PRE>

<DT><STRONG><font color="black">BAG_CARD_RELn</font></STRONG>
<DD>
<PRE>
|- !b n.
     BAG_CARD_RELn b n <=>
     !P.
       P {||} 0 /\ (!b n. P b n ==> !e. P (BAG_INSERT e b) (SUC n)) ==> P b n
</PRE>

<DT><STRONG><font color="black">BAG_CARD</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> BAG_CARD_RELn b (BAG_CARD b)
</PRE>

<DT><STRONG><font color="black">BAG_FILTER_DEF</font></STRONG>
<DD>
<PRE>
|- !P b. BAG_FILTER P b = (\e. if P e then b e else 0)
</PRE>

<DT><STRONG><font color="black">BAG_IMAGE_DEF</font></STRONG>
<DD>
<PRE>
|- !f b.
     BAG_IMAGE f b =
     (\e.
        (let sb = BAG_FILTER (\e0. f e0 = e) b in
           if FINITE_BAG sb then BAG_CARD sb else 0))
</PRE>

<DT><STRONG><font color="black">BAG_CHOICE_DEF</font></STRONG>
<DD>
<PRE>
|- !b. b <> {||} ==> BAG_CHOICE b <: b
</PRE>

<DT><STRONG><font color="black">BAG_REST_DEF</font></STRONG>
<DD>
<PRE>
|- !b. BAG_REST b = b - EL_BAG (BAG_CHOICE b)
</PRE>

<DT><STRONG><font color="black">ITBAG_tupled_primitive_def</font></STRONG>
<DD>
<PRE>
|- !f.
     ITBAG_tupled f =
     WFREC
       (@R.
          WF R /\
          !acc b.
            FINITE_BAG b /\ b <> {||} ==>
            R (BAG_REST b,f (BAG_CHOICE b) acc) (b,acc))
       (\ITBAG_tupled a.
          case a of
             (b,acc) ->
               I
                 (if FINITE_BAG b then
                    if b = {||} then
                      acc
                    else
                      ITBAG_tupled (BAG_REST b,f (BAG_CHOICE b) acc)
                  else
                    ARB))
</PRE>

<DT><STRONG><font color="black">ITBAG_curried_def</font></STRONG>
<DD>
<PRE>
|- !f x x1. ITBAG f x x1 = ITBAG_tupled f (x,x1)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_SUM_def</font></STRONG>
<DD>
<PRE>
|- !bag n. BAG_GEN_SUM bag n = ITBAG $+ bag n
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_def</font></STRONG>
<DD>
<PRE>
|- !bag n. BAG_GEN_PROD bag n = ITBAG $* bag n
</PRE>

<DT><STRONG><font color="black">BAG_EVERY</font></STRONG>
<DD>
<PRE>
|- !P b. BAG_EVERY P b <=> !e. e <: b ==> P e
</PRE>

<DT><STRONG><font color="black">BAG_ALL_DISTINCT</font></STRONG>
<DD>
<PRE>
|- !b. BAG_ALL_DISTINCT b <=> !e. b e <= 1
</PRE>

<DT><STRONG><font color="black">mlt1_def</font></STRONG>
<DD>
<PRE>
|- !r b1 b2.
     mlt1 r b1 b2 <=>
     FINITE_BAG b1 /\ FINITE_BAG b2 /\
     ?e rep res.
       (b1 = rep + res) /\ (b2 = res + {|e|}) /\ !e'. e' <: rep ==> r e' e
</PRE>

</DL>


<HR>

<HR>
<H1><font color="black">Theorems</font></H1>
<DL>
<DT><STRONG><font color="black">EMPTY_BAG_alt</font></STRONG>
<DD>
<PRE>
|- {||} = (\x. 0)
</PRE>

<DT><STRONG><font color="black">BAG_cases</font></STRONG>
<DD>
<PRE>
|- !b. (b = {||}) \/ ?b0 e. b = BAG_INSERT e b0
</PRE>

<DT><STRONG><font color="black">BAG_INN_0</font></STRONG>
<DD>
<PRE>
|- !b e. BAG_INN e 0 b
</PRE>

<DT><STRONG><font color="black">BAG_INN_LESS</font></STRONG>
<DD>
<PRE>
|- !b e n m. BAG_INN e n b /\ m < n ==> BAG_INN e m b
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !b e1 e2. e1 <: BAG_INSERT e2 b <=> (e1 = e2) \/ e1 <: b
</PRE>

<DT><STRONG><font color="black">BAG_INN_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !b e1 e2.
     BAG_INN e1 n (BAG_INSERT e2 b) <=>
     BAG_INN e1 (n - 1) b /\ (e1 = e2) \/ BAG_INN e1 n b
</PRE>

<DT><STRONG><font color="black">BAG_INN_BAG_INSERT_STRONG</font></STRONG>
<DD>
<PRE>
|- !b n e1 e2.
     BAG_INN e1 n (BAG_INSERT e2 b) <=>
     BAG_INN e1 (n - 1) b /\ (e1 = e2) \/ BAG_INN e1 n b /\ e1 <> e2
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2 e. e <: b1 + b2 <=> e <: b1 \/ e <: b2
</PRE>

<DT><STRONG><font color="black">BAG_INN_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !n e b1 b2.
     BAG_INN e n (b1 + b2) <=>
     ?m1 m2. (n = m1 + m2) /\ BAG_INN e m1 b1 /\ BAG_INN e m2 b2
</PRE>

<DT><STRONG><font color="black">BAG_INN_BAG_MERGE</font></STRONG>
<DD>
<PRE>
|- !n e b1 b2.
     BAG_INN e n (BAG_MERGE b1 b2) <=> BAG_INN e n b1 \/ BAG_INN e n b2
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_MERGE</font></STRONG>
<DD>
<PRE>
|- !e b1 b2. e <: BAG_MERGE b1 b2 <=> e <: b1 \/ e <: b2
</PRE>

<DT><STRONG><font color="black">BAG_EXTENSION</font></STRONG>
<DD>
<PRE>
|- !b1 b2. (b1 = b2) <=> !n e. BAG_INN e n b1 <=> BAG_INN e n b2
</PRE>

<DT><STRONG><font color="black">BAG_UNION_INSERT</font></STRONG>
<DD>
<PRE>
|- !e b1 b2.
     (BAG_INSERT e b1 + b2 = BAG_INSERT e (b1 + b2)) /\
     (b1 + BAG_INSERT e b2 = BAG_INSERT e (b1 + b2))
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_DIFF</font></STRONG>
<DD>
<PRE>
|- !x b. BAG_INSERT x b <> b
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_NOT_EMPTY</font></STRONG>
<DD>
<PRE>
|- !x b. BAG_INSERT x b <> {||}
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_ONE_ONE</font></STRONG>
<DD>
<PRE>
|- !b1 b2 x. (BAG_INSERT x b1 = BAG_INSERT x b2) <=> (b1 = b2)
</PRE>

<DT><STRONG><font color="black">C_BAG_INSERT_ONE_ONE</font></STRONG>
<DD>
<PRE>
|- !x y b. (BAG_INSERT x b = BAG_INSERT y b) <=> (x = y)
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_commutes</font></STRONG>
<DD>
<PRE>
|- !b e1 e2. BAG_INSERT e1 (BAG_INSERT e2 b) = BAG_INSERT e2 (BAG_INSERT e1 b)
</PRE>

<DT><STRONG><font color="black">BAG_DECOMPOSE</font></STRONG>
<DD>
<PRE>
|- !e b. e <: b ==> ?b'. b = BAG_INSERT e b'
</PRE>

<DT><STRONG><font color="black">BAG_UNION_LEFT_CANCEL</font></STRONG>
<DD>
<PRE>
|- !b b1 b2. (b + b1 = b + b2) <=> (b1 = b2)
</PRE>

<DT><STRONG><font color="black">COMM_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 + b2 = b2 + b1
</PRE>

<DT><STRONG><font color="black">BAG_UNION_RIGHT_CANCEL</font></STRONG>
<DD>
<PRE>
|- !b b1 b2. (b1 + b = b2 + b) <=> (b1 = b2)
</PRE>

<DT><STRONG><font color="black">ASSOC_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3. b1 + (b2 + b3) = b1 + b2 + b3
</PRE>

<DT><STRONG><font color="black">BAG_UNION_EMPTY</font></STRONG>
<DD>
<PRE>
|- (!b. b + {||} = b) /\ (!b. {||} + b = b) /\
   !b1 b2. (b1 + b2 = {||}) <=> (b1 = {||}) /\ (b2 = {||})
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_EMPTY</font></STRONG>
<DD>
<PRE>
|- !e b. ~BAG_DELETE {||} e b
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_commutes</font></STRONG>
<DD>
<PRE>
|- !b0 b1 b2 e1 e2.
     BAG_DELETE b0 e1 b1 /\ BAG_DELETE b1 e2 b2 ==>
     ?b'. BAG_DELETE b0 e2 b' /\ BAG_DELETE b' e1 b2
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_11</font></STRONG>
<DD>
<PRE>
|- !b0 e1 e2 b1 b2.
     BAG_DELETE b0 e1 b1 /\ BAG_DELETE b0 e2 b2 ==> ((e1 = e2) <=> (b1 = b2))
</PRE>

<DT><STRONG><font color="black">BAG_INN_BAG_DELETE</font></STRONG>
<DD>
<PRE>
|- !b n e. BAG_INN e n b /\ n > 0 ==> ?b'. BAG_DELETE b e b'
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_DELETE</font></STRONG>
<DD>
<PRE>
|- !b e. e <: b ==> ?b'. BAG_DELETE b e b'
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_INSERT</font></STRONG>
<DD>
<PRE>
|- !x y b1 b2.
     BAG_DELETE (BAG_INSERT x b1) y b2 ==>
     (x = y) /\ (b1 = b2) \/ (?b3. BAG_DELETE b1 y b3) /\ x <> y
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_BAG_IN_up</font></STRONG>
<DD>
<PRE>
|- !b0 b e. BAG_DELETE b0 e b ==> !e'. e' <: b ==> e' <: b0
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_BAG_IN_down</font></STRONG>
<DD>
<PRE>
|- !b0 b e1 e2. BAG_DELETE b0 e1 b /\ e1 <> e2 /\ e2 <: b0 ==> e2 <: b
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_BAG_IN</font></STRONG>
<DD>
<PRE>
|- !b0 b e. BAG_DELETE b0 e b ==> e <: b0
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_concrete</font></STRONG>
<DD>
<PRE>
|- !b0 b e.
     BAG_DELETE b0 e b <=>
     b0 e > 0 /\ (b = (\x. if x = e then b0 e - 1 else b0 x))
</PRE>

<DT><STRONG><font color="black">BAG_UNION_DIFF_eliminate</font></STRONG>
<DD>
<PRE>
|- (b + c - c = b) /\ (c + b - c = b)
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_EQUAL</font></STRONG>
<DD>
<PRE>
|- (BAG_INSERT a M = BAG_INSERT b N) <=>
   (M = N) /\ (a = b) \/ ?k. (M = BAG_INSERT b k) /\ (N = BAG_INSERT a k)
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_TWICE</font></STRONG>
<DD>
<PRE>
|- !b0 e1 e2 b1 b2.
     BAG_DELETE b0 e1 b1 /\ BAG_DELETE b0 e2 b2 /\ b1 <> b2 ==>
     ?b. BAG_DELETE b1 e2 b /\ BAG_DELETE b2 e1 b
</PRE>

<DT><STRONG><font color="black">SING_BAG_THM</font></STRONG>
<DD>
<PRE>
|- !e. SING_BAG {|e|}
</PRE>

<DT><STRONG><font color="black">EL_BAG_11</font></STRONG>
<DD>
<PRE>
|- !x y. (EL_BAG x = EL_BAG y) ==> (x = y)
</PRE>

<DT><STRONG><font color="black">EL_BAG_INSERT_squeeze</font></STRONG>
<DD>
<PRE>
|- !x b y. (EL_BAG x = BAG_INSERT y b) ==> (x = y) /\ (b = {||})
</PRE>

<DT><STRONG><font color="black">SING_EL_BAG</font></STRONG>
<DD>
<PRE>
|- !e. SING_BAG (EL_BAG e)
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_UNION</font></STRONG>
<DD>
<PRE>
|- !b e. BAG_INSERT e b = EL_BAG e + b
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_EQ_UNION</font></STRONG>
<DD>
<PRE>
|- !e b1 b2 b. (BAG_INSERT e b = b1 + b2) ==> e <: b1 \/ e <: b2
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_SING</font></STRONG>
<DD>
<PRE>
|- !b e. BAG_DELETE b e {||} ==> SING_BAG b
</PRE>

<DT><STRONG><font color="black">NOT_IN_EMPTY_BAG</font></STRONG>
<DD>
<PRE>
|- !x. ~(x <: {||})
</PRE>

<DT><STRONG><font color="black">BAG_INN_EMPTY_BAG</font></STRONG>
<DD>
<PRE>
|- !e n. BAG_INN e n {||} <=> (n = 0)
</PRE>

<DT><STRONG><font color="black">MEMBER_NOT_EMPTY</font></STRONG>
<DD>
<PRE>
|- !b. (?x. x <: b) <=> b <> {||}
</PRE>

<DT><STRONG><font color="black">SUB_BAG_LEQ</font></STRONG>
<DD>
<PRE>
|- b1 <= b2 <=> !x. b1 x <= b2 x
</PRE>

<DT><STRONG><font color="black">SUB_BAG_EMPTY</font></STRONG>
<DD>
<PRE>
|- (!b. {||} <= b) /\ !b. b <= {||} <=> (b = {||})
</PRE>

<DT><STRONG><font color="black">SUB_BAG_REFL</font></STRONG>
<DD>
<PRE>
|- !b. b <= b
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_IRREFL</font></STRONG>
<DD>
<PRE>
|- !b. ~(b < b)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_ANTISYM</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 <= b2 /\ b2 <= b1 ==> (b1 = b2)
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_ANTISYM</font></STRONG>
<DD>
<PRE>
|- !b1 b2. ~(b1 < b2 /\ b2 < b1)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_TRANS</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3. b1 <= b2 /\ b2 <= b3 ==> b1 <= b3
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_TRANS</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3. b1 < b2 /\ b2 < b3 ==> b1 < b3
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_SUB_BAG</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 < b2 ==> b1 <= b2
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_NOT_EQ</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 < b2 ==> b1 <> b2
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_EMPTY</font></STRONG>
<DD>
<PRE>
|- (!b. b - b = {||}) /\ (!b. b - {||} = b) /\ (!b. {||} - b = {||}) /\
   !b1 b2. b1 <= b2 ==> (b1 - b2 = {||})
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_EMPTY_simple</font></STRONG>
<DD>
<PRE>
|- (!b. b - b = {||}) /\ (!b. b - {||} = b) /\ !b. {||} - b = {||}
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_INSERT_same</font></STRONG>
<DD>
<PRE>
|- !x b1 b2. BAG_INSERT x b1 - BAG_INSERT x b2 = b1 - b2
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_INSERT</font></STRONG>
<DD>
<PRE>
|- !x b1 b2. ~(x <: b1) ==> (BAG_INSERT x b2 - b1 = BAG_INSERT x (b2 - b1))
</PRE>

<DT><STRONG><font color="black">NOT_IN_BAG_DIFF</font></STRONG>
<DD>
<PRE>
|- !x b1 b2. ~(x <: b1) ==> (b1 - BAG_INSERT x b2 = b1 - b2)
</PRE>

<DT><STRONG><font color="black">BAG_UNION_DIFF</font></STRONG>
<DD>
<PRE>
|- !X Y Z. Z <= Y ==> (X + (Y - Z) = X + Y - Z) /\ (Y - Z + X = X + Y - Z)
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_2L</font></STRONG>
<DD>
<PRE>
|- !X Y Z. X - Y - Z = X - (Y + Z)
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_2R</font></STRONG>
<DD>
<PRE>
|- !A B C. C <= B ==> (A - (B - C) = A + C - B)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_BAG_DIFF</font></STRONG>
<DD>
<PRE>
|- !X Y Y' Z W. X - Y <= Z - W ==> X - (Y + Y') <= Z - (W + Y')
</PRE>

<DT><STRONG><font color="black">BAG_DIFF_UNION_eliminate</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3.
     (b1 + b2 - (b1 + b3) = b2 - b3) /\ (b1 + b2 - (b3 + b1) = b2 - b3) /\
     (b2 + b1 - (b1 + b3) = b2 - b3) /\ (b2 + b1 - (b3 + b1) = b2 - b3)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_UNION_eliminate</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3.
     (b1 + b2 <= b1 + b3 <=> b2 <= b3) /\ (b1 + b2 <= b3 + b1 <=> b2 <= b3) /\
     (b2 + b1 <= b1 + b3 <=> b2 <= b3) /\ (b2 + b1 <= b3 + b1 <=> b2 <= b3)
</PRE>

<DT><STRONG><font color="black">move_BAG_UNION_over_eq</font></STRONG>
<DD>
<PRE>
|- !X Y Z. (X + Y = Z) ==> (X = Z - Y)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- (!b1 b2. b1 <= b2 ==> !b. b1 <= b2 + b) /\
   (!b1 b2. b1 <= b2 ==> !b. b1 <= b + b2) /\
   (!b1 b2 b3. b1 <= b2 + b3 ==> !b. b1 <= b2 + b + b3) /\
   (!b1 b2 b3. b1 <= b2 + b3 ==> !b. b1 <= b + b2 + b3) /\
   (!b1 b2 b3. b1 <= b3 + b2 ==> !b. b1 <= b3 + (b2 + b)) /\
   (!b1 b2 b3. b1 <= b3 + b2 ==> !b. b1 <= b3 + (b + b2)) /\
   (!b1 b2 b3 b4. b1 <= b3 ==> b2 <= b4 ==> b1 + b2 <= b3 + b4) /\
   (!b1 b2 b3 b4. b1 <= b4 ==> b2 <= b3 ==> b1 + b2 <= b3 + b4) /\
   (!b1 b2 b3 b4 b5.
      b1 <= b3 + b5 ==> b2 <= b4 ==> b1 + b2 <= b3 + b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b1 <= b4 + b5 ==> b2 <= b3 ==> b1 + b2 <= b3 + b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b2 <= b3 + b5 ==> b1 <= b4 ==> b1 + b2 <= b3 + b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b2 <= b4 + b5 ==> b1 <= b3 ==> b1 + b2 <= b3 + b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b1 <= b5 + b3 ==> b2 <= b4 ==> b2 + b1 <= b5 + (b3 + b4)) /\
   (!b1 b2 b3 b4 b5.
      b1 <= b5 + b4 ==> b2 <= b3 ==> b2 + b1 <= b5 + (b3 + b4)) /\
   (!b1 b2 b3 b4 b5.
      b2 <= b5 + b3 ==> b1 <= b4 ==> b2 + b1 <= b5 + (b3 + b4)) /\
   (!b1 b2 b3 b4 b5.
      b2 <= b5 + b4 ==> b1 <= b3 ==> b2 + b1 <= b5 + (b3 + b4)) /\
   (!b1 b2 b3 b4 b5.
      b1 + b2 <= b4 ==> b3 <= b5 ==> b1 + b3 + b2 <= b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b1 + b2 <= b5 ==> b3 <= b4 ==> b1 + b3 + b2 <= b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b3 + b2 <= b4 ==> b1 <= b5 ==> b1 + b3 + b2 <= b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b3 + b2 <= b5 ==> b1 <= b4 ==> b1 + b3 + b2 <= b4 + b5) /\
   (!b1 b2 b3 b4 b5.
      b2 + b1 <= b4 ==> b3 <= b5 ==> b2 + (b1 + b3) <= b5 + b4) /\
   (!b1 b2 b3 b4 b5.
      b2 + b1 <= b5 ==> b3 <= b4 ==> b2 + (b1 + b3) <= b5 + b4) /\
   (!b1 b2 b3 b4 b5.
      b2 + b3 <= b4 ==> b1 <= b5 ==> b2 + (b1 + b3) <= b5 + b4) /\
   !b1 b2 b3 b4 b5. b2 + b3 <= b5 ==> b1 <= b4 ==> b2 + (b1 + b3) <= b5 + b4
</PRE>

<DT><STRONG><font color="black">SUB_BAG_EL_BAG</font></STRONG>
<DD>
<PRE>
|- !e b. EL_BAG e <= b <=> e <: b
</PRE>

<DT><STRONG><font color="black">SUB_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !e b1 b2. BAG_INSERT e b1 <= BAG_INSERT e b2 <=> b1 <= b2
</PRE>

<DT><STRONG><font color="black">NOT_IN_SUB_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !b1 b2 e. ~(e <: b1) ==> (b1 <= BAG_INSERT e b2 <=> b1 <= b2)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_BAG_IN</font></STRONG>
<DD>
<PRE>
|- !x b1 b2. BAG_INSERT x b1 <= b2 ==> x <: b2
</PRE>

<DT><STRONG><font color="black">SUB_BAG_EXISTS</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 <= b2 <=> ?b. b2 = b1 + b
</PRE>

<DT><STRONG><font color="black">SUB_BAG_UNION_DIFF</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3. b1 <= b3 ==> (b2 <= b3 - b1 <=> b1 + b2 <= b3)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_UNION_down</font></STRONG>
<DD>
<PRE>
|- !b1 b2 b3. b1 + b2 <= b3 ==> b1 <= b3 /\ b2 <= b3
</PRE>

<DT><STRONG><font color="black">SUB_BAG_DIFF</font></STRONG>
<DD>
<PRE>
|- (!b1 b2. b1 <= b2 ==> !b3. b1 - b3 <= b2) /\
   !b1 b2 b3 b4.
     b2 <= b1 ==> b4 <= b3 ==> (b1 - b2 <= b3 - b4 <=> b1 + b4 <= b2 + b3)
</PRE>

<DT><STRONG><font color="black">SUB_BAG_PSUB_BAG</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 <= b2 <=> b1 < b2 \/ (b1 = b2)
</PRE>

<DT><STRONG><font color="black">BAG_DELETE_PSUB_BAG</font></STRONG>
<DD>
<PRE>
|- !b0 e b. BAG_DELETE b0 e b ==> b < b0
</PRE>

<DT><STRONG><font color="black">SET_OF_EMPTY</font></STRONG>
<DD>
<PRE>
|- BAG_OF_SET {} = {||}
</PRE>

<DT><STRONG><font color="black">BAG_OF_EMPTY</font></STRONG>
<DD>
<PRE>
|- SET_OF_BAG {||} = {}
</PRE>

<DT><STRONG><font color="black">SET_BAG_I</font></STRONG>
<DD>
<PRE>
|- !s. SET_OF_BAG (BAG_OF_SET s) = s
</PRE>

<DT><STRONG><font color="black">SUB_BAG_SET</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 <= b2 ==> SET_OF_BAG b1 SUBSET SET_OF_BAG b2
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2. SET_OF_BAG (b1 + b2) = SET_OF_BAG b1 UNION SET_OF_BAG b2
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_MERGE</font></STRONG>
<DD>
<PRE>
|- !b1 b2. SET_OF_BAG (BAG_MERGE b1 b2) = SET_OF_BAG b1 UNION SET_OF_BAG b2
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !e b. SET_OF_BAG (BAG_INSERT e b) = e INSERT SET_OF_BAG b
</PRE>

<DT><STRONG><font color="black">SET_OF_EL_BAG</font></STRONG>
<DD>
<PRE>
|- !e. SET_OF_BAG (EL_BAG e) = {e}
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_DIFF_SUBSET_down</font></STRONG>
<DD>
<PRE>
|- !b1 b2. SET_OF_BAG b1 DIFF SET_OF_BAG b2 SUBSET SET_OF_BAG (b1 - b2)
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_DIFF_SUBSET_up</font></STRONG>
<DD>
<PRE>
|- !b1 b2. SET_OF_BAG (b1 - b2) SUBSET SET_OF_BAG b1
</PRE>

<DT><STRONG><font color="black">IN_SET_OF_BAG</font></STRONG>
<DD>
<PRE>
|- !x b. x IN SET_OF_BAG b <=> x <: b
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_EQ_EMPTY</font></STRONG>
<DD>
<PRE>
|- !b.
     (({} = SET_OF_BAG b) <=> (b = {||})) /\
     ((SET_OF_BAG b = {}) <=> (b = {||}))
</PRE>

<DT><STRONG><font color="black">BAG_DISJOINT_EMPTY</font></STRONG>
<DD>
<PRE>
|- !b. BAG_DISJOINT b {||} /\ BAG_DISJOINT {||} b
</PRE>

<DT><STRONG><font color="black">BAG_DISJOINT_DIFF</font></STRONG>
<DD>
<PRE>
|- !B1 B2. BAG_DISJOINT (B1 - B2) (B2 - B1)
</PRE>

<DT><STRONG><font color="black">BAG_DISJOINT_BAG_IN</font></STRONG>
<DD>
<PRE>
|- !b1 b2. BAG_DISJOINT b1 b2 <=> !e. ~(e <: b1) \/ ~(e <: b2)
</PRE>

<DT><STRONG><font color="black">BAG_DISJOINT_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- (!b1 b2 e1.
      BAG_DISJOINT (BAG_INSERT e1 b1) b2 <=>
      ~(e1 <: b2) /\ BAG_DISJOINT b1 b2) /\
   !b1 b2 e2.
     BAG_DISJOINT b1 (BAG_INSERT e2 b2) <=> ~(e2 <: b1) /\ BAG_DISJOINT b1 b2
</PRE>

<DT><STRONG><font color="black">FINITE_EMPTY_BAG</font></STRONG>
<DD>
<PRE>
|- FINITE_BAG {||}
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> !e. FINITE_BAG (BAG_INSERT e b)
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_INDUCT</font></STRONG>
<DD>
<PRE>
|- !P.
     P {||} /\ (!b. P b ==> !e. P (BAG_INSERT e b)) ==>
     !b. FINITE_BAG b ==> P b
</PRE>

<DT><STRONG><font color="black">STRONG_FINITE_BAG_INDUCT</font></STRONG>
<DD>
<PRE>
|- !P.
     P {||} /\ (!b. FINITE_BAG b /\ P b ==> !e. P (BAG_INSERT e b)) ==>
     !b. FINITE_BAG b ==> P b
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_THM</font></STRONG>
<DD>
<PRE>
|- FINITE_BAG {||} /\ !e b. FINITE_BAG (BAG_INSERT e b) <=> FINITE_BAG b
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_DIFF</font></STRONG>
<DD>
<PRE>
|- !b1. FINITE_BAG b1 ==> !b2. FINITE_BAG (b1 - b2)
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_DIFF_dual</font></STRONG>
<DD>
<PRE>
|- !b1. FINITE_BAG b1 ==> !b2. FINITE_BAG (b2 - b1) ==> FINITE_BAG b2
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2. FINITE_BAG (b1 + b2) <=> FINITE_BAG b1 /\ FINITE_BAG b2
</PRE>

<DT><STRONG><font color="black">FINITE_SUB_BAG</font></STRONG>
<DD>
<PRE>
|- !b1. FINITE_BAG b1 ==> !b2. b2 <= b1 ==> FINITE_BAG b2
</PRE>

<DT><STRONG><font color="black">BAG_CARD_EMPTY</font></STRONG>
<DD>
<PRE>
|- BAG_CARD {||} = 0
</PRE>

<DT><STRONG><font color="black">BCARD_0</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> ((BAG_CARD b = 0) <=> (b = {||}))
</PRE>

<DT><STRONG><font color="black">BAG_CARD_THM</font></STRONG>
<DD>
<PRE>
|- (BAG_CARD {||} = 0) /\
   !b. FINITE_BAG b ==> !e. BAG_CARD (BAG_INSERT e b) = BAG_CARD b + 1
</PRE>

<DT><STRONG><font color="black">BCARD_SUC</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b ==>
     !n.
       (BAG_CARD b = SUC n) <=>
       ?b0 e. (b = BAG_INSERT e b0) /\ (BAG_CARD b0 = n)
</PRE>

<DT><STRONG><font color="black">BAG_CARD_BAG_INN</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> !n e. BAG_INN e n b ==> n <= BAG_CARD b
</PRE>

<DT><STRONG><font color="black">BAG_FILTER_EMPTY</font></STRONG>
<DD>
<PRE>
|- BAG_FILTER P {||} = {||}
</PRE>

<DT><STRONG><font color="black">BAG_FILTER_BAG_INSERT</font></STRONG>
<DD>
<PRE>
|- BAG_FILTER P (BAG_INSERT e b) =
   if P e then BAG_INSERT e (BAG_FILTER P b) else BAG_FILTER P b
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_FILTER</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> FINITE_BAG (BAG_FILTER P b)
</PRE>

<DT><STRONG><font color="black">BAG_INN_BAG_FILTER</font></STRONG>
<DD>
<PRE>
|- BAG_INN e n (BAG_FILTER P b) <=> (n = 0) \/ P e /\ BAG_INN e n b
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_FILTER</font></STRONG>
<DD>
<PRE>
|- e <: BAG_FILTER P b <=> P e /\ e <: b
</PRE>

<DT><STRONG><font color="black">SET_OF_BAG_EQ_INSERT</font></STRONG>
<DD>
<PRE>
|- !b e s.
     (e INSERT s = SET_OF_BAG b) <=>
     ?b0 eb.
       (b = eb + b0) /\ (s = SET_OF_BAG b0) /\ (!e'. e' <: eb ==> (e' = e)) /\
       (e NOTIN s ==> e <: eb)
</PRE>

<DT><STRONG><font color="black">FINITE_SET_OF_BAG</font></STRONG>
<DD>
<PRE>
|- !b. FINITE (SET_OF_BAG b) <=> FINITE_BAG b
</PRE>

<DT><STRONG><font color="black">BAG_IMAGE_EMPTY</font></STRONG>
<DD>
<PRE>
|- BAG_IMAGE f {||} = {||}
</PRE>

<DT><STRONG><font color="black">BAG_IMAGE_FINITE_INSERT</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b ==>
     (BAG_IMAGE f (BAG_INSERT e b) = BAG_INSERT (f e) (BAG_IMAGE f b))
</PRE>

<DT><STRONG><font color="black">BAG_IMAGE_FINITE</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> FINITE_BAG (BAG_IMAGE f b)
</PRE>

<DT><STRONG><font color="black">BAG_IN_FINITE_BAG_IMAGE</font></STRONG>
<DD>
<PRE>
|- FINITE_BAG b ==> (x <: BAG_IMAGE f b <=> ?y. (f y = x) /\ y <: b)
</PRE>

<DT><STRONG><font color="black">BAG_INSERT_CHOICE_REST</font></STRONG>
<DD>
<PRE>
|- !b. b <> {||} ==> (b = BAG_INSERT (BAG_CHOICE b) (BAG_REST b))
</PRE>

<DT><STRONG><font color="black">SUB_BAG_REST</font></STRONG>
<DD>
<PRE>
|- !b. BAG_REST b <= b
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_REST</font></STRONG>
<DD>
<PRE>
|- !b. b <> {||} ==> BAG_REST b < b
</PRE>

<DT><STRONG><font color="black">SUB_BAG_DIFF_EQ</font></STRONG>
<DD>
<PRE>
|- !b1 b2. b1 <= b2 ==> (b2 = b1 + (b2 - b1))
</PRE>

<DT><STRONG><font color="black">SUB_BAG_CARD</font></STRONG>
<DD>
<PRE>
|- !b1 b2. FINITE_BAG b2 /\ b1 <= b2 ==> BAG_CARD b1 <= BAG_CARD b2
</PRE>

<DT><STRONG><font color="black">SUB_BAG_UNION_MONO</font></STRONG>
<DD>
<PRE>
|- !x y. x <= x + y
</PRE>

<DT><STRONG><font color="black">PSUB_BAG_CARD</font></STRONG>
<DD>
<PRE>
|- !b1 b2. FINITE_BAG b2 /\ b1 < b2 ==> BAG_CARD b1 < BAG_CARD b2
</PRE>

<DT><STRONG><font color="black">ITBAG_IND</font></STRONG>
<DD>
<PRE>
|- !P.
     (!b acc.
        (FINITE_BAG b /\ b <> {||} ==>
         P (BAG_REST b) (f (BAG_CHOICE b) acc)) ==>
        P b acc) ==>
     !v v1. P v v1
</PRE>

<DT><STRONG><font color="black">ITBAG_THM</font></STRONG>
<DD>
<PRE>
|- !b f acc.
     FINITE_BAG b ==>
     (ITBAG f b acc =
      if b = {||} then acc else ITBAG f (BAG_REST b) (f (BAG_CHOICE b) acc))
</PRE>

<DT><STRONG><font color="black">ITBAG_EMPTY</font></STRONG>
<DD>
<PRE>
|- !f acc. ITBAG f {||} acc = acc
</PRE>

<DT><STRONG><font color="black">ITBAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !f acc.
     FINITE_BAG b ==>
     (ITBAG f (BAG_INSERT x b) acc =
      ITBAG f (BAG_REST (BAG_INSERT x b))
        (f (BAG_CHOICE (BAG_INSERT x b)) acc))
</PRE>

<DT><STRONG><font color="black">COMMUTING_ITBAG_INSERT</font></STRONG>
<DD>
<PRE>
|- !f b.
     (!x y z. f x (f y z) = f y (f x z)) /\ FINITE_BAG b ==>
     !x a. ITBAG f (BAG_INSERT x b) a = ITBAG f b (f x a)
</PRE>

<DT><STRONG><font color="black">COMMUTING_ITBAG_RECURSES</font></STRONG>
<DD>
<PRE>
|- !f e b a.
     (!x y z. f x (f y z) = f y (f x z)) /\ FINITE_BAG b ==>
     (ITBAG f (BAG_INSERT e b) a = f e (ITBAG f b a))
</PRE>

<DT><STRONG><font color="black">BAG_GEN_SUM_EMPTY</font></STRONG>
<DD>
<PRE>
|- !n. BAG_GEN_SUM {||} n = n
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_EMPTY</font></STRONG>
<DD>
<PRE>
|- !n. BAG_GEN_PROD {||} n = n
</PRE>

<DT><STRONG><font color="black">BAG_GEN_SUM_TAILREC</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b ==>
     !x a. BAG_GEN_SUM (BAG_INSERT x b) a = BAG_GEN_SUM b (x + a)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_SUM_REC</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b ==>
     !x a. BAG_GEN_SUM (BAG_INSERT x b) a = x + BAG_GEN_SUM b a
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_TAILREC</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b ==>
     !x a. BAG_GEN_PROD (BAG_INSERT x b) a = BAG_GEN_PROD b (x * a)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_REC</font></STRONG>
<DD>
<PRE>
|- !b.
     FINITE_BAG b ==>
     !x a. BAG_GEN_PROD (BAG_INSERT x b) a = x * BAG_GEN_PROD b a
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_EQ_1</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> !e. (BAG_GEN_PROD b e = 1) ==> (e = 1)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_ALL_ONES</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> (BAG_GEN_PROD b 1 = 1) ==> !x. x <: b ==> (x = 1)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_POSITIVE</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> (!x. x <: b ==> 0 < x) ==> 0 < BAG_GEN_PROD b 1
</PRE>

<DT><STRONG><font color="black">BAG_EVERY_THM</font></STRONG>
<DD>
<PRE>
|- (!P. BAG_EVERY P {||}) /\
   !P e b. BAG_EVERY P (BAG_INSERT e b) <=> P e /\ BAG_EVERY P b
</PRE>

<DT><STRONG><font color="black">BAG_ALL_DISTINCT_THM</font></STRONG>
<DD>
<PRE>
|- BAG_ALL_DISTINCT {||} /\
   !e b. BAG_ALL_DISTINCT (BAG_INSERT e b) <=> ~(e <: b) /\ BAG_ALL_DISTINCT b
</PRE>

<DT><STRONG><font color="black">BAG_ALL_DISTINCT_BAG_MERGE</font></STRONG>
<DD>
<PRE>
|- !b1 b2.
     BAG_ALL_DISTINCT (BAG_MERGE b1 b2) <=>
     BAG_ALL_DISTINCT b1 /\ BAG_ALL_DISTINCT b2
</PRE>

<DT><STRONG><font color="black">BAG_ALL_DISTINCT_BAG_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2.
     BAG_ALL_DISTINCT (b1 + b2) <=>
     BAG_ALL_DISTINCT b1 /\ BAG_ALL_DISTINCT b2 /\ BAG_DISJOINT b1 b2
</PRE>

<DT><STRONG><font color="black">BAG_ALL_DISTINCT_DIFF</font></STRONG>
<DD>
<PRE>
|- !b1 b2. BAG_ALL_DISTINCT b1 ==> BAG_ALL_DISTINCT (b1 - b2)
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_DIFF_ALL_DISTINCT</font></STRONG>
<DD>
<PRE>
|- !b1 b2 e. BAG_ALL_DISTINCT b1 ==> (e <: b1 - b2 <=> e <: b1 /\ ~(e <: b2))
</PRE>

<DT><STRONG><font color="black">NOT_BAG_IN</font></STRONG>
<DD>
<PRE>
|- !b x. (b x = 0) <=> ~(x <: b)
</PRE>

<DT><STRONG><font color="black">BAG_UNION_EQ_LEFT</font></STRONG>
<DD>
<PRE>
|- !b c d. (b + c = b + d) ==> (c = d)
</PRE>

<DT><STRONG><font color="black">BAG_IN_DIVIDES</font></STRONG>
<DD>
<PRE>
|- !b x a. FINITE_BAG b /\ x <: b ==> divides x (BAG_GEN_PROD b a)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_UNION_LEM</font></STRONG>
<DD>
<PRE>
|- !b1.
     FINITE_BAG b1 ==>
     !b2 a b.
       FINITE_BAG b2 ==>
       (BAG_GEN_PROD (b1 + b2) (a * b) =
        BAG_GEN_PROD b1 a * BAG_GEN_PROD b2 b)
</PRE>

<DT><STRONG><font color="black">BAG_GEN_PROD_UNION</font></STRONG>
<DD>
<PRE>
|- !b1 b2.
     FINITE_BAG b1 /\ FINITE_BAG b2 ==>
     (BAG_GEN_PROD (b1 + b2) 1 = BAG_GEN_PROD b1 1 * BAG_GEN_PROD b2 1)
</PRE>

<DT><STRONG><font color="black">BAG_NOT_LESS_EMPTY</font></STRONG>
<DD>
<PRE>
|- ~mlt1 r b {||}
</PRE>

<DT><STRONG><font color="black">BAG_LESS_ADD</font></STRONG>
<DD>
<PRE>
|- mlt1 r N (M0 + {|a|}) ==>
   (?M. mlt1 r M M0 /\ (N = M + {|a|})) \/
   ?KK. (!b. b <: KK ==> r b a) /\ (N = M0 + KK)
</PRE>

<DT><STRONG><font color="black">mlt1_all_accessible</font></STRONG>
<DD>
<PRE>
|- WF R ==> !M. WFP (mlt1 R) M
</PRE>

<DT><STRONG><font color="black">WF_mlt1</font></STRONG>
<DD>
<PRE>
|- WF R ==> WF (mlt1 R)
</PRE>

<DT><STRONG><font color="black">TC_mlt1_FINITE_BAG</font></STRONG>
<DD>
<PRE>
|- !b1 b2. (mlt1 R)^+ b1 b2 ==> FINITE_BAG b1 /\ FINITE_BAG b2
</PRE>

<DT><STRONG><font color="black">TC_mlt1_UNION2_I</font></STRONG>
<DD>
<PRE>
|- !b2 b1.
     FINITE_BAG b2 /\ FINITE_BAG b1 /\ b2 <> {||} ==> (mlt1 R)^+ b1 (b1 + b2)
</PRE>

</DL>



<HR>
</BODY>
</HTML>
