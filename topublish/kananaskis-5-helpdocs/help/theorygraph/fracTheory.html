<HTML>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><TITLE>Theory: frac</TITLE><meta http-equiv="content-type" content="text/html;charset=UTF-8">
</HEAD>
<BODY bgcolor=linen text=midnightblue>
<H1><font color="black">Theory "frac"</font></H1>
<STRONG><font size=+3 color="black">Parents</font></STRONG>&nbsp;&nbsp;&nbsp;&nbsp;
    <A HREF = "intExtensionTheory.html"><STRONG><font color="black">intExtension</font></STRONG></A>

<H1><font color="black">Signature</font></H1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr>
    <th>
    <font color="crimson">Type</font>
    <th>
    <font color="crimson">Arity</font><tr><td>
                                          <STRONG><font color="black">frac</font></STRONG>
                                          <td>
                                          0
    <tr>
    <th>
    <font color="crimson">Constant</font>
    <th>
    <font color="crimson">Type</font><tr><td>
                                         <STRONG><font color="black">abs_frac</font></STRONG>
                                         <td>
                                         :int # int -> frac
    <tr><td> <STRONG><font color="black">frac_0</font></STRONG> <td> :frac
    <tr><td> <STRONG><font color="black">frac_1</font></STRONG> <td> :frac
    <tr><td>
        <STRONG><font color="black">frac_add</font></STRONG>
        <td>
        :frac -> frac -> frac
    <tr><td>
        <STRONG><font color="black">frac_ainv</font></STRONG>
        <td>
        :frac -> frac
    <tr><td>
        <STRONG><font color="black">frac_div</font></STRONG>
        <td>
        :frac -> frac -> frac
    <tr><td>
        <STRONG><font color="black">frac_dnm</font></STRONG>
        <td>
        :frac -> int
    <tr><td>
        <STRONG><font color="black">frac_minv</font></STRONG>
        <td>
        :frac -> frac
    <tr><td>
        <STRONG><font color="black">frac_mul</font></STRONG>
        <td>
        :frac -> frac -> frac
    <tr><td>
        <STRONG><font color="black">frac_nmr</font></STRONG>
        <td>
        :frac -> int
    <tr><td>
        <STRONG><font color="black">frac_save</font></STRONG>
        <td>
        :int -> num -> frac
    <tr><td>
        <STRONG><font color="black">frac_sgn</font></STRONG>
        <td>
        :frac -> int
    <tr><td>
        <STRONG><font color="black">frac_sub</font></STRONG>
        <td>
        :frac -> frac -> frac
    <tr><td>
        <STRONG><font color="black">les_abs</font></STRONG>
        <td>
        :frac -> frac -> bool
    <tr><td>
        <STRONG><font color="black">rep_frac</font></STRONG>
        <td>
        :frac -> int # int
    
</table>
</center>

<H1><font color="black">Definitions</font></H1>
<DL>
<DT><STRONG><font color="black">frac_TY_DEF</font></STRONG>
<DD>
<PRE>
|- ?rep. TYPE_DEFINITION (\f. 0 < SND f) rep
</PRE>

<DT><STRONG><font color="black">frac_tybij</font></STRONG>
<DD>
<PRE>
|- (!a. abs_frac (rep_frac a) = a) /\
   !r. (\f. 0 < SND f) r <=> (rep_frac (abs_frac r) = r)
</PRE>

<DT><STRONG><font color="black">frac_nmr_def</font></STRONG>
<DD>
<PRE>
|- !f. frac_nmr f = FST (rep_frac f)
</PRE>

<DT><STRONG><font color="black">frac_dnm_def</font></STRONG>
<DD>
<PRE>
|- !f. frac_dnm f = SND (rep_frac f)
</PRE>

<DT><STRONG><font color="black">frac_sgn_def</font></STRONG>
<DD>
<PRE>
|- !f1. frac_sgn f1 = SGN (frac_nmr f1)
</PRE>

<DT><STRONG><font color="black">frac_ainv_def</font></STRONG>
<DD>
<PRE>
|- !f1. frac_ainv f1 = abs_frac (-frac_nmr f1,frac_dnm f1)
</PRE>

<DT><STRONG><font color="black">frac_minv_def</font></STRONG>
<DD>
<PRE>
|- !f1. frac_minv f1 = abs_frac (frac_sgn f1 * frac_dnm f1,ABS (frac_nmr f1))
</PRE>

<DT><STRONG><font color="black">frac_0_def</font></STRONG>
<DD>
<PRE>
|- frac_0 = abs_frac (0,1)
</PRE>

<DT><STRONG><font color="black">frac_1_def</font></STRONG>
<DD>
<PRE>
|- frac_1 = abs_frac (1,1)
</PRE>

<DT><STRONG><font color="black">les_abs_def</font></STRONG>
<DD>
<PRE>
|- !f1 f2.
     les_abs f1 f2 <=> frac_nmr f1 * frac_dnm f2 < frac_nmr f2 * frac_dnm f1
</PRE>

<DT><STRONG><font color="black">frac_add_def</font></STRONG>
<DD>
<PRE>
|- !f1 f2.
     frac_add f1 f2 =
     abs_frac
       (frac_nmr f1 * frac_dnm f2 + frac_nmr f2 * frac_dnm f1,
        frac_dnm f1 * frac_dnm f2)
</PRE>

<DT><STRONG><font color="black">frac_sub_def</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_sub f1 f2 = frac_add f1 (frac_ainv f2)
</PRE>

<DT><STRONG><font color="black">frac_mul_def</font></STRONG>
<DD>
<PRE>
|- !f1 f2.
     frac_mul f1 f2 =
     abs_frac (frac_nmr f1 * frac_nmr f2,frac_dnm f1 * frac_dnm f2)
</PRE>

<DT><STRONG><font color="black">frac_div_def</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_div f1 f2 = frac_mul f1 (frac_minv f2)
</PRE>

<DT><STRONG><font color="black">frac_save_def</font></STRONG>
<DD>
<PRE>
|- !nmr dnm. frac_save nmr dnm = abs_frac (nmr,&dnm + 1)
</PRE>

</DL>


<HR>

<HR>
<H1><font color="black">Theorems</font></H1>
<DL>
<DT><STRONG><font color="black">frac_bij</font></STRONG>
<DD>
<PRE>
|- (!a. abs_frac (rep_frac a) = a) /\
   !r. (\f. 0 < SND f) r <=> (rep_frac (abs_frac r) = r)
</PRE>

<DT><STRONG><font color="black">FRAC</font></STRONG>
<DD>
<PRE>
|- !f. abs_frac (frac_nmr f,frac_dnm f) = f
</PRE>

<DT><STRONG><font color="black">FRAC_EQ</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     0 < b1 ==>
     0 < b2 ==>
     ((abs_frac (a1,b1) = abs_frac (a2,b2)) <=> (a1 = a2) /\ (b1 = b2))
</PRE>

<DT><STRONG><font color="black">FRAC_EQ_ALT</font></STRONG>
<DD>
<PRE>
|- !f1 f2.
     (f1 = f2) <=> (frac_nmr f1 = frac_nmr f2) /\ (frac_dnm f1 = frac_dnm f2)
</PRE>

<DT><STRONG><font color="black">FRAC_NOT_EQ</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     0 < b1 ==>
     0 < b2 ==>
     (a1,b1) <> (a2,b2) ==>
     abs_frac (a1,b1) <> abs_frac (a2,b2)
</PRE>

<DT><STRONG><font color="black">FRAC_DNMPOS</font></STRONG>
<DD>
<PRE>
|- !f. 0 < frac_dnm f
</PRE>

<DT><STRONG><font color="black">NMR</font></STRONG>
<DD>
<PRE>
|- !a b. 0 < b ==> (frac_nmr (abs_frac (a,b)) = a)
</PRE>

<DT><STRONG><font color="black">DNM</font></STRONG>
<DD>
<PRE>
|- !a b. 0 < b ==> (frac_dnm (abs_frac (a,b)) = b)
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1. 0 < b1 ==> (frac_ainv (abs_frac (a1,b1)) = abs_frac (-a1,b1))
</PRE>

<DT><STRONG><font color="black">FRAC_MINV_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1.
     0 < b1 ==>
     a1 <> 0 ==>
     (frac_minv (abs_frac (a1,b1)) = abs_frac (SGN a1 * b1,ABS a1))
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1. 0 < b1 ==> (frac_sgn (abs_frac (a1,b1)) = SGN a1)
</PRE>

<DT><STRONG><font color="black">FRAC_ADD_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     0 < b1 ==>
     0 < b2 ==>
     (frac_add (abs_frac (a1,b1)) (abs_frac (a2,b2)) =
      abs_frac (a1 * b2 + a2 * b1,b1 * b2))
</PRE>

<DT><STRONG><font color="black">FRAC_SUB_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     0 < b1 ==>
     0 < b2 ==>
     (frac_sub (abs_frac (a1,b1)) (abs_frac (a2,b2)) =
      abs_frac (a1 * b2 - a2 * b1,b1 * b2))
</PRE>

<DT><STRONG><font color="black">FRAC_MULT_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     0 < b1 ==>
     0 < b2 ==>
     (frac_mul (abs_frac (a1,b1)) (abs_frac (a2,b2)) =
      abs_frac (a1 * a2,b1 * b2))
</PRE>

<DT><STRONG><font color="black">FRAC_DIV_CALCULATE</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     0 < b1 ==>
     0 < b2 ==>
     a2 <> 0 ==>
     (frac_div (abs_frac (a1,b1)) (abs_frac (a2,b2)) =
      abs_frac (a1 * SGN a2 * b2,b1 * ABS a2))
</PRE>

<DT><STRONG><font color="black">FRAC_ADD_ASSOC</font></STRONG>
<DD>
<PRE>
|- !a b c. frac_add a (frac_add b c) = frac_add (frac_add a b) c
</PRE>

<DT><STRONG><font color="black">FRAC_MUL_ASSOC</font></STRONG>
<DD>
<PRE>
|- !a b c. frac_mul a (frac_mul b c) = frac_mul (frac_mul a b) c
</PRE>

<DT><STRONG><font color="black">FRAC_ADD_COMM</font></STRONG>
<DD>
<PRE>
|- !a b. frac_add a b = frac_add b a
</PRE>

<DT><STRONG><font color="black">FRAC_MUL_COMM</font></STRONG>
<DD>
<PRE>
|- !a b. frac_mul a b = frac_mul b a
</PRE>

<DT><STRONG><font color="black">FRAC_ADD_RID</font></STRONG>
<DD>
<PRE>
|- !a. frac_add a frac_0 = a
</PRE>

<DT><STRONG><font color="black">FRAC_MUL_RID</font></STRONG>
<DD>
<PRE>
|- !a. frac_mul a frac_1 = a
</PRE>

<DT><STRONG><font color="black">FRAC_1_0</font></STRONG>
<DD>
<PRE>
|- frac_1 <> frac_0
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_0</font></STRONG>
<DD>
<PRE>
|- frac_ainv frac_0 = frac_0
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_AINV</font></STRONG>
<DD>
<PRE>
|- !f1. frac_ainv (frac_ainv f1) = f1
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_ADD</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_ainv (frac_add f1 f2) = frac_add (frac_ainv f1) (frac_ainv f2)
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_SUB</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_ainv (frac_sub f2 f1) = frac_sub f1 f2
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_RMUL</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_ainv (frac_mul f1 f2) = frac_mul f1 (frac_ainv f2)
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_LMUL</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_ainv (frac_mul f1 f2) = frac_mul (frac_ainv f1) f2
</PRE>

<DT><STRONG><font color="black">FRAC_SUB_ADD</font></STRONG>
<DD>
<PRE>
|- !a b c. frac_sub a (frac_add b c) = frac_sub (frac_sub a b) c
</PRE>

<DT><STRONG><font color="black">FRAC_SUB_SUB</font></STRONG>
<DD>
<PRE>
|- !a b c. frac_sub a (frac_sub b c) = frac_add (frac_sub a b) c
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_TOTAL</font></STRONG>
<DD>
<PRE>
|- !f1. (frac_sgn f1 = -1) \/ (frac_sgn f1 = 0) \/ (frac_sgn f1 = 1)
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_POS</font></STRONG>
<DD>
<PRE>
|- !f1. (frac_sgn f1 = 1) <=> 0 < frac_nmr f1
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_NOT_NEG</font></STRONG>
<DD>
<PRE>
|- !f1. frac_sgn f1 <> -1 <=> (0 = frac_nmr f1) \/ 0 < frac_nmr f1
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_NEG</font></STRONG>
<DD>
<PRE>
|- !f. -frac_sgn (frac_ainv f) = frac_sgn f
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_IMP_EQGT</font></STRONG>
<DD>
<PRE>
|- !f1. frac_sgn f1 <> -1 <=> (frac_sgn f1 = 0) \/ (frac_sgn f1 = 1)
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_MUL</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_sgn (frac_mul f1 f2) = frac_sgn f1 * frac_sgn f2
</PRE>

<DT><STRONG><font color="black">FRAC_ABS_SGN</font></STRONG>
<DD>
<PRE>
|- !f1. frac_nmr f1 <> 0 ==> (ABS (frac_sgn f1) = 1)
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_MUL2</font></STRONG>
<DD>
<PRE>
|- !f1 f2. frac_sgn (frac_mul f1 f2) = frac_sgn f1 * frac_sgn f2
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_CASES</font></STRONG>
<DD>
<PRE>
|- !f1 P.
     ((frac_sgn f1 = -1) ==> P) /\ ((frac_sgn f1 = 0) ==> P) /\
     ((frac_sgn f1 = 1) ==> P) ==>
     P
</PRE>

<DT><STRONG><font color="black">FRAC_SGN_AINV</font></STRONG>
<DD>
<PRE>
|- !f1. -frac_sgn (frac_ainv f1) = frac_sgn f1
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_ONEONE</font></STRONG>
<DD>
<PRE>
|- ONE_ONE frac_ainv
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_ONTO</font></STRONG>
<DD>
<PRE>
|- ONTO frac_ainv
</PRE>

<DT><STRONG><font color="black">FRAC_NMR_SAVE</font></STRONG>
<DD>
<PRE>
|- !a1 b1. frac_nmr (frac_save a1 b1) = a1
</PRE>

<DT><STRONG><font color="black">FRAC_DNM_SAVE</font></STRONG>
<DD>
<PRE>
|- !a1 b1. frac_dnm (frac_save a1 b1) = &b1 + 1
</PRE>

<DT><STRONG><font color="black">FRAC_0_SAVE</font></STRONG>
<DD>
<PRE>
|- frac_0 = frac_save 0 0
</PRE>

<DT><STRONG><font color="black">FRAC_1_SAVE</font></STRONG>
<DD>
<PRE>
|- frac_1 = frac_save 1 0
</PRE>

<DT><STRONG><font color="black">FRAC_AINV_SAVE</font></STRONG>
<DD>
<PRE>
|- !a1 b1. frac_ainv (frac_save a1 b1) = frac_save (-a1) b1
</PRE>

<DT><STRONG><font color="black">FRAC_MINV_SAVE</font></STRONG>
<DD>
<PRE>
|- !a1 b1.
     a1 <> 0 ==>
     (frac_minv (frac_save a1 b1) =
      frac_save (SGN a1 * (&b1 + 1)) (Num (ABS a1 - 1)))
</PRE>

<DT><STRONG><font color="black">FRAC_ADD_SAVE</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     frac_add (frac_save a1 b1) (frac_save a2 b2) =
     frac_save (a1 * &b2 + a2 * &b1 + a1 + a2) (b1 * b2 + b1 + b2)
</PRE>

<DT><STRONG><font color="black">FRAC_MUL_SAVE</font></STRONG>
<DD>
<PRE>
|- !a1 b1 a2 b2.
     frac_mul (frac_save a1 b1) (frac_save a2 b2) =
     frac_save (a1 * a2) (b1 * b2 + b1 + b2)
</PRE>

</DL>



<HR>
</BODY>
</HTML>
