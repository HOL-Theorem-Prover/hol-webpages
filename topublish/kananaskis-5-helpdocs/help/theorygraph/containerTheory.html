<HTML>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><TITLE>Theory: container</TITLE><meta http-equiv="content-type" content="text/html;charset=UTF-8">
</HEAD>
<BODY bgcolor=linen text=midnightblue>
<H1><font color="black">Theory "container"</font></H1>
<STRONG><font size=+3 color="black">Parents</font></STRONG>&nbsp;&nbsp;&nbsp;&nbsp;
    <A HREF = "sortingTheory.html"><STRONG><font color="black">sorting</font></STRONG></A>&nbsp;&nbsp;
    <A HREF = "finite_mapTheory.html"><STRONG><font color="black">finite_map</font></STRONG></A>&nbsp;&nbsp;
    <A HREF = "bagTheory.html"><STRONG><font color="black">bag</font></STRONG></A>

<H1><font color="black">Signature</font></H1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr>
    <th>
    <font color="crimson">Constant</font>
    <th>
    <font color="crimson">Type</font><tr><td>
                                         <STRONG><font color="black">BAG_OF_FMAP</font></STRONG>
                                         <td>
                                         :('b -> 'c -> 'a) ->
                                          ('b |-> 'c) -> 'a -> num
    <tr><td>
        <STRONG><font color="black">BAG_TO_LIST</font></STRONG>
        <td>
        :('a -> num) -> 'a list
    <tr><td>
        <STRONG><font color="black">LIST_TO_BAG</font></STRONG>
        <td>
        :'a list -> 'a -> num
    
</table>
</center>

<H1><font color="black">Definitions</font></H1>
<DL>
<DT><STRONG><font color="black">LIST_TO_BAG_def</font></STRONG>
<DD>
<PRE>
|- (LIST_TO_BAG [] = {||}) /\
   !h t. LIST_TO_BAG (h::t) = BAG_INSERT h (LIST_TO_BAG t)
</PRE>

<DT><STRONG><font color="black">BAG_TO_LIST_primitive_def</font></STRONG>
<DD>
<PRE>
|- BAG_TO_LIST =
   WFREC
     (@R.
        WF R /\ !bag. FINITE_BAG bag /\ bag <> {||} ==> R (BAG_REST bag) bag)
     (\BAG_TO_LIST bag.
        I
          (if FINITE_BAG bag then
             if bag = {||} then
               []
             else
               BAG_CHOICE bag::BAG_TO_LIST (BAG_REST bag)
           else
             ARB))
</PRE>

<DT><STRONG><font color="black">BAG_OF_FMAP_def</font></STRONG>
<DD>
<PRE>
|- !f b. BAG_OF_FMAP f b = (\x. CARD (\k. k IN FDOM b /\ (x = f k (b ' k))))
</PRE>

</DL>


<HR>

<HR>
<H1><font color="black">Theorems</font></H1>
<DL>
<DT><STRONG><font color="black">SET_TO_LIST_THM</font></STRONG>
<DD>
<PRE>
|- FINITE s ==>
   (SET_TO_LIST s = if s = {} then [] else CHOICE s::SET_TO_LIST (REST s))
</PRE>

<DT><STRONG><font color="black">SET_TO_LIST_IND</font></STRONG>
<DD>
<PRE>
|- !P. (!s. (FINITE s /\ s <> {} ==> P (REST s)) ==> P s) ==> !v. P v
</PRE>

<DT><STRONG><font color="black">LIST_TO_SET_THM</font></STRONG>
<DD>
<PRE>
|- (LIST_TO_SET [] = {}) /\ (LIST_TO_SET (h::t) = h INSERT LIST_TO_SET t)
</PRE>

<DT><STRONG><font color="black">SET_TO_LIST_INV</font></STRONG>
<DD>
<PRE>
|- !s. FINITE s ==> (LIST_TO_SET (SET_TO_LIST s) = s)
</PRE>

<DT><STRONG><font color="black">SET_TO_LIST_CARD</font></STRONG>
<DD>
<PRE>
|- !s. FINITE s ==> (LENGTH (SET_TO_LIST s) = CARD s)
</PRE>

<DT><STRONG><font color="black">SET_TO_LIST_IN_MEM</font></STRONG>
<DD>
<PRE>
|- !s. FINITE s ==> !x. x IN s <=> MEM x (SET_TO_LIST s)
</PRE>

<DT><STRONG><font color="black">MEM_SET_TO_LIST</font></STRONG>
<DD>
<PRE>
|- !s. FINITE s ==> !x. MEM x (SET_TO_LIST s) <=> x IN s
</PRE>

<DT><STRONG><font color="black">SET_TO_LIST_SING</font></STRONG>
<DD>
<PRE>
|- SET_TO_LIST {x} = [x]
</PRE>

<DT><STRONG><font color="black">UNION_APPEND</font></STRONG>
<DD>
<PRE>
|- !l1 l2. LIST_TO_SET l1 UNION LIST_TO_SET l2 = LIST_TO_SET (l1 ++ l2)
</PRE>

<DT><STRONG><font color="black">LIST_TO_SET_APPEND</font></STRONG>
<DD>
<PRE>
|- !l1 l2. LIST_TO_SET (l1 ++ l2) = LIST_TO_SET l1 UNION LIST_TO_SET l2
</PRE>

<DT><STRONG><font color="black">FINITE_LIST_TO_SET</font></STRONG>
<DD>
<PRE>
|- !l. FINITE (LIST_TO_SET l)
</PRE>

<DT><STRONG><font color="black">BAG_TO_LIST_THM</font></STRONG>
<DD>
<PRE>
|- FINITE_BAG bag ==>
   (BAG_TO_LIST bag =
    if bag = {||} then [] else BAG_CHOICE bag::BAG_TO_LIST (BAG_REST bag))
</PRE>

<DT><STRONG><font color="black">BAG_TO_LIST_IND</font></STRONG>
<DD>
<PRE>
|- !P.
     (!bag.
        (FINITE_BAG bag /\ bag <> {||} ==> P (BAG_REST bag)) ==> P bag) ==>
     !v. P v
</PRE>

<DT><STRONG><font color="black">BAG_TO_LIST_INV</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> (LIST_TO_BAG (BAG_TO_LIST b) = b)
</PRE>

<DT><STRONG><font color="black">BAG_TO_LIST_CARD</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> (LENGTH (BAG_TO_LIST b) = BAG_CARD b)
</PRE>

<DT><STRONG><font color="black">BAG_IN_MEM</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> !x. x <: b <=> MEM x (BAG_TO_LIST b)
</PRE>

<DT><STRONG><font color="black">MEM_BAG_TO_LIST</font></STRONG>
<DD>
<PRE>
|- !b. FINITE_BAG b ==> !x. MEM x (BAG_TO_LIST b) <=> x <: b
</PRE>

<DT><STRONG><font color="black">LIST_TO_BAG_APPEND</font></STRONG>
<DD>
<PRE>
|- !l1 l2. LIST_TO_BAG (l1 ++ l2) = LIST_TO_BAG l1 + LIST_TO_BAG l2
</PRE>

<DT><STRONG><font color="black">IN_LIST_TO_BAG</font></STRONG>
<DD>
<PRE>
|- !h l. h <: LIST_TO_BAG l <=> MEM h l
</PRE>

<DT><STRONG><font color="black">LIST_TO_BAG_EQ_EMPTY</font></STRONG>
<DD>
<PRE>
|- !l. (LIST_TO_BAG l = {||}) <=> (l = [])
</PRE>

<DT><STRONG><font color="black">PERM_LIST_TO_BAG</font></STRONG>
<DD>
<PRE>
|- !l1 l2. (LIST_TO_BAG l1 = LIST_TO_BAG l2) <=> PERM l1 l2
</PRE>

<DT><STRONG><font color="black">BAG_OF_FMAP_THM</font></STRONG>
<DD>
<PRE>
|- (!f. BAG_OF_FMAP f FEMPTY = {||}) /\
   !f b k v.
     BAG_OF_FMAP f (b |+ (k,v)) = BAG_INSERT (f k v) (BAG_OF_FMAP f (b \\ k))
</PRE>

<DT><STRONG><font color="black">BAG_IN_BAG_OF_FMAP</font></STRONG>
<DD>
<PRE>
|- !x f b. x <: BAG_OF_FMAP f b <=> ?k. k IN FDOM b /\ (x = f k (b ' k))
</PRE>

<DT><STRONG><font color="black">FINITE_BAG_OF_FMAP</font></STRONG>
<DD>
<PRE>
|- !f b. FINITE_BAG (BAG_OF_FMAP f b)
</PRE>

</DL>



<HR>
</BODY>
</HTML>
