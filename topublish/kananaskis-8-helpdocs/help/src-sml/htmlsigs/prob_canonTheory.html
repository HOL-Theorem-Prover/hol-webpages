<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head><link rel="icon" href="../../../../images/logo.ico" type="image/vnd.microsoft.icon">
<meta http-equiv="content-type" content="text/html ; charset=UTF-8">
<title>Structure prob_canonTheory</title>
<style type="text/css">
<!--
  body {background: #fbf2e7}
-->
</style></head>
<body>
<h1>Structure prob_canonTheory</h1>
<hr><table width="100%"><tr align = center>
<th><a href="../../../src/prob/prob_canonScript.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<pre>
<a name="line1"></a>signature prob_canonTheory =
<a name="line2"></a>sig
<a name="line3"></a>  type thm = Thm.thm
<a name="line4"></a>
<a name="line5"></a>  (*  Definitions  *)
<a name="line6"></a>    val <a href="#alg_canon1_def-val">alg_canon1_def</a> : thm
<a name="line7"></a>    val <a href="#alg_canon2_def-val">alg_canon2_def</a> : thm
<a name="line8"></a>    val <a href="#alg_canon_def-val">alg_canon_def</a> : thm
<a name="line9"></a>    val <a href="#alg_canon_find_def-val">alg_canon_find_def</a> : thm
<a name="line10"></a>    val <a href="#alg_canon_merge_def-val">alg_canon_merge_def</a> : thm
<a name="line11"></a>    val <a href="#alg_canon_prefs_def-val">alg_canon_prefs_def</a> : thm
<a name="line12"></a>    val <a href="#alg_longest_def-val">alg_longest_def</a> : thm
<a name="line13"></a>    val <a href="#alg_order_curried_def-val">alg_order_curried_def</a> : thm
<a name="line14"></a>    val <a href="#alg_order_tupled_primitive_def-val">alg_order_tupled_primitive_def</a> : thm
<a name="line15"></a>    val <a href="#alg_prefixfree_primitive_def-val">alg_prefixfree_primitive_def</a> : thm
<a name="line16"></a>    val <a href="#alg_sorted_primitive_def-val">alg_sorted_primitive_def</a> : thm
<a name="line17"></a>    val <a href="#alg_twin_def-val">alg_twin_def</a> : thm
<a name="line18"></a>    val <a href="#alg_twinfree_primitive_def-val">alg_twinfree_primitive_def</a> : thm
<a name="line19"></a>    val <a href="#algebra_canon_def-val">algebra_canon_def</a> : thm
<a name="line20"></a>
<a name="line21"></a>  (*  Theorems  *)
<a name="line22"></a>    val <a href="#ALGEBRA_CANON_BASIC-val">ALGEBRA_CANON_BASIC</a> : thm
<a name="line23"></a>    val <a href="#ALGEBRA_CANON_CASES-val">ALGEBRA_CANON_CASES</a> : thm
<a name="line24"></a>    val <a href="#ALGEBRA_CANON_CASES_THM-val">ALGEBRA_CANON_CASES_THM</a> : thm
<a name="line25"></a>    val <a href="#ALGEBRA_CANON_DEF_ALT-val">ALGEBRA_CANON_DEF_ALT</a> : thm
<a name="line26"></a>    val <a href="#ALGEBRA_CANON_INDUCTION-val">ALGEBRA_CANON_INDUCTION</a> : thm
<a name="line27"></a>    val <a href="#ALGEBRA_CANON_NIL_MEM-val">ALGEBRA_CANON_NIL_MEM</a> : thm
<a name="line28"></a>    val <a href="#ALGEBRA_CANON_STEP-val">ALGEBRA_CANON_STEP</a> : thm
<a name="line29"></a>    val <a href="#ALGEBRA_CANON_STEP1-val">ALGEBRA_CANON_STEP1</a> : thm
<a name="line30"></a>    val <a href="#ALGEBRA_CANON_STEP2-val">ALGEBRA_CANON_STEP2</a> : thm
<a name="line31"></a>    val <a href="#ALGEBRA_CANON_TL-val">ALGEBRA_CANON_TL</a> : thm
<a name="line32"></a>    val <a href="#ALGEBRA_CANON_TLS-val">ALGEBRA_CANON_TLS</a> : thm
<a name="line33"></a>    val <a href="#ALG_CANON1_CONSTANT-val">ALG_CANON1_CONSTANT</a> : thm
<a name="line34"></a>    val <a href="#ALG_CANON1_PREFIXFREE-val">ALG_CANON1_PREFIXFREE</a> : thm
<a name="line35"></a>    val <a href="#ALG_CANON1_SORTED-val">ALG_CANON1_SORTED</a> : thm
<a name="line36"></a>    val <a href="#ALG_CANON2_CONSTANT-val">ALG_CANON2_CONSTANT</a> : thm
<a name="line37"></a>    val <a href="#ALG_CANON2_PREFIXFREE_PRESERVE-val">ALG_CANON2_PREFIXFREE_PRESERVE</a> : thm
<a name="line38"></a>    val <a href="#ALG_CANON2_SHORTENS-val">ALG_CANON2_SHORTENS</a> : thm
<a name="line39"></a>    val <a href="#ALG_CANON2_SORTED_PREFIXFREE_TWINFREE-val">ALG_CANON2_SORTED_PREFIXFREE_TWINFREE</a> : thm
<a name="line40"></a>    val <a href="#ALG_CANON_BASIC-val">ALG_CANON_BASIC</a> : thm
<a name="line41"></a>    val <a href="#ALG_CANON_CONSTANT-val">ALG_CANON_CONSTANT</a> : thm
<a name="line42"></a>    val <a href="#ALG_CANON_FIND_CONSTANT-val">ALG_CANON_FIND_CONSTANT</a> : thm
<a name="line43"></a>    val <a href="#ALG_CANON_FIND_DELETES-val">ALG_CANON_FIND_DELETES</a> : thm
<a name="line44"></a>    val <a href="#ALG_CANON_FIND_HD-val">ALG_CANON_FIND_HD</a> : thm
<a name="line45"></a>    val <a href="#ALG_CANON_FIND_PREFIXFREE-val">ALG_CANON_FIND_PREFIXFREE</a> : thm
<a name="line46"></a>    val <a href="#ALG_CANON_FIND_SORTED-val">ALG_CANON_FIND_SORTED</a> : thm
<a name="line47"></a>    val <a href="#ALG_CANON_IDEMPOT-val">ALG_CANON_IDEMPOT</a> : thm
<a name="line48"></a>    val <a href="#ALG_CANON_MERGE_CONSTANT-val">ALG_CANON_MERGE_CONSTANT</a> : thm
<a name="line49"></a>    val <a href="#ALG_CANON_MERGE_PREFIXFREE_PRESERVE-val">ALG_CANON_MERGE_PREFIXFREE_PRESERVE</a> : thm
<a name="line50"></a>    val <a href="#ALG_CANON_MERGE_SHORTENS-val">ALG_CANON_MERGE_SHORTENS</a> : thm
<a name="line51"></a>    val <a href="#ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE-val">ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE</a> : thm
<a name="line52"></a>    val <a href="#ALG_CANON_PREFS_CONSTANT-val">ALG_CANON_PREFS_CONSTANT</a> : thm
<a name="line53"></a>    val <a href="#ALG_CANON_PREFS_DELETES-val">ALG_CANON_PREFS_DELETES</a> : thm
<a name="line54"></a>    val <a href="#ALG_CANON_PREFS_HD-val">ALG_CANON_PREFS_HD</a> : thm
<a name="line55"></a>    val <a href="#ALG_CANON_PREFS_PREFIXFREE-val">ALG_CANON_PREFS_PREFIXFREE</a> : thm
<a name="line56"></a>    val <a href="#ALG_CANON_PREFS_SORTED-val">ALG_CANON_PREFS_SORTED</a> : thm
<a name="line57"></a>    val <a href="#ALG_CANON_SORTED_PREFIXFREE_TWINFREE-val">ALG_CANON_SORTED_PREFIXFREE_TWINFREE</a> : thm
<a name="line58"></a>    val <a href="#ALG_LONGEST_APPEND-val">ALG_LONGEST_APPEND</a> : thm
<a name="line59"></a>    val <a href="#ALG_LONGEST_HD-val">ALG_LONGEST_HD</a> : thm
<a name="line60"></a>    val <a href="#ALG_LONGEST_TL-val">ALG_LONGEST_TL</a> : thm
<a name="line61"></a>    val <a href="#ALG_LONGEST_TLS-val">ALG_LONGEST_TLS</a> : thm
<a name="line62"></a>    val <a href="#ALG_ORDER_ANTISYM-val">ALG_ORDER_ANTISYM</a> : thm
<a name="line63"></a>    val <a href="#ALG_ORDER_NIL-val">ALG_ORDER_NIL</a> : thm
<a name="line64"></a>    val <a href="#ALG_ORDER_PREFIX-val">ALG_ORDER_PREFIX</a> : thm
<a name="line65"></a>    val <a href="#ALG_ORDER_PREFIX_ANTI-val">ALG_ORDER_PREFIX_ANTI</a> : thm
<a name="line66"></a>    val <a href="#ALG_ORDER_PREFIX_MONO-val">ALG_ORDER_PREFIX_MONO</a> : thm
<a name="line67"></a>    val <a href="#ALG_ORDER_PREFIX_TRANS-val">ALG_ORDER_PREFIX_TRANS</a> : thm
<a name="line68"></a>    val <a href="#ALG_ORDER_REFL-val">ALG_ORDER_REFL</a> : thm
<a name="line69"></a>    val <a href="#ALG_ORDER_SNOC-val">ALG_ORDER_SNOC</a> : thm
<a name="line70"></a>    val <a href="#ALG_ORDER_TOTAL-val">ALG_ORDER_TOTAL</a> : thm
<a name="line71"></a>    val <a href="#ALG_ORDER_TRANS-val">ALG_ORDER_TRANS</a> : thm
<a name="line72"></a>    val <a href="#ALG_PREFIXFREE_APPEND-val">ALG_PREFIXFREE_APPEND</a> : thm
<a name="line73"></a>    val <a href="#ALG_PREFIXFREE_ELT-val">ALG_PREFIXFREE_ELT</a> : thm
<a name="line74"></a>    val <a href="#ALG_PREFIXFREE_FILTER-val">ALG_PREFIXFREE_FILTER</a> : thm
<a name="line75"></a>    val <a href="#ALG_PREFIXFREE_MONO-val">ALG_PREFIXFREE_MONO</a> : thm
<a name="line76"></a>    val <a href="#ALG_PREFIXFREE_STEP-val">ALG_PREFIXFREE_STEP</a> : thm
<a name="line77"></a>    val <a href="#ALG_PREFIXFREE_TL-val">ALG_PREFIXFREE_TL</a> : thm
<a name="line78"></a>    val <a href="#ALG_PREFIXFREE_TLS-val">ALG_PREFIXFREE_TLS</a> : thm
<a name="line79"></a>    val <a href="#ALG_SORTED_APPEND-val">ALG_SORTED_APPEND</a> : thm
<a name="line80"></a>    val <a href="#ALG_SORTED_DEF_ALT-val">ALG_SORTED_DEF_ALT</a> : thm
<a name="line81"></a>    val <a href="#ALG_SORTED_FILTER-val">ALG_SORTED_FILTER</a> : thm
<a name="line82"></a>    val <a href="#ALG_SORTED_MIN-val">ALG_SORTED_MIN</a> : thm
<a name="line83"></a>    val <a href="#ALG_SORTED_MONO-val">ALG_SORTED_MONO</a> : thm
<a name="line84"></a>    val <a href="#ALG_SORTED_PREFIXFREE_EQUALITY-val">ALG_SORTED_PREFIXFREE_EQUALITY</a> : thm
<a name="line85"></a>    val <a href="#ALG_SORTED_PREFIXFREE_MEM_NIL-val">ALG_SORTED_PREFIXFREE_MEM_NIL</a> : thm
<a name="line86"></a>    val <a href="#ALG_SORTED_STEP-val">ALG_SORTED_STEP</a> : thm
<a name="line87"></a>    val <a href="#ALG_SORTED_TL-val">ALG_SORTED_TL</a> : thm
<a name="line88"></a>    val <a href="#ALG_SORTED_TLS-val">ALG_SORTED_TLS</a> : thm
<a name="line89"></a>    val <a href="#ALG_TWINFREE_STEP-val">ALG_TWINFREE_STEP</a> : thm
<a name="line90"></a>    val <a href="#ALG_TWINFREE_STEP1-val">ALG_TWINFREE_STEP1</a> : thm
<a name="line91"></a>    val <a href="#ALG_TWINFREE_STEP2-val">ALG_TWINFREE_STEP2</a> : thm
<a name="line92"></a>    val <a href="#ALG_TWINFREE_TL-val">ALG_TWINFREE_TL</a> : thm
<a name="line93"></a>    val <a href="#ALG_TWINFREE_TLS-val">ALG_TWINFREE_TLS</a> : thm
<a name="line94"></a>    val <a href="#ALG_TWINS_PREFIX-val">ALG_TWINS_PREFIX</a> : thm
<a name="line95"></a>    val <a href="#ALG_TWIN_CONS-val">ALG_TWIN_CONS</a> : thm
<a name="line96"></a>    val <a href="#ALG_TWIN_NIL-val">ALG_TWIN_NIL</a> : thm
<a name="line97"></a>    val <a href="#ALG_TWIN_REDUCE-val">ALG_TWIN_REDUCE</a> : thm
<a name="line98"></a>    val <a href="#ALG_TWIN_SING-val">ALG_TWIN_SING</a> : thm
<a name="line99"></a>    val <a href="#MEM_NIL_STEP-val">MEM_NIL_STEP</a> : thm
<a name="line100"></a>    val <a href="#alg_order_def-val">alg_order_def</a> : thm
<a name="line101"></a>    val <a href="#alg_order_ind-val">alg_order_ind</a> : thm
<a name="line102"></a>    val <a href="#alg_prefixfree_def-val">alg_prefixfree_def</a> : thm
<a name="line103"></a>    val <a href="#alg_prefixfree_ind-val">alg_prefixfree_ind</a> : thm
<a name="line104"></a>    val <a href="#alg_sorted_def-val">alg_sorted_def</a> : thm
<a name="line105"></a>    val <a href="#alg_sorted_ind-val">alg_sorted_ind</a> : thm
<a name="line106"></a>    val <a href="#alg_twinfree_def-val">alg_twinfree_def</a> : thm
<a name="line107"></a>    val <a href="#alg_twinfree_ind-val">alg_twinfree_ind</a> : thm
<a name="line108"></a>
<a name="line109"></a>  val prob_canon_grammars : type_grammar.grammar * term_grammar.grammar
<a name="line110"></a>(*
   [prob_extra] Parent theory of "prob_canon"

   [<a name="alg_canon1_def-val"><b>alg_canon1_def</b></a>]  Definition

      |- alg_canon1 = FOLDR alg_canon_find []

   [<a name="alg_canon2_def-val"><b>alg_canon2_def</b></a>]  Definition

      |- alg_canon2 = FOLDR alg_canon_merge []

   [<a name="alg_canon_def-val"><b>alg_canon_def</b></a>]  Definition

      |- ∀l. alg_canon l = alg_canon2 (alg_canon1 l)

   [<a name="alg_canon_find_def-val"><b>alg_canon_find_def</b></a>]  Definition

      |- (∀l. alg_canon_find l [] = [l]) ∧
         ∀l h t.
           alg_canon_find l (h::t) =
           if alg_order h l then
             if h ≼ l then h::t else h::alg_canon_find l t
           else
             alg_canon_prefs l (h::t)

   [<a name="alg_canon_merge_def-val"><b>alg_canon_merge_def</b></a>]  Definition

      |- (∀l. alg_canon_merge l [] = [l]) ∧
         ∀l h t.
           alg_canon_merge l (h::t) =
           if alg_twin l h then alg_canon_merge (FRONT h) t else l::h::t

   [<a name="alg_canon_prefs_def-val"><b>alg_canon_prefs_def</b></a>]  Definition

      |- (∀l. alg_canon_prefs l [] = [l]) ∧
         ∀l h t.
           alg_canon_prefs l (h::t) =
           if l ≼ h then alg_canon_prefs l t else l::h::t

   [<a name="alg_longest_def-val"><b>alg_longest_def</b></a>]  Definition

      |- alg_longest = FOLDR (λh t. if t ≤ LENGTH h then LENGTH h else t) 0

   [<a name="alg_order_curried_def-val"><b>alg_order_curried_def</b></a>]  Definition

      |- ∀x x1. alg_order x x1 ⇔ alg_order_tupled (x,x1)

   [<a name="alg_order_tupled_primitive_def-val"><b>alg_order_tupled_primitive_def</b></a>]  Definition

      |- alg_order_tupled =
         WFREC (@R. WF R ∧ ∀h' h t' t. R (t,t') (h::t,h'::t'))
           (λalg_order_tupled a.
              case a of
                ([],[]) =&gt; I T
              | ([],v9::v10) =&gt; I T
              | (h::t,[]) =&gt; I F
              | (h::t,h'::t') =&gt;
                  I
                    ((h ⇔ T) ∧ (h' ⇔ F) ∨
                     (h ⇔ h') ∧ alg_order_tupled (t,t')))

   [<a name="alg_prefixfree_primitive_def-val"><b>alg_prefixfree_primitive_def</b></a>]  Definition

      |- alg_prefixfree =
         WFREC (@R. WF R ∧ ∀x z y. R (y::z) (x::y::z))
           (λalg_prefixfree a.
              case a of
                [] =&gt; I T
              | [x] =&gt; I T
              | x::y::z =&gt; I (¬(x ≼ y) ∧ alg_prefixfree (y::z)))

   [<a name="alg_sorted_primitive_def-val"><b>alg_sorted_primitive_def</b></a>]  Definition

      |- alg_sorted =
         WFREC (@R. WF R ∧ ∀x z y. R (y::z) (x::y::z))
           (λalg_sorted a.
              case a of
                [] =&gt; I T
              | [x] =&gt; I T
              | x::y::z =&gt; I (alg_order x y ∧ alg_sorted (y::z)))

   [<a name="alg_twin_def-val"><b>alg_twin_def</b></a>]  Definition

      |- ∀x y. alg_twin x y ⇔ ∃l. (x = SNOC T l) ∧ (y = SNOC F l)

   [<a name="alg_twinfree_primitive_def-val"><b>alg_twinfree_primitive_def</b></a>]  Definition

      |- alg_twinfree =
         WFREC (@R. WF R ∧ ∀x z y. R (y::z) (x::y::z))
           (λalg_twinfree a.
              case a of
                [] =&gt; I T
              | [x] =&gt; I T
              | x::y::z =&gt; I (¬alg_twin x y ∧ alg_twinfree (y::z)))

   [<a name="algebra_canon_def-val"><b>algebra_canon_def</b></a>]  Definition

      |- ∀l. algebra_canon l ⇔ (alg_canon l = l)

   [<a name="ALGEBRA_CANON_BASIC-val"><b>ALGEBRA_CANON_BASIC</b></a>]  Theorem

      |- algebra_canon [] ∧ algebra_canon [[]] ∧ ∀x. algebra_canon [x]

   [<a name="ALGEBRA_CANON_CASES-val"><b>ALGEBRA_CANON_CASES</b></a>]  Theorem

      |- ∀P.
           P [] ∧ P [[]] ∧
           (∀l1 l2.
              algebra_canon l1 ∧ algebra_canon l2 ∧
              algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇒
              P (MAP (CONS T) l1 ++ MAP (CONS F) l2)) ⇒
           ∀l. algebra_canon l ⇒ P l

   [<a name="ALGEBRA_CANON_CASES_THM-val"><b>ALGEBRA_CANON_CASES_THM</b></a>]  Theorem

      |- ∀l.
           algebra_canon l ⇒
           (l = []) ∨ (l = [[]]) ∨
           ∃l1 l2.
             algebra_canon l1 ∧ algebra_canon l2 ∧
             (l = MAP (CONS T) l1 ++ MAP (CONS F) l2)

   [<a name="ALGEBRA_CANON_DEF_ALT-val"><b>ALGEBRA_CANON_DEF_ALT</b></a>]  Theorem

      |- ∀l.
           algebra_canon l ⇔
           alg_sorted l ∧ alg_prefixfree l ∧ alg_twinfree l

   [<a name="ALGEBRA_CANON_INDUCTION-val"><b>ALGEBRA_CANON_INDUCTION</b></a>]  Theorem

      |- ∀P.
           P [] ∧ P [[]] ∧
           (∀l1 l2.
              algebra_canon l1 ∧ algebra_canon l2 ∧ P l1 ∧ P l2 ∧
              algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇒
              P (MAP (CONS T) l1 ++ MAP (CONS F) l2)) ⇒
           ∀l. algebra_canon l ⇒ P l

   [<a name="ALGEBRA_CANON_NIL_MEM-val"><b>ALGEBRA_CANON_NIL_MEM</b></a>]  Theorem

      |- ∀l. algebra_canon l ∧ MEM [] l ⇔ (l = [[]])

   [<a name="ALGEBRA_CANON_STEP-val"><b>ALGEBRA_CANON_STEP</b></a>]  Theorem

      |- ∀l1 l2.
           l1 ≠ [[]] ∨ l2 ≠ [[]] ⇒
           (algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇔
            algebra_canon l1 ∧ algebra_canon l2)

   [<a name="ALGEBRA_CANON_STEP1-val"><b>ALGEBRA_CANON_STEP1</b></a>]  Theorem

      |- ∀l1 l2.
           algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇒
           algebra_canon l1 ∧ algebra_canon l2

   [<a name="ALGEBRA_CANON_STEP2-val"><b>ALGEBRA_CANON_STEP2</b></a>]  Theorem

      |- ∀l1 l2.
           (l1 ≠ [[]] ∨ l2 ≠ [[]]) ∧ algebra_canon l1 ∧ algebra_canon l2 ⇒
           algebra_canon (MAP (CONS T) l1 ++ MAP (CONS F) l2)

   [<a name="ALGEBRA_CANON_TL-val"><b>ALGEBRA_CANON_TL</b></a>]  Theorem

      |- ∀h t. algebra_canon (h::t) ⇒ algebra_canon t

   [<a name="ALGEBRA_CANON_TLS-val"><b>ALGEBRA_CANON_TLS</b></a>]  Theorem

      |- ∀l b. algebra_canon (MAP (CONS b) l) ⇔ algebra_canon l

   [<a name="ALG_CANON1_CONSTANT-val"><b>ALG_CANON1_CONSTANT</b></a>]  Theorem

      |- ∀l. alg_sorted l ∧ alg_prefixfree l ⇒ (alg_canon1 l = l)

   [<a name="ALG_CANON1_PREFIXFREE-val"><b>ALG_CANON1_PREFIXFREE</b></a>]  Theorem

      |- ∀l. alg_prefixfree (alg_canon1 l)

   [<a name="ALG_CANON1_SORTED-val"><b>ALG_CANON1_SORTED</b></a>]  Theorem

      |- ∀l. alg_sorted (alg_canon1 l)

   [<a name="ALG_CANON2_CONSTANT-val"><b>ALG_CANON2_CONSTANT</b></a>]  Theorem

      |- ∀l. alg_twinfree l ⇒ (alg_canon2 l = l)

   [<a name="ALG_CANON2_PREFIXFREE_PRESERVE-val"><b>ALG_CANON2_PREFIXFREE_PRESERVE</b></a>]  Theorem

      |- ∀l h.
           (∀x. MEM x l ⇒ ¬(x ≼ h) ∧ ¬(h ≼ x)) ⇒
           ∀x. MEM x (alg_canon2 l) ⇒ ¬(x ≼ h) ∧ ¬(h ≼ x)

   [<a name="ALG_CANON2_SHORTENS-val"><b>ALG_CANON2_SHORTENS</b></a>]  Theorem

      |- ∀l x. MEM x (alg_canon2 l) ⇒ ∃y. MEM y l ∧ x ≼ y

   [<a name="ALG_CANON2_SORTED_PREFIXFREE_TWINFREE-val"><b>ALG_CANON2_SORTED_PREFIXFREE_TWINFREE</b></a>]  Theorem

      |- ∀l.
           alg_sorted l ∧ alg_prefixfree l ⇒
           alg_sorted (alg_canon2 l) ∧ alg_prefixfree (alg_canon2 l) ∧
           alg_twinfree (alg_canon2 l)

   [<a name="ALG_CANON_BASIC-val"><b>ALG_CANON_BASIC</b></a>]  Theorem

      |- (alg_canon [] = []) ∧ (alg_canon [[]] = [[]]) ∧
         ∀x. alg_canon [x] = [x]

   [<a name="ALG_CANON_CONSTANT-val"><b>ALG_CANON_CONSTANT</b></a>]  Theorem

      |- ∀l.
           alg_sorted l ∧ alg_prefixfree l ∧ alg_twinfree l ⇒
           (alg_canon l = l)

   [<a name="ALG_CANON_FIND_CONSTANT-val"><b>ALG_CANON_FIND_CONSTANT</b></a>]  Theorem

      |- ∀l b.
           alg_sorted (l::b) ∧ alg_prefixfree (l::b) ⇒
           (alg_canon_find l b = l::b)

   [<a name="ALG_CANON_FIND_DELETES-val"><b>ALG_CANON_FIND_DELETES</b></a>]  Theorem

      |- ∀l b x. MEM x (alg_canon_find l b) ⇒ MEM x (l::b)

   [<a name="ALG_CANON_FIND_HD-val"><b>ALG_CANON_FIND_HD</b></a>]  Theorem

      |- ∀l h t.
           (HD (alg_canon_find l (h::t)) = l) ∨
           (HD (alg_canon_find l (h::t)) = h)

   [<a name="ALG_CANON_FIND_PREFIXFREE-val"><b>ALG_CANON_FIND_PREFIXFREE</b></a>]  Theorem

      |- ∀l b.
           alg_sorted b ∧ alg_prefixfree b ⇒
           alg_prefixfree (alg_canon_find l b)

   [<a name="ALG_CANON_FIND_SORTED-val"><b>ALG_CANON_FIND_SORTED</b></a>]  Theorem

      |- ∀l b. alg_sorted b ⇒ alg_sorted (alg_canon_find l b)

   [<a name="ALG_CANON_IDEMPOT-val"><b>ALG_CANON_IDEMPOT</b></a>]  Theorem

      |- ∀l. alg_canon (alg_canon l) = alg_canon l

   [<a name="ALG_CANON_MERGE_CONSTANT-val"><b>ALG_CANON_MERGE_CONSTANT</b></a>]  Theorem

      |- ∀l b. alg_twinfree (l::b) ⇒ (alg_canon_merge l b = l::b)

   [<a name="ALG_CANON_MERGE_PREFIXFREE_PRESERVE-val"><b>ALG_CANON_MERGE_PREFIXFREE_PRESERVE</b></a>]  Theorem

      |- ∀l b h.
           (∀x. MEM x (l::b) ⇒ ¬(x ≼ h) ∧ ¬(h ≼ x)) ⇒
           ∀x. MEM x (alg_canon_merge l b) ⇒ ¬(x ≼ h) ∧ ¬(h ≼ x)

   [<a name="ALG_CANON_MERGE_SHORTENS-val"><b>ALG_CANON_MERGE_SHORTENS</b></a>]  Theorem

      |- ∀l b x. MEM x (alg_canon_merge l b) ⇒ ∃y. MEM y (l::b) ∧ x ≼ y

   [<a name="ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE-val"><b>ALG_CANON_MERGE_SORTED_PREFIXFREE_TWINFREE</b></a>]  Theorem

      |- ∀l b.
           alg_sorted (l::b) ∧ alg_prefixfree (l::b) ∧ alg_twinfree b ⇒
           alg_sorted (alg_canon_merge l b) ∧
           alg_prefixfree (alg_canon_merge l b) ∧
           alg_twinfree (alg_canon_merge l b)

   [<a name="ALG_CANON_PREFS_CONSTANT-val"><b>ALG_CANON_PREFS_CONSTANT</b></a>]  Theorem

      |- ∀l b. alg_prefixfree (l::b) ⇒ (alg_canon_prefs l b = l::b)

   [<a name="ALG_CANON_PREFS_DELETES-val"><b>ALG_CANON_PREFS_DELETES</b></a>]  Theorem

      |- ∀l b x. MEM x (alg_canon_prefs l b) ⇒ MEM x (l::b)

   [<a name="ALG_CANON_PREFS_HD-val"><b>ALG_CANON_PREFS_HD</b></a>]  Theorem

      |- ∀l b. HD (alg_canon_prefs l b) = l

   [<a name="ALG_CANON_PREFS_PREFIXFREE-val"><b>ALG_CANON_PREFS_PREFIXFREE</b></a>]  Theorem

      |- ∀l b.
           alg_sorted b ∧ alg_prefixfree b ⇒
           alg_prefixfree (alg_canon_prefs l b)

   [<a name="ALG_CANON_PREFS_SORTED-val"><b>ALG_CANON_PREFS_SORTED</b></a>]  Theorem

      |- ∀l b. alg_sorted (l::b) ⇒ alg_sorted (alg_canon_prefs l b)

   [<a name="ALG_CANON_SORTED_PREFIXFREE_TWINFREE-val"><b>ALG_CANON_SORTED_PREFIXFREE_TWINFREE</b></a>]  Theorem

      |- ∀l.
           alg_sorted (alg_canon l) ∧ alg_prefixfree (alg_canon l) ∧
           alg_twinfree (alg_canon l)

   [<a name="ALG_LONGEST_APPEND-val"><b>ALG_LONGEST_APPEND</b></a>]  Theorem

      |- ∀l1 l2.
           alg_longest l1 ≤ alg_longest (l1 ++ l2) ∧
           alg_longest l2 ≤ alg_longest (l1 ++ l2)

   [<a name="ALG_LONGEST_HD-val"><b>ALG_LONGEST_HD</b></a>]  Theorem

      |- ∀h t. LENGTH h ≤ alg_longest (h::t)

   [<a name="ALG_LONGEST_TL-val"><b>ALG_LONGEST_TL</b></a>]  Theorem

      |- ∀h t. alg_longest t ≤ alg_longest (h::t)

   [<a name="ALG_LONGEST_TLS-val"><b>ALG_LONGEST_TLS</b></a>]  Theorem

      |- ∀h t b.
           alg_longest (MAP (CONS b) (h::t)) = SUC (alg_longest (h::t))

   [<a name="ALG_ORDER_ANTISYM-val"><b>ALG_ORDER_ANTISYM</b></a>]  Theorem

      |- ∀x y. alg_order x y ∧ alg_order y x ⇒ (x = y)

   [<a name="ALG_ORDER_NIL-val"><b>ALG_ORDER_NIL</b></a>]  Theorem

      |- ∀x. alg_order [] x ∧ (alg_order x [] ⇔ (x = []))

   [<a name="ALG_ORDER_PREFIX-val"><b>ALG_ORDER_PREFIX</b></a>]  Theorem

      |- ∀x y. x ≼ y ⇒ alg_order x y

   [<a name="ALG_ORDER_PREFIX_ANTI-val"><b>ALG_ORDER_PREFIX_ANTI</b></a>]  Theorem

      |- ∀x y. alg_order x y ∧ y ≼ x ⇒ (x = y)

   [<a name="ALG_ORDER_PREFIX_MONO-val"><b>ALG_ORDER_PREFIX_MONO</b></a>]  Theorem

      |- ∀x y z. alg_order x y ∧ alg_order y z ∧ x ≼ z ⇒ x ≼ y

   [<a name="ALG_ORDER_PREFIX_TRANS-val"><b>ALG_ORDER_PREFIX_TRANS</b></a>]  Theorem

      |- ∀x y z. alg_order x y ∧ z ≼ y ⇒ alg_order x z ∨ z ≼ x

   [<a name="ALG_ORDER_REFL-val"><b>ALG_ORDER_REFL</b></a>]  Theorem

      |- ∀x. alg_order x x

   [<a name="ALG_ORDER_SNOC-val"><b>ALG_ORDER_SNOC</b></a>]  Theorem

      |- ∀x l. ¬alg_order (SNOC x l) l

   [<a name="ALG_ORDER_TOTAL-val"><b>ALG_ORDER_TOTAL</b></a>]  Theorem

      |- ∀x y. alg_order x y ∨ alg_order y x

   [<a name="ALG_ORDER_TRANS-val"><b>ALG_ORDER_TRANS</b></a>]  Theorem

      |- ∀x y z. alg_order x y ∧ alg_order y z ⇒ alg_order x z

   [<a name="ALG_PREFIXFREE_APPEND-val"><b>ALG_PREFIXFREE_APPEND</b></a>]  Theorem

      |- ∀h h' t t'.
           alg_prefixfree (h::t ++ h'::t') ⇔
           alg_prefixfree (h::t) ∧ alg_prefixfree (h'::t') ∧
           ¬(LAST (h::t) ≼ h')

   [<a name="ALG_PREFIXFREE_ELT-val"><b>ALG_PREFIXFREE_ELT</b></a>]  Theorem

      |- ∀h t.
           alg_sorted (h::t) ∧ alg_prefixfree (h::t) ⇒
           ∀x. MEM x t ⇒ ¬(h ≼ x) ∧ ¬(x ≼ h)

   [<a name="ALG_PREFIXFREE_FILTER-val"><b>ALG_PREFIXFREE_FILTER</b></a>]  Theorem

      |- ∀P b.
           alg_sorted b ∧ alg_prefixfree b ⇒ alg_prefixfree (FILTER P b)

   [<a name="ALG_PREFIXFREE_MONO-val"><b>ALG_PREFIXFREE_MONO</b></a>]  Theorem

      |- ∀x y z.
           alg_sorted (x::y::z) ∧ alg_prefixfree (x::y::z) ⇒
           alg_prefixfree (x::z)

   [<a name="ALG_PREFIXFREE_STEP-val"><b>ALG_PREFIXFREE_STEP</b></a>]  Theorem

      |- ∀l1 l2.
           alg_prefixfree (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇔
           alg_prefixfree l1 ∧ alg_prefixfree l2

   [<a name="ALG_PREFIXFREE_TL-val"><b>ALG_PREFIXFREE_TL</b></a>]  Theorem

      |- ∀h t. alg_prefixfree (h::t) ⇒ alg_prefixfree t

   [<a name="ALG_PREFIXFREE_TLS-val"><b>ALG_PREFIXFREE_TLS</b></a>]  Theorem

      |- ∀l b. alg_prefixfree (MAP (CONS b) l) ⇔ alg_prefixfree l

   [<a name="ALG_SORTED_APPEND-val"><b>ALG_SORTED_APPEND</b></a>]  Theorem

      |- ∀h h' t t'.
           alg_sorted (h::t ++ h'::t') ⇔
           alg_sorted (h::t) ∧ alg_sorted (h'::t') ∧
           alg_order (LAST (h::t)) h'

   [<a name="ALG_SORTED_DEF_ALT-val"><b>ALG_SORTED_DEF_ALT</b></a>]  Theorem

      |- ∀h t.
           alg_sorted (h::t) ⇔ (∀x. MEM x t ⇒ alg_order h x) ∧ alg_sorted t

   [<a name="ALG_SORTED_FILTER-val"><b>ALG_SORTED_FILTER</b></a>]  Theorem

      |- ∀P b. alg_sorted b ⇒ alg_sorted (FILTER P b)

   [<a name="ALG_SORTED_MIN-val"><b>ALG_SORTED_MIN</b></a>]  Theorem

      |- ∀h t. alg_sorted (h::t) ⇒ ∀x. MEM x t ⇒ alg_order h x

   [<a name="ALG_SORTED_MONO-val"><b>ALG_SORTED_MONO</b></a>]  Theorem

      |- ∀x y z. alg_sorted (x::y::z) ⇒ alg_sorted (x::z)

   [<a name="ALG_SORTED_PREFIXFREE_EQUALITY-val"><b>ALG_SORTED_PREFIXFREE_EQUALITY</b></a>]  Theorem

      |- ∀l l'.
           (∀x. MEM x l ⇔ MEM x l') ∧ alg_sorted l ∧ alg_sorted l' ∧
           alg_prefixfree l ∧ alg_prefixfree l' ⇒
           (l = l')

   [<a name="ALG_SORTED_PREFIXFREE_MEM_NIL-val"><b>ALG_SORTED_PREFIXFREE_MEM_NIL</b></a>]  Theorem

      |- ∀l. alg_sorted l ∧ alg_prefixfree l ∧ MEM [] l ⇔ (l = [[]])

   [<a name="ALG_SORTED_STEP-val"><b>ALG_SORTED_STEP</b></a>]  Theorem

      |- ∀l1 l2.
           alg_sorted (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇔
           alg_sorted l1 ∧ alg_sorted l2

   [<a name="ALG_SORTED_TL-val"><b>ALG_SORTED_TL</b></a>]  Theorem

      |- ∀h t. alg_sorted (h::t) ⇒ alg_sorted t

   [<a name="ALG_SORTED_TLS-val"><b>ALG_SORTED_TLS</b></a>]  Theorem

      |- ∀l b. alg_sorted (MAP (CONS b) l) ⇔ alg_sorted l

   [<a name="ALG_TWINFREE_STEP-val"><b>ALG_TWINFREE_STEP</b></a>]  Theorem

      |- ∀l1 l2.
           ¬MEM [] l1 ∨ ¬MEM [] l2 ⇒
           (alg_twinfree (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇔
            alg_twinfree l1 ∧ alg_twinfree l2)

   [<a name="ALG_TWINFREE_STEP1-val"><b>ALG_TWINFREE_STEP1</b></a>]  Theorem

      |- ∀l1 l2.
           alg_twinfree (MAP (CONS T) l1 ++ MAP (CONS F) l2) ⇒
           alg_twinfree l1 ∧ alg_twinfree l2

   [<a name="ALG_TWINFREE_STEP2-val"><b>ALG_TWINFREE_STEP2</b></a>]  Theorem

      |- ∀l1 l2.
           (¬MEM [] l1 ∨ ¬MEM [] l2) ∧ alg_twinfree l1 ∧ alg_twinfree l2 ⇒
           alg_twinfree (MAP (CONS T) l1 ++ MAP (CONS F) l2)

   [<a name="ALG_TWINFREE_TL-val"><b>ALG_TWINFREE_TL</b></a>]  Theorem

      |- ∀h t. alg_twinfree (h::t) ⇒ alg_twinfree t

   [<a name="ALG_TWINFREE_TLS-val"><b>ALG_TWINFREE_TLS</b></a>]  Theorem

      |- ∀l b. alg_twinfree (MAP (CONS b) l) ⇔ alg_twinfree l

   [<a name="ALG_TWINS_PREFIX-val"><b>ALG_TWINS_PREFIX</b></a>]  Theorem

      |- ∀x l. l ≼ x ⇒ (x = l) ∨ SNOC T l ≼ x ∨ SNOC F l ≼ x

   [<a name="ALG_TWIN_CONS-val"><b>ALG_TWIN_CONS</b></a>]  Theorem

      |- ∀x y z h t.
           (alg_twin (x::y::z) (h::t) ⇔ (x ⇔ h) ∧ alg_twin (y::z) t) ∧
           (alg_twin (h::t) (x::y::z) ⇔ (x ⇔ h) ∧ alg_twin t (y::z))

   [<a name="ALG_TWIN_NIL-val"><b>ALG_TWIN_NIL</b></a>]  Theorem

      |- ∀l. ¬alg_twin l [] ∧ ¬alg_twin [] l

   [<a name="ALG_TWIN_REDUCE-val"><b>ALG_TWIN_REDUCE</b></a>]  Theorem

      |- ∀h t t'. alg_twin (h::t) (h::t') ⇔ alg_twin t t'

   [<a name="ALG_TWIN_SING-val"><b>ALG_TWIN_SING</b></a>]  Theorem

      |- ∀x l.
           (alg_twin [x] l ⇔ (x ⇔ T) ∧ (l = [F])) ∧
           (alg_twin l [x] ⇔ (l = [T]) ∧ (x ⇔ F))

   [<a name="MEM_NIL_STEP-val"><b>MEM_NIL_STEP</b></a>]  Theorem

      |- ∀l1 l2. ¬MEM [] (MAP (CONS T) l1 ++ MAP (CONS F) l2)

   [<a name="alg_order_def-val"><b>alg_order_def</b></a>]  Theorem

      |- (alg_order [] [] ⇔ T) ∧ (∀v8 v7. alg_order [] (v7::v8) ⇔ T) ∧
         (∀v4 v3. alg_order (v3::v4) [] ⇔ F) ∧
         ∀t' t h' h.
           alg_order (h::t) (h'::t') ⇔
           (h ⇔ T) ∧ (h' ⇔ F) ∨ (h ⇔ h') ∧ alg_order t t'

   [<a name="alg_order_ind-val"><b>alg_order_ind</b></a>]  Theorem

      |- ∀P.
           P [] [] ∧ (∀v7 v8. P [] (v7::v8)) ∧ (∀v3 v4. P (v3::v4) []) ∧
           (∀h t h' t'. P t t' ⇒ P (h::t) (h'::t')) ⇒
           ∀v v1. P v v1

   [<a name="alg_prefixfree_def-val"><b>alg_prefixfree_def</b></a>]  Theorem

      |- (∀z y x.
            alg_prefixfree (x::y::z) ⇔ ¬(x ≼ y) ∧ alg_prefixfree (y::z)) ∧
         (alg_prefixfree [] ⇔ T) ∧ ∀v. alg_prefixfree [v] ⇔ T

   [<a name="alg_prefixfree_ind-val"><b>alg_prefixfree_ind</b></a>]  Theorem

      |- ∀P.
           (∀x y z. P (y::z) ⇒ P (x::y::z)) ∧ P [] ∧ (∀v. P [v]) ⇒ ∀v. P v

   [<a name="alg_sorted_def-val"><b>alg_sorted_def</b></a>]  Theorem

      |- (∀z y x.
            alg_sorted (x::y::z) ⇔ alg_order x y ∧ alg_sorted (y::z)) ∧
         (alg_sorted [] ⇔ T) ∧ ∀v. alg_sorted [v] ⇔ T

   [<a name="alg_sorted_ind-val"><b>alg_sorted_ind</b></a>]  Theorem

      |- ∀P.
           (∀x y z. P (y::z) ⇒ P (x::y::z)) ∧ P [] ∧ (∀v. P [v]) ⇒ ∀v. P v

   [<a name="alg_twinfree_def-val"><b>alg_twinfree_def</b></a>]  Theorem

      |- (∀z y x.
            alg_twinfree (x::y::z) ⇔ ¬alg_twin x y ∧ alg_twinfree (y::z)) ∧
         (alg_twinfree [] ⇔ T) ∧ ∀v. alg_twinfree [v] ⇔ T

   [<a name="alg_twinfree_ind-val"><b>alg_twinfree_ind</b></a>]  Theorem

      |- ∀P.
           (∀x y z. P (y::z) ⇒ P (x::y::z)) ∧ P [] ∧ (∀v. P [v]) ⇒ ∀v. P v


*)
end

</pre><hr><table width="100%"><tr align = center>
<th><a href="../../../src/prob/prob_canonScript.sml" type="text/plain" type="text/plain">Source File</a>
<th><a href="idIndex.html">Identifier index</A>
<th><a href="TheoryIndex.html">Theory binding index</A>
</table><hr>
<p><em><a href="http://hol.sourceforge.net">HOL&nbsp;4,&nbsp;Kananaskis-8</a></em></p></body></html>
