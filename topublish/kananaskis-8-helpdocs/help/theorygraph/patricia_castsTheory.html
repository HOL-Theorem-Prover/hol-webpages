<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: patricia_casts</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "patricia_casts"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "patriciaTheory.html"><span class="strong">patricia</span></a>

<h1>Signature</h1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr>
    <th>
    Type
    <th>
    Arity<tr><td> <span class="strong">word_ptree</span> <td> 2
    <tr>
    <th>
    Constant
    <th>
    Type<tr><td>
            <span class="strong">ADD_LISTs</span>
            <td>
            :α ptree -> (string, α) alist -> α ptree
    <tr><td>
        <span class="strong">ADD_LISTw</span>
        <td>
        :(α, β) word_ptree -> (bool[α], β) alist -> (α, β) word_ptree
    <tr><td>
        <span class="strong">ADDs</span>
        <td>
        :α ptree -> string # α -> α ptree
    <tr><td>
        <span class="strong">ADDw</span>
        <td>
        :(α, β) word_ptree -> bool[α] # β -> (α, β) word_ptree
    <tr><td> <span class="strong">DEPTHw</span> <td> :(α, β) word_ptree -> num
    <tr><td>
        <span class="strong">EVERY_LEAFw</span>
        <td>
        :(bool[α] -> β -> bool) -> (α, β) word_ptree -> bool
    <tr><td>
        <span class="strong">EXISTS_LEAFw</span>
        <td>
        :(bool[α] -> β -> bool) -> (α, β) word_ptree -> bool
    <tr><td> <span class="strong">FINDs</span> <td> :α ptree -> string -> α
    <tr><td>
        <span class="strong">FINDw</span>
        <td>
        :(β, α) word_ptree -> bool[β] -> α
    <tr><td>
        <span class="strong">INSERT_PTREEs</span>
        <td>
        :string -> ptreeset -> ptreeset
    <tr><td>
        <span class="strong">INSERT_PTREEw</span>
        <td>
        :bool[α] -> α word_ptreeset -> α word_ptreeset
    <tr><td>
        <span class="strong">IN_PTREEs</span>
        <td>
        :string -> ptreeset -> bool
    <tr><td>
        <span class="strong">IN_PTREEw</span>
        <td>
        :bool[α] -> α word_ptreeset -> bool
    <tr><td> <span class="strong">KEYSs</span> <td> :α ptree -> string list
    <tr><td>
        <span class="strong">KEYSw</span>
        <td>
        :(α, β) word_ptree -> bool[α] list
    <tr><td>
        <span class="strong">PEEKs</span>
        <td>
        :α ptree -> string -> α option
    <tr><td>
        <span class="strong">PEEKw</span>
        <td>
        :(α, β) word_ptree -> bool[α] -> β option
    <tr><td>
        <span class="strong">PTREE_OF_STRINGSET</span>
        <td>
        :ptreeset -> (string -> bool) -> ptreeset
    <tr><td>
        <span class="strong">PTREE_OF_WORDSET</span>
        <td>
        :α word_ptreeset -> (bool[α] -> bool) -> α word_ptreeset
    <tr><td>
        <span class="strong">REMOVEs</span>
        <td>
        :α ptree -> string -> α ptree
    <tr><td>
        <span class="strong">REMOVEw</span>
        <td>
        :(α, β) word_ptree -> bool[α] -> (α, β) word_ptree
    <tr><td> <span class="strong">SIZEw</span> <td> :(α, β) word_ptree -> num
    <tr><td> <span class="strong">SKIP1</span> <td> :string -> string
    <tr><td>
        <span class="strong">SOME_PTREE</span>
        <td>
        :β ptree -> (α, β) word_ptree
    <tr><td>
        <span class="strong">STRINGSET_OF_PTREE</span>
        <td>
        :ptreeset -> string -> bool
    <tr><td>
        <span class="strong">THE_PTREE</span>
        <td>
        :(β, α) word_ptree -> α ptree
    <tr><td>
        <span class="strong">TRANSFORMw</span>
        <td>
        :(α -> β) -> (γ, α) word_ptree -> (γ, β) word_ptree
    <tr><td>
        <span class="strong">TRAVERSEs</span>
        <td>
        :α ptree -> string list
    <tr><td>
        <span class="strong">TRAVERSEw</span>
        <td>
        :(α, β) word_ptree -> bool[α] list
    <tr><td>
        <span class="strong">UNION_PTREEw</span>
        <td>
        :β word_ptreeset -> γ word_ptreeset -> α word_ptreeset
    <tr><td>
        <span class="strong">WORDSET_OF_PTREE</span>
        <td>
        :α word_ptreeset -> bool[α] -> bool
    <tr><td> <span class="strong">WordEmpty</span> <td> :(α, β) word_ptree
    <tr><td>
        <span class="strong">Word_ptree</span>
        <td>
        :(α -> unit) -> β ptree -> (α, β) word_ptree
    <tr><td> <span class="strong">num_to_string</span> <td> :num -> string
    <tr><td> <span class="strong">string_to_num</span> <td> :string -> num
    <tr><td>
        <span class="strong">word_ptree_case</span>
        <td>
        :((α -> unit) -> β ptree -> γ) -> (α, β) word_ptree -> γ
    <tr><td>
        <span class="strong">word_ptree_size</span>
        <td>
        :(α -> num) -> (β -> num) -> (α, β) word_ptree -> num

</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">SKIP1_def</span>
<DD>
<pre>
|- ∀c s. SKIP1 (STRING c s) = s
</pre>

<DT><span class="strong">string_to_num_def</span>
<DD>
<pre>
|- ∀s. string_to_num s = s2n 256 ORD (STRING #"\^A" s)
</pre>

<DT><span class="strong">num_to_string_def</span>
<DD>
<pre>
|- ∀n. num_to_string n = SKIP1 (n2s 256 CHR n)
</pre>

<DT><span class="strong">PEEKs_def</span>
<DD>
<pre>
|- ∀t w. t ' w = t ' (string_to_num w)
</pre>

<DT><span class="strong">FINDs_def</span>
<DD>
<pre>
|- ∀t w. FINDs t w = THE (t ' w)
</pre>

<DT><span class="strong">ADDs_def</span>
<DD>
<pre>
|- ∀t w d. t |+ (w,d) = t |+ (string_to_num w,d)
</pre>

<DT><span class="strong">ADD_LISTs_def</span>
<DD>
<pre>
|- $|++ = FOLDL $|+
</pre>

<DT><span class="strong">REMOVEs_def</span>
<DD>
<pre>
|- ∀t w. t \\ w = t \\ string_to_num w
</pre>

<DT><span class="strong">TRAVERSEs_def</span>
<DD>
<pre>
|- ∀t. TRAVERSEs t = MAP num_to_string (TRAVERSE t)
</pre>

<DT><span class="strong">KEYSs_def</span>
<DD>
<pre>
|- ∀t. KEYSs t = QSORT $< (TRAVERSEs t)
</pre>

<DT><span class="strong">IN_PTREEs_def</span>
<DD>
<pre>
|- ∀w t. w IN_PTREEs t ⇔ string_to_num w IN_PTREE t
</pre>

<DT><span class="strong">INSERT_PTREEs_def</span>
<DD>
<pre>
|- ∀w t. w INSERT_PTREEs t = string_to_num w INSERT_PTREE t
</pre>

<DT><span class="strong">STRINGSET_OF_PTREE_def</span>
<DD>
<pre>
|- ∀t. STRINGSET_OF_PTREE t = LIST_TO_SET (TRAVERSEs t)
</pre>

<DT><span class="strong">PTREE_OF_STRINGSET_def</span>
<DD>
<pre>
|- ∀t s. t |++ s = t |++ IMAGE string_to_num s
</pre>

<DT><span class="strong">word_ptree_TY_DEF</span>
<DD>
<pre>
|- ∃rep.
     TYPE_DEFINITION
       (λa0'.
          ∀'word_ptree' .
            (∀a0'.
               (∃a0 a1.
                  a0' =
                  (λa0 a1. ind_type$CONSTR 0 (a0,a1) (λn. ind_type$BOTTOM)) a0
                    a1) ⇒
               'word_ptree' a0') ⇒
            'word_ptree' a0') rep
</pre>

<DT><span class="strong">word_ptree_case_def</span>
<DD>
<pre>
|- ∀f a0 a1. word_ptree_case f (Word_ptree a0 a1) = f a0 a1
</pre>

<DT><span class="strong">word_ptree_size_def</span>
<DD>
<pre>
|- ∀f f1 a0 a1. word_ptree_size f f1 (Word_ptree a0 a1) = 1 + ptree_size f1 a1
</pre>

<DT><span class="strong">THE_PTREE_def</span>
<DD>
<pre>
|- ∀a t. THE_PTREE (Word_ptree a t) = t
</pre>

<DT><span class="strong">SOME_PTREE_def</span>
<DD>
<pre>
|- ∀t. SOME_PTREE t = Word_ptree (K ()) t
</pre>

<DT><span class="strong">WordEmpty_def</span>
<DD>
<pre>
|- +{}+ = SOME_PTREE -{}-
</pre>

<DT><span class="strong">PEEKw_def</span>
<DD>
<pre>
|- ∀t w. t ' w = THE_PTREE t ' (w2n w)
</pre>

<DT><span class="strong">FINDw_def</span>
<DD>
<pre>
|- ∀t w. FINDw t w = THE (t ' w)
</pre>

<DT><span class="strong">ADDw_def</span>
<DD>
<pre>
|- ∀t w d. t |+ (w,d) = SOME_PTREE (THE_PTREE t |+ (w2n w,d))
</pre>

<DT><span class="strong">ADD_LISTw_def</span>
<DD>
<pre>
|- $|++ = FOLDL $|+
</pre>

<DT><span class="strong">REMOVEw_def</span>
<DD>
<pre>
|- ∀t w. t \\ w = SOME_PTREE (THE_PTREE t \\ w2n w)
</pre>

<DT><span class="strong">TRAVERSEw_def</span>
<DD>
<pre>
|- ∀t. TRAVERSEw t = MAP n2w (TRAVERSE (THE_PTREE t))
</pre>

<DT><span class="strong">KEYSw_def</span>
<DD>
<pre>
|- ∀t. KEYSw t = QSORT $<+ (TRAVERSEw t)
</pre>

<DT><span class="strong">TRANSFORMw_def</span>
<DD>
<pre>
|- ∀f t. TRANSFORMw f t = SOME_PTREE (TRANSFORM f (THE_PTREE t))
</pre>

<DT><span class="strong">EVERY_LEAFw_def</span>
<DD>
<pre>
|- ∀P t. EVERY_LEAFw P t ⇔ EVERY_LEAF (λk d. P (n2w k) d) (THE_PTREE t)
</pre>

<DT><span class="strong">EXISTS_LEAFw_def</span>
<DD>
<pre>
|- ∀P t. EXISTS_LEAFw P t ⇔ EXISTS_LEAF (λk d. P (n2w k) d) (THE_PTREE t)
</pre>

<DT><span class="strong">SIZEw_def</span>
<DD>
<pre>
|- ∀t. SIZEw t = SIZE (THE_PTREE t)
</pre>

<DT><span class="strong">DEPTHw_def</span>
<DD>
<pre>
|- ∀t. DEPTHw t = DEPTH (THE_PTREE t)
</pre>

<DT><span class="strong">IN_PTREEw_def</span>
<DD>
<pre>
|- ∀w t. w IN_PTREEw t ⇔ w2n w IN_PTREE THE_PTREE t
</pre>

<DT><span class="strong">INSERT_PTREEw_def</span>
<DD>
<pre>
|- ∀w t. w INSERT_PTREEw t = SOME_PTREE (w2n w INSERT_PTREE THE_PTREE t)
</pre>

<DT><span class="strong">WORDSET_OF_PTREE_def</span>
<DD>
<pre>
|- ∀t. WORDSET_OF_PTREE t = LIST_TO_SET (TRAVERSEw t)
</pre>

<DT><span class="strong">UNION_PTREEw_def</span>
<DD>
<pre>
|- ∀t1 t2.
     t1 UNION_PTREEw t2 = SOME_PTREE (THE_PTREE t1 UNION_PTREE THE_PTREE t2)
</pre>

<DT><span class="strong">PTREE_OF_WORDSET_def</span>
<DD>
<pre>
|- ∀t s. t |++ s = SOME_PTREE (THE_PTREE t |++ IMAGE w2n s)
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">datatype_word_ptree</span>
<DD>
<pre>
|- DATATYPE (word_ptree Word_ptree)
</pre>

<DT><span class="strong">word_ptree_11</span>
<DD>
<pre>
|- ∀a0 a1 a0' a1'.
     (Word_ptree a0 a1 = Word_ptree a0' a1') ⇔ (a0 = a0') ∧ (a1 = a1')
</pre>

<DT><span class="strong">word_ptree_case_cong</span>
<DD>
<pre>
|- ∀M M' f.
     (M = M') ∧ (∀a0 a1. (M' = Word_ptree a0 a1) ⇒ (f a0 a1 = f' a0 a1)) ⇒
     (word_ptree_case f M = word_ptree_case f' M')
</pre>

<DT><span class="strong">word_ptree_nchotomy</span>
<DD>
<pre>
|- ∀ww. ∃f p. ww = Word_ptree f p
</pre>

<DT><span class="strong">word_ptree_Axiom</span>
<DD>
<pre>
|- ∀f. ∃fn. ∀a0 a1. fn (Word_ptree a0 a1) = f a0 a1
</pre>

<DT><span class="strong">word_ptree_induction</span>
<DD>
<pre>
|- ∀P. (∀f p. P (Word_ptree f p)) ⇒ ∀w. P w
</pre>

<DT><span class="strong">ADD_INSERT_STRING</span>
<DD>
<pre>
|- ∀w v t. t |+ (w,v) = t |+ (w,())
</pre>

<DT><span class="strong">l2n_APPEND</span>
<DD>
<pre>
|- ∀b l1 l2. l2n b (l1 ++ l2) = l2n b l1 + b ** LENGTH l1 * l2n b l2
</pre>

<DT><span class="strong">l2n_LENGTH</span>
<DD>
<pre>
|- ∀b l. 1 < b ⇒ l2n b l < b ** LENGTH l
</pre>

<DT><span class="strong">l2n_11</span>
<DD>
<pre>
|- ∀b l1 l2.
     1 < b ∧ EVERY ($> b) l1 ∧ EVERY ($> b) l2 ⇒
     ((l2n b (l1 ++ [1]) = l2n b (l2 ++ [1])) ⇔ (l1 = l2))
</pre>

<DT><span class="strong">EVERY_MAP_ORD</span>
<DD>
<pre>
|- ∀l. EVERY ($> 256) (MAP ORD l)
</pre>

<DT><span class="strong">MAP_11</span>
<DD>
<pre>
|- ∀f l1 l2.
     (∀x y. (f x = f y) ⇔ (x = y)) ⇒ ((MAP f l1 = MAP f l2) ⇔ (l1 = l2))
</pre>

<DT><span class="strong">REVERSE_11</span>
<DD>
<pre>
|- ∀l1 l2. (REVERSE l1 = REVERSE l2) ⇔ (l1 = l2)
</pre>

<DT><span class="strong">string_to_num_11</span>
<DD>
<pre>
|- ∀s t. (string_to_num s = string_to_num t) ⇔ (s = t)
</pre>

<DT><span class="strong">IMAGE_string_to_num</span>
<DD>
<pre>
|- ∀n.
     (n = 1) ∨ 256 ≤ n ∧ (n DIV 256 ** LOG 256 n = 1) ⇔
     n ∈ IMAGE string_to_num 𝕌(:string)
</pre>

<DT><span class="strong">string_to_num_num_to_string</span>
<DD>
<pre>
|- ∀n.
     n ∈ IMAGE string_to_num 𝕌(:string) ⇒
     (string_to_num (num_to_string n) = n)
</pre>

<DT><span class="strong">num_to_string_string_to_num</span>
<DD>
<pre>
|- ∀s. num_to_string (string_to_num s) = s
</pre>

<DT><span class="strong">ADD_INSERT_WORD</span>
<DD>
<pre>
|- ∀w v t. t |+ (w,v) = t |+ (w,())
</pre>

<DT><span class="strong">THE_PTREE_SOME_PTREE</span>
<DD>
<pre>
|- ∀t. THE_PTREE (SOME_PTREE t) = t
</pre>

</DL>



<hr>
</body>
</html>
