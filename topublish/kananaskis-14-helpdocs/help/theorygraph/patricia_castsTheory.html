<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head><link rel="icon" href="../../../images/logo.ico" type="image/vnd.microsoft.icon"><title>Theory: patricia_casts</title><meta http-equiv="content-type" content="text/html;charset=UTF-8">
<style type="text/css">
<!--
  body {background: #faf0e6; color: #191970; }
  span.freevar  { color: blue}
  span.boundvar { color: green}
  span.typevar  { color: purple}
  span.type     { color: teal}
  span.strong   { color: black; font-weight: bold}
  span.vstrong  { color: black; 
                  font-weight: bold;
                  font-size: larger}
  h1 {color: black}
  th {color: crimson}
-->
</style>
</head>
<body>
<h1>Theory "patricia_casts"</h1>
<span class="vstrong">Parents</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href = "patriciaTheory.html"><span class="strong">patricia</span></a>

<h1>Signature</h1>
<center>
    <table BORDER=4 CELLPADDING=10 CELLSPACING=1>
    
    <tr> <th> Type <th> Arity<tr><td>
    <span class="strong">word_ptree</span>
    <td>
    2
    <tr> <th> Constant <th> Type<tr><td>
    <span class="strong">ADD_LISTs</span>
    <td>
    :Œ± ptree -> (string # Œ±) list -> Œ± ptree
    <tr><td>
    <span class="strong">ADD_LISTw</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> (Œ± word # Œ≤) list -> (Œ±, Œ≤) word_ptree
    <tr><td>
    <span class="strong">ADDs</span>
    <td>
    :Œ± ptree -> string # Œ± -> Œ± ptree
    <tr><td>
    <span class="strong">ADDw</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> Œ± word # Œ≤ -> (Œ±, Œ≤) word_ptree
    <tr><td> <span class="strong">DEPTHw</span> <td> :(Œ±, Œ≤) word_ptree -> num
    <tr><td>
    <span class="strong">EVERY_LEAFw</span>
    <td>
    :(Œ± word -> Œ≤ -> bool) -> (Œ±, Œ≤) word_ptree -> bool
    <tr><td>
    <span class="strong">EXISTS_LEAFw</span>
    <td>
    :(Œ± word -> Œ≤ -> bool) -> (Œ±, Œ≤) word_ptree -> bool
    <tr><td> <span class="strong">FINDs</span> <td> :Œ± ptree -> string -> Œ±
    <tr><td>
    <span class="strong">FINDw</span>
    <td>
    :(Œ≤, Œ±) word_ptree -> Œ≤ word -> Œ±
    <tr><td>
    <span class="strong">INSERT_PTREEs</span>
    <td>
    :string -> unit ptree -> unit ptree
    <tr><td>
    <span class="strong">INSERT_PTREEw</span>
    <td>
    :Œ± word -> (Œ±, unit) word_ptree -> (Œ±, unit) word_ptree
    <tr><td>
    <span class="strong">IN_PTREEs</span>
    <td>
    :string -> unit ptree -> bool
    <tr><td>
    <span class="strong">IN_PTREEw</span>
    <td>
    :Œ± word -> (Œ±, unit) word_ptree -> bool
    <tr><td> <span class="strong">KEYSs</span> <td> :Œ± ptree -> string list
    <tr><td>
    <span class="strong">KEYSw</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> Œ± word list
    <tr><td>
    <span class="strong">PEEKs</span>
    <td>
    :Œ± ptree -> string -> Œ± option
    <tr><td>
    <span class="strong">PEEKw</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> Œ± word -> Œ≤ option
    <tr><td>
    <span class="strong">PTREE_OF_STRINGSET</span>
    <td>
    :unit ptree -> (string -> bool) -> unit ptree
    <tr><td>
    <span class="strong">PTREE_OF_WORDSET</span>
    <td>
    :(Œ±, unit) word_ptree -> (Œ± word -> bool) -> (Œ±, unit) word_ptree
    <tr><td>
    <span class="strong">REMOVEs</span>
    <td>
    :Œ± ptree -> string -> Œ± ptree
    <tr><td>
    <span class="strong">REMOVEw</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> Œ± word -> (Œ±, Œ≤) word_ptree
    <tr><td> <span class="strong">SIZEw</span> <td> :(Œ±, Œ≤) word_ptree -> num
    <tr><td> <span class="strong">SKIP1</span> <td> :string -> string
    <tr><td>
    <span class="strong">SOME_PTREE</span>
    <td>
    :Œ≤ ptree -> (Œ±, Œ≤) word_ptree
    <tr><td>
    <span class="strong">STRINGSET_OF_PTREE</span>
    <td>
    :unit ptree -> string -> bool
    <tr><td>
    <span class="strong">THE_PTREE</span>
    <td>
    :(Œ≤, Œ±) word_ptree -> Œ± ptree
    <tr><td>
    <span class="strong">TRANSFORMw</span>
    <td>
    :(Œ± -> Œ≤) -> (Œ≥, Œ±) word_ptree -> (Œ≥, Œ≤) word_ptree
    <tr><td>
    <span class="strong">TRAVERSEs</span>
    <td>
    :Œ± ptree -> string list
    <tr><td>
    <span class="strong">TRAVERSEw</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> Œ± word list
    <tr><td>
    <span class="strong">UNION_PTREEw</span>
    <td>
    :(Œ≤, unit) word_ptree -> (Œ≥, unit) word_ptree -> (Œ±, unit) word_ptree
    <tr><td>
    <span class="strong">WORDSET_OF_PTREE</span>
    <td>
    :(Œ±, unit) word_ptree -> Œ± word -> bool
    <tr><td> <span class="strong">WordEmpty</span> <td> :(Œ±, Œ≤) word_ptree
    <tr><td>
    <span class="strong">Word_ptree</span>
    <td>
    :(Œ± -> unit) -> Œ≤ ptree -> (Œ±, Œ≤) word_ptree
    <tr><td> <span class="strong">num_to_string</span> <td> :num -> string
    <tr><td> <span class="strong">string_to_num</span> <td> :string -> num
    <tr><td>
    <span class="strong">word_ptree_CASE</span>
    <td>
    :(Œ±, Œ≤) word_ptree -> ((Œ± -> unit) -> Œ≤ ptree -> Œ≥) -> Œ≥
    <tr><td>
    <span class="strong">word_ptree_size</span>
    <td>
    :(Œ± -> num) -> (Œ≤ -> num) -> (Œ±, Œ≤) word_ptree -> num
    
</table>
</center>

<h1>Definitions</h1>
<DL>
<DT><span class="strong">ADD_LISTs_def</span>
<DD>
<pre>
‚ä¢ $|++ = FOLDL $|+
</pre>

<DT><span class="strong">ADD_LISTw_def</span>
<DD>
<pre>
‚ä¢ $|++ = FOLDL $|+
</pre>

<DT><span class="strong">ADDs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w d. t |+ (w,d) = t |+ (string_to_num w,d)
</pre>

<DT><span class="strong">ADDw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w d. t |+ (w,d) = SOME_PTREE (THE_PTREE t |+ (w2n w,d))
</pre>

<DT><span class="strong">DEPTHw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. DEPTHw t = DEPTH (THE_PTREE t)
</pre>

<DT><span class="strong">EVERY_LEAFw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄP t. EVERY_LEAFw P t ‚áî EVERY_LEAF (Œªk d. P (n2w k) d) (THE_PTREE t)
</pre>

<DT><span class="strong">EXISTS_LEAFw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄP t. EXISTS_LEAFw P t ‚áî EXISTS_LEAF (Œªk d. P (n2w k) d) (THE_PTREE t)
</pre>

<DT><span class="strong">FINDs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w. FINDs t w = THE (t ' w)
</pre>

<DT><span class="strong">FINDw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w. FINDw t w = THE (t ' w)
</pre>

<DT><span class="strong">INSERT_PTREEs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄw t. w INSERT_PTREEs t = string_to_num w INSERT_PTREE t
</pre>

<DT><span class="strong">INSERT_PTREEw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄw t. w INSERT_PTREEw t = SOME_PTREE (w2n w INSERT_PTREE THE_PTREE t)
</pre>

<DT><span class="strong">IN_PTREEs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄw t. w IN_PTREEs t ‚áî string_to_num w IN_PTREE t
</pre>

<DT><span class="strong">IN_PTREEw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄw t. w IN_PTREEw t ‚áî w2n w IN_PTREE THE_PTREE t
</pre>

<DT><span class="strong">KEYSs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. KEYSs t = QSORT $< (TRAVERSEs t)
</pre>

<DT><span class="strong">KEYSw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. KEYSw t = QSORT $<+ (TRAVERSEw t)
</pre>

<DT><span class="strong">PEEKs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w. t ' w = t ' (string_to_num w)
</pre>

<DT><span class="strong">PEEKw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w. t ' w = THE_PTREE t ' (w2n w)
</pre>

<DT><span class="strong">PTREE_OF_STRINGSET_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt s. t |++ s = t |++ IMAGE string_to_num s
</pre>

<DT><span class="strong">PTREE_OF_WORDSET_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt s. t |++ s = SOME_PTREE (THE_PTREE t |++ IMAGE w2n s)
</pre>

<DT><span class="strong">REMOVEs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w. t \\ w = t \\ string_to_num w
</pre>

<DT><span class="strong">REMOVEw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt w. t \\ w = SOME_PTREE (THE_PTREE t \\ w2n w)
</pre>

<DT><span class="strong">SIZEw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. SIZEw t = SIZE (THE_PTREE t)
</pre>

<DT><span class="strong">SKIP1_def</span>
<DD>
<pre>
‚ä¢ ‚àÄc s. SKIP1 (STRING c s) = s
</pre>

<DT><span class="strong">SOME_PTREE_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. SOME_PTREE t = Word_ptree (K ()) t
</pre>

<DT><span class="strong">STRINGSET_OF_PTREE_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. STRINGSET_OF_PTREE t = LIST_TO_SET (TRAVERSEs t)
</pre>

<DT><span class="strong">THE_PTREE_def</span>
<DD>
<pre>
‚ä¢ ‚àÄa t. THE_PTREE (Word_ptree a t) = t
</pre>

<DT><span class="strong">TRANSFORMw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄf t. TRANSFORMw f t = SOME_PTREE (TRANSFORM f (THE_PTREE t))
</pre>

<DT><span class="strong">TRAVERSEs_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. TRAVERSEs t = MAP num_to_string (TRAVERSE t)
</pre>

<DT><span class="strong">TRAVERSEw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. TRAVERSEw t = MAP n2w (TRAVERSE (THE_PTREE t))
</pre>

<DT><span class="strong">UNION_PTREEw_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt1 t2.
    t1 UNION_PTREEw t2 = SOME_PTREE (THE_PTREE t1 UNION_PTREE THE_PTREE t2)
</pre>

<DT><span class="strong">WORDSET_OF_PTREE_def</span>
<DD>
<pre>
‚ä¢ ‚àÄt. WORDSET_OF_PTREE t = LIST_TO_SET (TRAVERSEw t)
</pre>

<DT><span class="strong">WordEmpty_def</span>
<DD>
<pre>
‚ä¢ +{}+ = SOME_PTREE -{}-
</pre>

<DT><span class="strong">num_to_string_def</span>
<DD>
<pre>
‚ä¢ ‚àÄn. num_to_string n = SKIP1 (n2s 256 CHR n)
</pre>

<DT><span class="strong">string_to_num_def</span>
<DD>
<pre>
‚ä¢ ‚àÄs. string_to_num s = s2n 256 ORD (STRING #"\^A" s)
</pre>

<DT><span class="strong">word_ptree_TY_DEF</span>
<DD>
<pre>
‚ä¢ ‚àÉrep.
    TYPE_DEFINITION
      (Œªa0'.
           ‚àÄ $var$('word_ptree').
             (‚àÄa0'.
                (‚àÉa0 a1.
                   a0' =
                   (Œªa0 a1. ind_type$CONSTR 0 (a0,a1) (Œªn. ind_type$BOTTOM))
                     a0 a1) ‚áí
                $var$('word_ptree') a0') ‚áí
             $var$('word_ptree') a0') rep
</pre>

<DT><span class="strong">word_ptree_case_def</span>
<DD>
<pre>
‚ä¢ ‚àÄa0 a1 f. word_ptree_CASE (Word_ptree a0 a1) f = f a0 a1
</pre>

<DT><span class="strong">word_ptree_size_def</span>
<DD>
<pre>
‚ä¢ ‚àÄf f1 a0 a1. word_ptree_size f f1 (Word_ptree a0 a1) = 1 + ptree_size f1 a1
</pre>

</DL>


<hr>

<hr>
<h1>Theorems</h1>
<DL>
<DT><span class="strong">ADD_INSERT_STRING</span>
<DD>
<pre>
‚ä¢ ‚àÄw v t. t |+ (w,v) = t |+ (w,())
</pre>

<DT><span class="strong">ADD_INSERT_WORD</span>
<DD>
<pre>
‚ä¢ ‚àÄw v t. t |+ (w,v) = t |+ (w,())
</pre>

<DT><span class="strong">EVERY_MAP_ORD</span>
<DD>
<pre>
‚ä¢ ‚àÄl. EVERY ($> 256) (MAP ORD l)
</pre>

<DT><span class="strong">IMAGE_string_to_num</span>
<DD>
<pre>
‚ä¢ ‚àÄn. (n = 1) ‚à® 256 ‚â§ n ‚àß (n DIV 256 ** LOG 256 n = 1) ‚áî
      n ‚àà IMAGE string_to_num ùïå(:string)
</pre>

<DT><span class="strong">MAP_11</span>
<DD>
<pre>
‚ä¢ ‚àÄf l1 l2.
    (‚àÄx y. (f x = f y) ‚áî (x = y)) ‚áí ((MAP f l1 = MAP f l2) ‚áî (l1 = l2))
</pre>

<DT><span class="strong">REVERSE_11</span>
<DD>
<pre>
‚ä¢ ‚àÄl1 l2. (REVERSE l1 = REVERSE l2) ‚áî (l1 = l2)
</pre>

<DT><span class="strong">THE_PTREE_SOME_PTREE</span>
<DD>
<pre>
‚ä¢ ‚àÄt. THE_PTREE (SOME_PTREE t) = t
</pre>

<DT><span class="strong">datatype_word_ptree</span>
<DD>
<pre>
‚ä¢ DATATYPE (word_ptree Word_ptree)
</pre>

<DT><span class="strong">num_to_string_string_to_num</span>
<DD>
<pre>
‚ä¢ ‚àÄs. num_to_string (string_to_num s) = s
</pre>

<DT><span class="strong">string_to_num_11</span>
<DD>
<pre>
‚ä¢ ‚àÄs t. (string_to_num s = string_to_num t) ‚áî (s = t)
</pre>

<DT><span class="strong">string_to_num_num_to_string</span>
<DD>
<pre>
‚ä¢ ‚àÄn. n ‚àà IMAGE string_to_num ùïå(:string) ‚áí
      (string_to_num (num_to_string n) = n)
</pre>

<DT><span class="strong">word_ptree_11</span>
<DD>
<pre>
‚ä¢ ‚àÄa0 a1 a0' a1'.
    (Word_ptree a0 a1 = Word_ptree a0' a1') ‚áî (a0 = a0') ‚àß (a1 = a1')
</pre>

<DT><span class="strong">word_ptree_Axiom</span>
<DD>
<pre>
‚ä¢ ‚àÄf. ‚àÉfn. ‚àÄa0 a1. fn (Word_ptree a0 a1) = f a0 a1
</pre>

<DT><span class="strong">word_ptree_case_cong</span>
<DD>
<pre>
‚ä¢ ‚àÄM M' f.
    (M = M') ‚àß (‚àÄa0 a1. (M' = Word_ptree a0 a1) ‚áí (f a0 a1 = f' a0 a1)) ‚áí
    (word_ptree_CASE M f = word_ptree_CASE M' f')
</pre>

<DT><span class="strong">word_ptree_case_eq</span>
<DD>
<pre>
‚ä¢ (word_ptree_CASE x f = v) ‚áî ‚àÉf' p. (x = Word_ptree f' p) ‚àß (f f' p = v)
</pre>

<DT><span class="strong">word_ptree_induction</span>
<DD>
<pre>
‚ä¢ ‚àÄP. (‚àÄf p. P (Word_ptree f p)) ‚áí ‚àÄw. P w
</pre>

<DT><span class="strong">word_ptree_nchotomy</span>
<DD>
<pre>
‚ä¢ ‚àÄww. ‚àÉf p. ww = Word_ptree f p
</pre>

</DL>



<hr>
</body>
</html>
